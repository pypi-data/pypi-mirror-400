# This file was auto-generated by Fern from our API Definition.

import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.add_cost_line_batch_response import AddCostLineBatchResponse
from ..types.bind_cost_line_response import BindCostLineResponse
from ..types.cost_line_cadence import CostLineCadence
from ..types.cost_line_type import CostLineType
from ..types.create_cost_line_request import CreateCostLineRequest
from ..types.delete_cost_line_response import DeleteCostLineResponse
from ..types.generic_id import GenericId
from ..types.list_costs_normalized_response import ListCostsNormalizedResponse
from ..types.unbind_cost_line_response import UnbindCostLineResponse
from ..types.update_cost_line_response import UpdateCostLineResponse
from .raw_client import AsyncRawCostsClient, RawCostsClient

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class CostsClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawCostsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawCostsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawCostsClient
        """
        return self._raw_client

    def add_cost_line_batch(
        self,
        *,
        requests: typing.Sequence[CreateCostLineRequest],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AddCostLineBatchResponse:
        """
        Parameters
        ----------
        requests : typing.Sequence[CreateCostLineRequest]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AddCostLineBatchResponse
            Batch cost lines added successfully

        Examples
        --------
        from trebellar import CreateCostLineRequest, TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.costs.add_cost_line_batch(
            requests=[
                CreateCostLineRequest(
                    name=" Utilities",
                    cadence="COST_LINE_CADENCE_ONE_TIME",
                    type="COST_LINE_TYPE_ACTUAL",
                    period_start_at=1756710000000.0,
                    period_end_at=1759215600000.0,
                    value=5170.0,
                    category="facilities.utilities",
                    currency="USD",
                    asset_ids=["eid:sfo_001"],
                )
            ],
        )
        """
        _response = self._raw_client.add_cost_line_batch(requests=requests, request_options=request_options)
        return _response.data

    def list_costs(
        self,
        *,
        period_start_at: str,
        period_end_at: str,
        from_asset_ids: typing.Optional[str] = None,
        max_depth: typing.Optional[str] = None,
        category_path: typing.Optional[str] = None,
        cadence: typing.Optional[CostLineCadence] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListCostsNormalizedResponse:
        """
        Parameters
        ----------
        period_start_at : str

        period_end_at : str

        from_asset_ids : typing.Optional[str]

        max_depth : typing.Optional[str]

        category_path : typing.Optional[str]

        cadence : typing.Optional[CostLineCadence]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListCostsNormalizedResponse
            Normalized costs returned successfully

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.costs.list_costs(
            period_start_at="periodStartAt",
            period_end_at="periodEndAt",
        )
        """
        _response = self._raw_client.list_costs(
            period_start_at=period_start_at,
            period_end_at=period_end_at,
            from_asset_ids=from_asset_ids,
            max_depth=max_depth,
            category_path=category_path,
            cadence=cadence,
            request_options=request_options,
        )
        return _response.data

    def delete_cost_line(
        self, *, id: GenericId, request_options: typing.Optional[RequestOptions] = None
    ) -> DeleteCostLineResponse:
        """
        Parameters
        ----------
        id : GenericId
            A unique identifier for an asset. Can be an AssetId or an ExternalId. ExternalIds are denoted by the "eid:" prefix.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeleteCostLineResponse
            Costs line deleted successfully

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.costs.delete_cost_line(
            id="eid:sfo-001",
        )
        """
        _response = self._raw_client.delete_cost_line(id=id, request_options=request_options)
        return _response.data

    def update_cost_line(
        self,
        *,
        id: GenericId,
        name: typing.Optional[str] = OMIT,
        cadence: typing.Optional[CostLineCadence] = OMIT,
        type: typing.Optional[CostLineType] = OMIT,
        period_start_at: typing.Optional[float] = OMIT,
        period_end_at: typing.Optional[float] = OMIT,
        value: typing.Optional[float] = OMIT,
        notes: typing.Optional[str] = OMIT,
        currency: typing.Optional[str] = OMIT,
        category: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UpdateCostLineResponse:
        """
        Parameters
        ----------
        id : GenericId
            A unique identifier for an asset. Can be an AssetId or an ExternalId. ExternalIds are denoted by the "eid:" prefix.

        name : typing.Optional[str]

        cadence : typing.Optional[CostLineCadence]

        type : typing.Optional[CostLineType]

        period_start_at : typing.Optional[float]

        period_end_at : typing.Optional[float]

        value : typing.Optional[float]

        notes : typing.Optional[str]

        currency : typing.Optional[str]

        category : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpdateCostLineResponse
            Cost line updated successfully

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.costs.update_cost_line(
            id="eid:sfo-001",
            value=5170.0,
            category="facilities.utilities",
        )
        """
        _response = self._raw_client.update_cost_line(
            id=id,
            name=name,
            cadence=cadence,
            type=type,
            period_start_at=period_start_at,
            period_end_at=period_end_at,
            value=value,
            notes=notes,
            currency=currency,
            category=category,
            request_options=request_options,
        )
        return _response.data

    def bind_cost_line(
        self, *, id: str, asset_ids: typing.Sequence[str], request_options: typing.Optional[RequestOptions] = None
    ) -> BindCostLineResponse:
        """
        Parameters
        ----------
        id : str

        asset_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        BindCostLineResponse
            Cost line bound successfully

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.costs.bind_cost_line(
            id="id",
            asset_ids=["eid:sfo_001"],
        )
        """
        _response = self._raw_client.bind_cost_line(id=id, asset_ids=asset_ids, request_options=request_options)
        return _response.data

    def unbind_cost_line(
        self, *, id: str, asset_ids: typing.Sequence[str], request_options: typing.Optional[RequestOptions] = None
    ) -> UnbindCostLineResponse:
        """
        Parameters
        ----------
        id : str

        asset_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UnbindCostLineResponse
            Cost line bound successfully

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.costs.unbind_cost_line(
            id="id",
            asset_ids=["eid:sfo_001"],
        )
        """
        _response = self._raw_client.unbind_cost_line(id=id, asset_ids=asset_ids, request_options=request_options)
        return _response.data


class AsyncCostsClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawCostsClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawCostsClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawCostsClient
        """
        return self._raw_client

    async def add_cost_line_batch(
        self,
        *,
        requests: typing.Sequence[CreateCostLineRequest],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AddCostLineBatchResponse:
        """
        Parameters
        ----------
        requests : typing.Sequence[CreateCostLineRequest]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AddCostLineBatchResponse
            Batch cost lines added successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi, CreateCostLineRequest

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.costs.add_cost_line_batch(
                requests=[
                    CreateCostLineRequest(
                        name=" Utilities",
                        cadence="COST_LINE_CADENCE_ONE_TIME",
                        type="COST_LINE_TYPE_ACTUAL",
                        period_start_at=1756710000000.0,
                        period_end_at=1759215600000.0,
                        value=5170.0,
                        category="facilities.utilities",
                        currency="USD",
                        asset_ids=["eid:sfo_001"],
                    )
                ],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.add_cost_line_batch(requests=requests, request_options=request_options)
        return _response.data

    async def list_costs(
        self,
        *,
        period_start_at: str,
        period_end_at: str,
        from_asset_ids: typing.Optional[str] = None,
        max_depth: typing.Optional[str] = None,
        category_path: typing.Optional[str] = None,
        cadence: typing.Optional[CostLineCadence] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> ListCostsNormalizedResponse:
        """
        Parameters
        ----------
        period_start_at : str

        period_end_at : str

        from_asset_ids : typing.Optional[str]

        max_depth : typing.Optional[str]

        category_path : typing.Optional[str]

        cadence : typing.Optional[CostLineCadence]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListCostsNormalizedResponse
            Normalized costs returned successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.costs.list_costs(
                period_start_at="periodStartAt",
                period_end_at="periodEndAt",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_costs(
            period_start_at=period_start_at,
            period_end_at=period_end_at,
            from_asset_ids=from_asset_ids,
            max_depth=max_depth,
            category_path=category_path,
            cadence=cadence,
            request_options=request_options,
        )
        return _response.data

    async def delete_cost_line(
        self, *, id: GenericId, request_options: typing.Optional[RequestOptions] = None
    ) -> DeleteCostLineResponse:
        """
        Parameters
        ----------
        id : GenericId
            A unique identifier for an asset. Can be an AssetId or an ExternalId. ExternalIds are denoted by the "eid:" prefix.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeleteCostLineResponse
            Costs line deleted successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.costs.delete_cost_line(
                id="eid:sfo-001",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_cost_line(id=id, request_options=request_options)
        return _response.data

    async def update_cost_line(
        self,
        *,
        id: GenericId,
        name: typing.Optional[str] = OMIT,
        cadence: typing.Optional[CostLineCadence] = OMIT,
        type: typing.Optional[CostLineType] = OMIT,
        period_start_at: typing.Optional[float] = OMIT,
        period_end_at: typing.Optional[float] = OMIT,
        value: typing.Optional[float] = OMIT,
        notes: typing.Optional[str] = OMIT,
        currency: typing.Optional[str] = OMIT,
        category: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UpdateCostLineResponse:
        """
        Parameters
        ----------
        id : GenericId
            A unique identifier for an asset. Can be an AssetId or an ExternalId. ExternalIds are denoted by the "eid:" prefix.

        name : typing.Optional[str]

        cadence : typing.Optional[CostLineCadence]

        type : typing.Optional[CostLineType]

        period_start_at : typing.Optional[float]

        period_end_at : typing.Optional[float]

        value : typing.Optional[float]

        notes : typing.Optional[str]

        currency : typing.Optional[str]

        category : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpdateCostLineResponse
            Cost line updated successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.costs.update_cost_line(
                id="eid:sfo-001",
                value=5170.0,
                category="facilities.utilities",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update_cost_line(
            id=id,
            name=name,
            cadence=cadence,
            type=type,
            period_start_at=period_start_at,
            period_end_at=period_end_at,
            value=value,
            notes=notes,
            currency=currency,
            category=category,
            request_options=request_options,
        )
        return _response.data

    async def bind_cost_line(
        self, *, id: str, asset_ids: typing.Sequence[str], request_options: typing.Optional[RequestOptions] = None
    ) -> BindCostLineResponse:
        """
        Parameters
        ----------
        id : str

        asset_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        BindCostLineResponse
            Cost line bound successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.costs.bind_cost_line(
                id="id",
                asset_ids=["eid:sfo_001"],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.bind_cost_line(id=id, asset_ids=asset_ids, request_options=request_options)
        return _response.data

    async def unbind_cost_line(
        self, *, id: str, asset_ids: typing.Sequence[str], request_options: typing.Optional[RequestOptions] = None
    ) -> UnbindCostLineResponse:
        """
        Parameters
        ----------
        id : str

        asset_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UnbindCostLineResponse
            Cost line bound successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.costs.unbind_cost_line(
                id="id",
                asset_ids=["eid:sfo_001"],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.unbind_cost_line(id=id, asset_ids=asset_ids, request_options=request_options)
        return _response.data
