import{B as n,a as t,u,e as s}from"./index-D87ilqMg.js";async function i(){const o=await fetch(`${n}/workflows`);if(!o.ok)throw new Error("Failed to fetch workflows");return o.json()}async function f(o){const e=await fetch(`${n}/workflows/${o}`);if(!e.ok)throw new Error("Failed to fetch workflow");return e.json()}async function l(o){const e=await fetch(`${n}/workflows`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok)throw new Error("Failed to create workflow");return e.json()}async function c(){const o=await fetch(`${n}/workflows/sync`,{method:"POST"});if(!o.ok)throw new Error("Failed to sync workflows");return o.json()}async function k(o,e){const r=await fetch(`${n}/workflows/${o}/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:e})});if(!r.ok)throw new Error("Failed to run workflow");return r.json()}async function y(o,e){const r=await fetch(`${n}/workflows/${o}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error("Failed to update workflow");return r.json()}async function d(o){if(!(await fetch(`${n}/workflows/${o}`,{method:"DELETE"})).ok)throw new Error("Failed to delete workflow")}function p(){return u({queryKey:["workflows"],queryFn:i})}function m(){const o=s();return t({mutationFn:c,onSuccess:()=>{o.invalidateQueries({queryKey:["workflows"]})}})}function F(o){return u({queryKey:["workflow",o],queryFn:()=>o?f(o):Promise.resolve(null),enabled:!!o})}function W(){return t({mutationFn:({id:o,inputs:e})=>k(o,e)})}function q(){const o=s();return t({mutationFn:l,onSuccess:()=>{o.invalidateQueries({queryKey:["workflows"]})}})}function C(){const o=s();return t({mutationFn:({id:e,data:r})=>{const{meta:a,...w}=r;return y(e,{...w,...a?{metadata:a}:{}})},onSuccess:e=>{o.invalidateQueries({queryKey:["workflows"]}),o.invalidateQueries({queryKey:["workflow",e.id]})}})}function E(){const o=s();return t({mutationFn:d,onSuccess:()=>{o.invalidateQueries({queryKey:["workflows"]})}})}export{F as a,W as b,C as c,q as d,E as e,m as f,p as u};
