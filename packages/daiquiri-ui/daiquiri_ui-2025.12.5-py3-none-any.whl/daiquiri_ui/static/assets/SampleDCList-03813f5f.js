import{r as o,j as s,p as n,E as i,dI as m,H as p,w as d,c as u,m as r,z as S,q as f,aw as g}from"./index-4cf586ed.js";import{S as h}from"./SavingButton-a220fa1e.js";function E(e){o.useEffect(()=>{e.actions.setParams({sampleid:e.currentSample})},[e.currentSample,e.actions]);const{operator:c,currentSample:a,sample:t,...l}=e;return s.jsx(n,{children:s.jsx(i,{children:s.jsxs("div",{className:"object",children:[s.jsxs("h5",{children:["Sample:"," ",e.currentSample?e.sample.name:"Create a sample first",s.jsx(m,{sampleid:e.currentSample,disabled:!e.operator}),s.jsx(h,{})]}),s.jsx(p,{pages:0,page:0,fetching:!1,per_page:0,total:0,filter:!0,scan:!0,...l,createScalarMap:!1,namespace:`sampledc${e.dcnamespace}`})]})})})}function C(e,c){const{datacollections:a,samples:t}=c.providers.metadata;return{operator:S.selector("operator",e),currentSample:r.selector("currentSample",e),sample:t.selector("results",e)[r.selector("currentSample",e)],datacollections:a.selector("ordered",e),dcnamespace:c.providers.metadata.datacollections.getNamespace(),namespace:a.getNamespace(),params:a.selector("params",e),per_page:a.selector("per_page",e),page:a.selector("page",e),total:a.selector("total",e),fetching:a.selector("fetching",e),selected:r.selector("selectedDataCollections",e)}}function x(e,c){const{datacollections:a}=c.providers.metadata;return{actions:{fetch:()=>a.fetch(),setParams:t=>a.setParams(t,!0),setPage:t=>a.setPage(t),setPageSize:t=>a.setPageSize(t),addSelection:t=>r.dispatch("SELECT_DATA_COLLECTION",t),removeSelection:t=>r.dispatch("UNSELECT_DATA_COLLECTION",t),resetSelection:()=>r.dispatch("RESET_DATA_COLLECTION_SELECTION")}}}const L=d({metadata:r})(u(C,x)(E));function j(e){const{providers:c,yamlNode:a,selectable:t,...l}=e;return f(a,l),g(a,"selectable",t),s.jsx(L,{providers:c,selectable:t})}export{j as default};
