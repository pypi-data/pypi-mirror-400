"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4372],{74351:function(e,n,t){var r,a,i,l,s,o=t(53649),c=t.n(o),d=t(82187),u=t.n(d),h=(t(75271),t(67585)),p=t(52676),g=h.ZP.div.attrs({className:"template-card-wrapper"})(r||(r=c()(["\n  overflow: hidden;\n  display: flex;\n  padding: 16px 20px;\n  justify-content: flex-start;\n  align-items: center;\n  border: 1px solid var(--ant-color-border);\n  border-radius: var(--border-radius-base);\n  cursor: default;\n  width: 100%;\n  &.clickable:hover:not(.disabled) {\n    background-color: var(--ant-color-fill-tertiary);\n    transition: background-color 0.2s ease;\n  }\n\n  &.hoverable:hover:not(.disabled) {\n    background-color: var(--ant-color-fill-tertiary);\n    transition: background-color 0.2s ease;\n  }\n\n  &.ghost {\n    background-color: transparent;\n  }\n\n  &.active {\n    background-color: var(--ant-color-fill-tertiary);\n  }\n\n  &.clickable:not(.disabled) {\n    cursor: pointer;\n  }\n  &.disabled {\n    cursor: default;\n    opacity: 0.6;\n    pointer-events: none;\n    border-style: dashed;\n  }\n"]))),x=h.ZP.div.attrs({className:"template-card-content"})(a||(a=c()(["\n  width: 100%;\n  flex: 1;\n  color: var(--ant-color-text-tertiary);\n"]))),m=h.ZP.div.attrs({className:"template-card-inner"})(i||(i=c()(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  justify-content: flex-start;\n  gap: 8px;\n  height: 100%;\n"]))),f=h.ZP.div.attrs({className:"template-card-icon"})(l||(l=c()(["\n  display: flex;\n  align-items: center;\n  margin-right: 16px;\n  font-size: 32px;\n"]))),v=h.ZP.div.attrs({className:"template-card-header"})(s||(s=c()(["\n  font-weight: bold;\n  font-size: var(--font-size-base);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"])));n.Z=function(e){var n=e.className,t=e.height,r=e.children,a=e.clickable,i=void 0===a||a,l=e.ghost,s=void 0!==l&&l,o=e.header,c=e.footer,d=e.icon,h=e.active,b=e.disabled,j=e.hoverable,y=e.onClick;return(0,p.jsxs)(g,{className:u()(n,{clickable:i,hoverable:j,active:h,disabled:b,ghost:s}),style:{height:t||"180px"},onClick:function(){!b&&i&&(null==y||y())},children:[d&&(0,p.jsx)(f,{children:d}),(0,p.jsxs)(m,{children:[o&&(0,p.jsx)(v,{children:o}),r&&(0,p.jsx)(x,{children:r}),c]})]})}},94213:function(e,n,t){t.d(n,{R:function(){return x}});var r,a=t(26068),i=t.n(a),l=t(67825),s=t.n(l),o=t(53649),c=t.n(o),d=t(72729),u=t(67585),h=t(52676),p=["children"],g=(0,u.ZP)(d._z)(r||(r=c()(["\n  .ant-affix {\n    top: 0 !important;\n    height: auto;\n  }\n  .ant-page-header {\n    padding-block-end: 8px;\n    .ant-page-header-heading {\n      padding-block-start: 0;\n    }\n  }\n  .ant-pro-page-container-warp-page-header {\n    padding-inline: ","px;\n  }\n  .ant-page-header-heading-title {\n    font-size: 16px;\n  }\n"])),32),x=function(e){var n=e.children,t=s()(e,p);return(0,h.jsx)(g,i()(i()({},t),{},{fixedHeader:!0,token:{paddingInlinePageContainerContent:32},children:n}))};n.Z=function(e){var n=e.children;return(0,h.jsx)("div",{children:n})}},17488:function(e,n,t){var r,a=t(53649),i=t.n(a),l=t(92829),s=t(84825),o=(t(75271),t(67585)),c=t(52676),d=(0,o.ZP)(s.Z)(r||(r=i()(["\n  .ant-breadcrumb-link {\n    font-size: 16px;\n    font-weight: 500;\n    a {\n      background: unset;\n    }\n  }\n  .ant-breadcrumb-separator {\n    display: flex;\n    align-items: center;\n  }\n"])));n.Z=function(e){var n=e.items;return(0,c.jsx)(d,{separator:(0,c.jsx)(l.Z,{type:"icon-down2",rotate:-90}),items:n})}},93981:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r,a=t(48305),i=t.n(a),l=t(53231),s=t(94213),o=t(17488),c=t(26068),d=t.n(c),u=t(90228),h=t.n(u),p=t(87999),g=t.n(p),x=t(53649),m=t.n(x),f=t(61163),v=t(74351),b=t(27441),j=t(77634),y=t(32699),Z=t.n(y),k=t(75271),w=t(67585),P=t(92047),C=t(27220),M=t(71656),A=t.n(M),z=t(52676),U={left:0},N=function(e){var n=e.data,t=e.metrics,r=e.metricsMap,a=e.title,i=(0,l.useIntl)(),s=(0,k.useMemo)((function(){var e=[],a=[];return{seriesData:Z().map(t,(function(t){var l=Z().get(r,t,{}),s=l.intl?i.formatMessage({id:l.label}):l.label;e.push(s);var o=Z().get(n,t,[]);return{name:s,color:l.color,data:Z().map(o,(function(e){return a.push(A()(1e3*e.timestamp).format("HH:mm:ss")),{time:A()(1e3*e.timestamp).format("HH:mm:ss"),value:Z().round(Z().get(e,"value",0),1)}}))}})),legendData:e,xAxisData:Z().uniq(a)}}),[n,i]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(C.Z,{height:320,title:a,showArea:!1,seriesData:s.seriesData,legendData:s.legendData,xAxisData:s.xAxisData,tooltipValueFormatter:function(e){return e?"".concat(e,"%"):e},smooth:!0,width:"100%",yAxisName:"(%)",titleOptions:U})})},R={cpu:{label:"CPU",type:"CPU",intl:!1,color:"rgba(250, 173, 20,.8)"},ram:{label:"RAM",type:"RAM",intl:!1,color:"rgba(114, 46, 209,.8)"},allocated:{label:"Allocated",type:"Allocated",intl:!1,color:"rgba(250, 173, 20,.8)"},gpu:{label:"GPU",type:"GPU",intl:!1,color:"rgba(84, 204, 152,.8)"},vram:{label:"VRAM",type:"VRAM",intl:!1,color:"rgba(255, 107, 179, 80%)"}},D=w.ZP.div(r||(r=m()(["\n  font-size: var(--font-size-middle);\n  font-weight: 700;\n  color: var(--ant-color-text);\n  margin-block: 24px 16px;\n"]))),S={textStyle:{color:"#000",fontSize:14,fontWeight:600},top:-5},H={radius:"100%",progress:{show:!0,roundCap:!1,width:8},axisLine:{roundCap:!1,lineStyle:{width:8,color:[[.5,"rgba(84, 204, 152, 80%)"],[.8,"rgba(250, 173, 20, 80%)"],[1,"rgba(255, 77, 79, 80%)"]]}}},V=function(e){return Z().round(e||0,1)},_=336,G=function(){var e=160,n=(0,l.useSearchParams)(),t=i()(n,1)[0],r=t.get("id"),a=(t.get("provider"),(0,k.useState)({current:{cpu:0,ram:0,gpu:0,vram:0},history:{}})),s=i()(a,2),o=s[0],c=s[1],u=function(){var e=g()(h()().mark((function e(){var n,t,a;return h()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,P.E_)({cluster_id:r});case 5:a=e.sent,c({current:null===(n=a.system_load)||void 0===n?void 0:n.current,history:null===(t=a.system_load)||void 0===t?void 0:t.history}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c({current:{cpu:0,ram:0,gpu:0,vram:0},history:{}});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,k.useEffect)((function(){r&&u()}),[r]),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{className:"chart-wrapper",children:(0,z.jsxs)(b.Z,{gutter:16,style:{width:"100%"},children:[(0,z.jsx)(j.Z,{span:6,children:(0,z.jsx)(f.Z,{title:d()({text:"GPU Utilization"},S),value:V(o.current.gpu),height:e,gaugeConfig:H})}),(0,z.jsx)(j.Z,{span:6,children:(0,z.jsx)(f.Z,{title:d()({text:"CPU Utilization"},S),value:V(o.current.cpu),height:e,gaugeConfig:H})}),(0,z.jsx)(j.Z,{span:6,children:(0,z.jsx)(f.Z,{title:d()({text:"RAM Utilization"},S),value:V(o.current.ram),height:e,gaugeConfig:H})}),(0,z.jsx)(j.Z,{span:6,children:(0,z.jsx)(f.Z,{title:d()({text:"VRAM Utilization"},S),value:V(o.current.vram),height:e,gaugeConfig:H})})]})}),(0,z.jsx)(D,{children:"System Load"}),(0,z.jsxs)(b.Z,{style:{marginBottom:16},gutter:16,children:[(0,z.jsx)(j.Z,{span:12,children:(0,z.jsx)(v.Z,{height:_,clickable:!1,ghost:!0,children:(0,z.jsx)(N,{data:null==o?void 0:o.history,metrics:["vram"],metricsMap:R,title:"VRAM"})})}),(0,z.jsx)(j.Z,{span:12,children:(0,z.jsx)(v.Z,{height:_,clickable:!1,ghost:!0,children:(0,z.jsx)(N,{data:null==o?void 0:o.history,metrics:["ram"],metricsMap:R,title:"RAM"})})})]}),(0,z.jsxs)(b.Z,{gutter:16,children:[(0,z.jsx)(j.Z,{span:12,children:(0,z.jsx)(v.Z,{height:_,clickable:!1,ghost:!0,children:(0,z.jsx)(N,{data:null==o?void 0:o.history,metrics:["cpu"],metricsMap:R,title:"CPU"})})}),(0,z.jsx)(j.Z,{span:12,children:(0,z.jsx)(v.Z,{height:_,clickable:!1,ghost:!0,children:(0,z.jsx)(N,{data:null==o?void 0:o.history,metrics:["gpu"],metricsMap:R,title:"GPU"})})})]})]})},I=function(){var e=(0,l.useNavigate)(),n=(0,l.useIntl)(),t=(0,l.useSearchParams)(),r=i()(t,1)[0],a=(r.get("provider"),r.get("name")),c=[{title:(0,z.jsx)("a",{children:n.formatMessage({id:"clusters.title"})}),onClick:function(){return e(-1)}},{title:a}];return(0,z.jsx)(s.R,{header:{title:(0,z.jsx)(o.Z,{items:c})},children:(0,z.jsx)(G,{})})}}}]);