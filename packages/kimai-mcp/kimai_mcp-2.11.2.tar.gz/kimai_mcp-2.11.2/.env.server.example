# Kimai MCP Remote Server Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# SERVER TYPES
# =============================================================================
#
# There are two server types:
#
# 1. STREAMABLE HTTP SERVER (NEW - v2.8.0+) - kimai-mcp-streamable
#    - For Claude.ai Connectors (web/mobile)
#    - Uses config/users.json for user credentials
#    - Each user gets endpoint: /mcp/{username}
#
# 2. SSE SERVER (LEGACY) - kimai-mcp-server
#    - For Claude Desktop remote connections
#    - Per-client authentication via headers
#    - Each client sends own Kimai token
#
# =============================================================================


# =============================================================================
# STREAMABLE HTTP SERVER CONFIG (v2.8.0+)
# =============================================================================

# Path to users.json config file (for kimai-mcp-streamable)
# This file contains pre-configured user credentials
# See config/users.example.json for format
# USERS_CONFIG_FILE=/app/config/users.json


# =============================================================================
# SSE SERVER CONFIG (Legacy)
# =============================================================================
#
# This server uses PER-CLIENT authentication. Each user provides their OWN
# Kimai API token when connecting. The server does NOT store Kimai credentials.
#
# Benefits:
# - Individual user permissions and access control
# - Auditable actions per user
# - No shared credentials
# - Enhanced security and compliance
#
# =============================================================================


# =============================================================================
# OPTIONAL: MCP Server Authentication Token
# =============================================================================

# Authentication token for MCP server access (required by all clients)
# If not set, a random token will be generated and shown in logs
# IMPORTANT: All clients need this token to connect to the server
# MCP_SERVER_TOKEN=your-secure-random-token-here


# =============================================================================
# OPTIONAL: Default Kimai URL
# =============================================================================

# Default Kimai server URL (clients can override with X-Kimai-URL header)
# This is optional - clients can provide their own Kimai URL
# Useful when all users connect to the same Kimai instance
# DEFAULT_KIMAI_URL=https://your-kimai-instance.com


# =============================================================================
# OPTIONAL: SSL/TLS Settings
# =============================================================================

# SSL verification for Kimai connections
# Options: true (default), false, or path to CA certificate file
# KIMAI_SSL_VERIFY=true

# If using custom CA certificate:
# KIMAI_SSL_VERIFY=/app/certs/ca-bundle.crt


# =============================================================================
# OPTIONAL: Server Configuration
# =============================================================================

# Port to expose the server on (default: 8000)
# SERVER_PORT=8000

# Host to bind to (default: 0.0.0.0 in Docker)
# Not needed when using Docker, but useful for local development
# SERVER_HOST=0.0.0.0
