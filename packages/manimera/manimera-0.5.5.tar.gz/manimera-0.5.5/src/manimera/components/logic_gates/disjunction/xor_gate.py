# ======================================================================================================================
# IMPORTS
# ======================================================================================================================

# STANDARD IMPORTS =====================================================================================================

from typing import *

# THIRD PARTY IMPORTS ==================================================================================================

from manim import *

# MANIMERA IMPORTS =====================================================================================================

from manimera.components.logic_gates.disjunction.base import DisjunctionBase

# ======================================================================================================================
# XOR CLASS
# ======================================================================================================================


class XOR(DisjunctionBase):
    def __init__(self, input_ports: int = 2):
        super().__init__(input_ports=input_ports, exclusive=True, negated=False)

    def _evaluate(self) -> float:
        """
        Abstract method to evaluate the gate.
        """
        non_zero_values = [value.get_value() for value in self.input_port_signal_values if value.get_value() != 0]
        return max(non_zero_values) if len(non_zero_values) % 2 == 1 else 0.0


# ==================================================================================================================
# XOR CLASS END
# ==================================================================================================================
