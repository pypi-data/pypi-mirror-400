import"./_initCloneObject-w666mXAM.js";import"./_baseClone-BEd4hvTE.js";import"./clone-BmyFpy2t.js";import{n as e,r as t,t as n}from"./css-CzALU0nX.js";import{$r as r,Br as i,Ir as a,Qr as o,Sr as s,a as c,ai as l,dr as u,hr as d,qn as f,qr as p,r as m,tr as h,vr as g,xr as _}from"./index-EnPYNmIz.js";var v={class:`min-h-[calc(100vh-16rem)] flex items-center justify-center`},y={class:`w-full max-w-md bg-white dark:bg-gray-900 rounded-lg shadow-md p-8 border border-gray-200 dark:border-gray-800`},b={class:`mt-4 text-center text-sm text-gray-600 dark:text-gray-400`},x={__name:`register`,setup(x){let S=h(),C=f(),w=r(null),T=r(!1),E=o({username:``,email:``,password:``}),D={username:[{required:!0,message:`Please enter username`,trigger:`blur`},{min:3,message:`Username must be at least 3 characters`,trigger:`blur`}],email:[{required:!0,message:`Please enter email`,trigger:`blur`},{type:`email`,message:`Please enter valid email`,trigger:`blur`}],password:[{required:!0,message:`Please enter password`,trigger:`blur`},{min:6,message:`Password must be at least 6 characters`,trigger:`blur`}]};async function O(){w.value&&await w.value.validate(async e=>{if(e){T.value=!0;try{let e=await C.register(E);m.success(e.message||`Registration successful`),e.email_verified?(await C.login({username:E.username,password:E.password}),S.push(`/`)):S.push(`/login`)}catch(e){m.error(e.response?.data?.detail||`Registration failed`)}finally{T.value=!1}}})}return(r,o)=>{let f=t,m=e,h=c,x=n,S=i(`router-link`);return a(),g(`div`,v,[d(`div`,y,[o[6]||=d(`h1`,{class:`text-2xl font-bold mb-6 text-center text-gray-900 dark:text-gray-100`},` Create Account `,-1),s(x,{ref_key:`formRef`,ref:w,model:l(E),rules:D,"label-position":`top`,onSubmit:u(O,[`prevent`])},{default:p(()=>[s(m,{label:`Username`,prop:`username`},{default:p(()=>[s(f,{modelValue:l(E).username,"onUpdate:modelValue":o[0]||=e=>l(E).username=e,placeholder:`Choose a username`,size:`large`},null,8,[`modelValue`])]),_:1}),s(m,{label:`Email`,prop:`email`},{default:p(()=>[s(f,{modelValue:l(E).email,"onUpdate:modelValue":o[1]||=e=>l(E).email=e,type:`email`,placeholder:`your@email.com`,size:`large`},null,8,[`modelValue`])]),_:1}),s(m,{label:`Password`,prop:`password`},{default:p(()=>[s(f,{modelValue:l(E).password,"onUpdate:modelValue":o[2]||=e=>l(E).password=e,type:`password`,placeholder:`Create a password`,size:`large`,"show-password":``},null,8,[`modelValue`])]),_:1}),s(h,{type:`primary`,size:`large`,class:`w-full`,loading:l(T),onClick:O},{default:p(()=>[...o[3]||=[_(` Sign Up `,-1)]]),_:1},8,[`loading`])]),_:1},8,[`model`]),d(`div`,b,[o[5]||=_(` Already have an account? `,-1),s(S,{to:`/login`,class:`text-blue-500 dark:text-blue-400 hover:underline`},{default:p(()=>[...o[4]||=[_(` Login `,-1)]]),_:1})])])])}}};export{x as default};