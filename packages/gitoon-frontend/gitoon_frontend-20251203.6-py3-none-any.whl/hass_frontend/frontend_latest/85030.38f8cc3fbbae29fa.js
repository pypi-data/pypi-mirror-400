export const __webpack_id__="85030";export const __webpack_ids__=["85030"];export const __webpack_modules__={67013:function(t,e,i){i.d(e,{e:()=>s});const s=t=>`/api/image_proxy/${t.entity_id}?token=${t.attributes.access_token}&state=${t.state}`},17022:function(t,e,i){i.d(e,{A1:()=>s,CY:()=>n,Fn:()=>a,Jz:()=>_,St:()=>c,VA:()=>r,WI:()=>d,iY:()=>h,xw:()=>o});const s=(t,e)=>t.callWS({type:"media_source/resolve_media",media_content_id:e}),a=(t,e)=>t.callWS({type:"media_source/browse_media",media_content_id:e}),o="__MANUAL_ENTRY__",n=t=>t.startsWith(o),c=t=>t.startsWith("media-source://"),_=t=>t.startsWith("media-source://media_source"),h=t=>t.startsWith("media-source://image_upload"),r=async(t,e,i)=>{const s=new FormData;s.append("media_content_id",e),s.append("file",i);const a=await t.fetchWithAuth("/api/media_source/local_source/upload",{method:"POST",body:s});if(413===a.status)throw new Error(`Uploaded file is too large (${i.name})`);if(200!==a.status)throw new Error("Unknown error");return a.json()},d=async(t,e)=>t.callWS({type:"media_source/local_source/remove",media_content_id:e})},30789:function(t,e,i){i.r(e),i.d(e,{HuiPictureCard:()=>p});var s=i(62826),a=i(96196),o=i(44457),n=i(94333),c=i(32288),_=i(42372),h=i(71727),r=(i(76776),i(67013)),d=i(19037),g=i(37544),m=i(97176),l=i(784),f=i(85979),u=i(17022);class p extends a.WF{static async getConfigElement(){return await Promise.all([i.e("44533"),i.e("92769"),i.e("34326"),i.e("44966"),i.e("48654"),i.e("39607"),i.e("66215"),i.e("91930"),i.e("80445"),i.e("9497"),i.e("71572"),i.e("12881"),i.e("87367")]).then(i.bind(i,75930)),document.createElement("hui-picture-card-editor")}static getStubConfig(){return{type:"picture",image:"https://demo.home-assistant.io/stub_config/t-shirt-promo.png"}}getCardSize(){return 5}setConfig(t){if(!t||!t.image&&!t.image_entity)throw new Error("Image required");this._config={tap_action:{action:"more-info"},...t}}shouldUpdate(t){if(!this._config||(0,l.xP)(this,t)||t.has("_resolvedImage"))return!0;if(this._config.image_entity&&t.has("hass")){const e=t.get("hass");if(!e||e.states[this._config.image_entity]!==this.hass.states[this._config.image_entity])return!0}return!1}willUpdate(t){if(super.willUpdate(t),!this._config||!this.hass)return;const e=t.has("hass")&&void 0===t.get("hass"),i=t.has("_config")&&t.get("_config")?.image!==this._config?.image,s="object"==typeof this._config?.image&&this._config.image.media_content_id||this._config.image;(e||i)&&"string"==typeof s&&(0,u.St)(s)?(this._resolvedImage=void 0,(0,u.A1)(this.hass,s).then(t=>{this._resolvedImage=t.url})):i&&(this._resolvedImage=s)}updated(t){if(super.updated(t),!this._config||!this.hass)return;const e=t.get("hass"),i=t.get("_config");e&&i&&e.themes===this.hass.themes&&i.theme===this._config.theme||(0,_.Q)(this,this.hass.themes,this._config.theme)}render(){if(!this._config||!this.hass)return a.s6;let t;if(this._config.image_entity&&(t=this.hass.states[this._config.image_entity],!t))return a.qy`<hui-warning .hass="${this.hass}"> ${(0,f.j)(this.hass,this._config.image_entity)} </hui-warning>`;let e=this._resolvedImage;if(this._config.image_entity){switch((0,h.m)(this._config.image_entity)){case"image":e=(0,r.e)(t);break;case"person":t.attributes.entity_picture&&(e=t.attributes.entity_picture)}}return void 0===e?a.s6:a.qy` <ha-card @action="${this._handleAction}" .actionHandler="${(0,d.T)({hasHold:(0,m.h)(this._config.hold_action),hasDoubleClick:(0,m.h)(this._config.double_tap_action)})}" tabindex="${(0,c.J)((0,m.h)(this._config.tap_action)||this._config.image_entity?"0":void 0)}" class="${(0,n.H)({clickable:Boolean(this._config.image_entity&&!this._config.tap_action||this._config.tap_action&&"none"!==this._config.tap_action.action||this._config.hold_action&&"none"!==this._config.hold_action.action||this._config.double_tap_action&&"none"!==this._config.double_tap_action.action)})}"> <img alt="${(0,c.J)(this._config.alt_text||t?.attributes.friendly_name)}" src="${this.hass.hassUrl(e)}"> </ha-card> `}_handleAction(t){(0,g.$)(this,this.hass,this._config,t.detail.action)}}p.styles=a.AH`ha-card{overflow:hidden;height:100%}ha-card.clickable{cursor:pointer}img{display:block;width:100%}`,(0,s.__decorate)([(0,o.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,s.__decorate)([(0,o.wk)()],p.prototype,"_config",void 0),(0,s.__decorate)([(0,o.wk)()],p.prototype,"_resolvedImage",void 0),p=(0,s.__decorate)([(0,o.EM)("hui-picture-card")],p)}};
//# sourceMappingURL=85030.38f8cc3fbbae29fa.js.map