# This file was auto-generated by Fern from our API Definition.

import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.add_people_group_members_batch_response import AddPeopleGroupMembersBatchResponse
from ..types.asset_id import AssetId
from ..types.delete_people_asset_batch_response import DeletePeopleAssetBatchResponse
from ..types.delete_people_batch_response import DeletePeopleBatchResponse
from ..types.list_people_response import ListPeopleResponse
from ..types.people_input import PeopleInput
from ..types.remove_people_group_members_batch_response import RemovePeopleGroupMembersBatchResponse
from ..types.upsert_people_asset_batch_response import UpsertPeopleAssetBatchResponse
from ..types.upsert_people_batch_response import UpsertPeopleBatchResponse
from .raw_client import AsyncRawPeopleClient, RawPeopleClient

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class PeopleClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawPeopleClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawPeopleClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawPeopleClient
        """
        return self._raw_client

    def list_people(
        self, *, for_asset_ids: typing.Optional[str] = None, request_options: typing.Optional[RequestOptions] = None
    ) -> ListPeopleResponse:
        """
        Retrieve a list of people with optional filtering by asset assignments. Use the forAssetIds parameter to filter people who are assigned to specific assets (desks, spaces, etc.). Returns complete employee profiles including contact information, employment status, group memberships, and current asset assignments.

        Parameters
        ----------
        for_asset_ids : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListPeopleResponse
            People list retrieved successfully with complete profiles and asset assignments

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.people.list_people()
        """
        _response = self._raw_client.list_people(for_asset_ids=for_asset_ids, request_options=request_options)
        return _response.data

    def upsert_people_batch(
        self, *, people: typing.Sequence[PeopleInput], request_options: typing.Optional[RequestOptions] = None
    ) -> UpsertPeopleBatchResponse:
        """
        Create new people or update existing employee records in a single batch operation. Use this for HR system integrations, bulk imports, or synchronized employee data updates. Each person record can include employment details, contact information, and initial group assignments. Existing people are matched by ID and updated; new records without IDs are created.

        Parameters
        ----------
        people : typing.Sequence[PeopleInput]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpsertPeopleBatchResponse
            All people records processed successfully - existing employees updated and new employees created

        Examples
        --------
        from trebellar import PeopleInput, TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.people.upsert_people_batch(
            people=[
                PeopleInput(
                    external_id="EMP001",
                    name="Jane Smith",
                    employment_status="active",
                ),
                PeopleInput(
                    id="emp_existing_123",
                    name="John Updated",
                    employment_status="active",
                ),
            ],
        )
        """
        _response = self._raw_client.upsert_people_batch(people=people, request_options=request_options)
        return _response.data

    def delete_people_batch(
        self, *, people_ids: typing.Sequence[str], request_options: typing.Optional[RequestOptions] = None
    ) -> DeletePeopleBatchResponse:
        """
        Permanently remove multiple employee records by their IDs. This operation also removes all associated asset assignments and group memberships. Use with caution as this action cannot be undone. Consider updating employment status to inactive instead of deletion for audit trail purposes.

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeletePeopleBatchResponse
            All specified people records deleted successfully along with their assignments

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.people.delete_people_batch(
            people_ids=["peopleIds"],
        )
        """
        _response = self._raw_client.delete_people_batch(people_ids=people_ids, request_options=request_options)
        return _response.data

    def upsert_people_asset_batch(
        self,
        *,
        people_ids: typing.Sequence[str],
        asset_ids: typing.Sequence[AssetId],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UpsertPeopleAssetBatchResponse:
        """
        Create or update assignments between employees and workspace assets (desks, spaces, etc.). This is typically used for desk assignments, office allocations, or space reservations. Each person can be assigned to multiple assets, and assets can have multiple people assigned (depending on capacity).

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        asset_ids : typing.Sequence[AssetId]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpsertPeopleAssetBatchResponse
            All people successfully assigned to the specified assets

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.people.upsert_people_asset_batch(
            people_ids=["peopleIds"],
            asset_ids=["st_sf_tower_01"],
        )
        """
        _response = self._raw_client.upsert_people_asset_batch(
            people_ids=people_ids, asset_ids=asset_ids, request_options=request_options
        )
        return _response.data

    def delete_people_asset_batch(
        self,
        *,
        people_ids: typing.Sequence[str],
        asset_ids: typing.Sequence[AssetId],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> DeletePeopleAssetBatchResponse:
        """
        Remove associations between people and assets

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        asset_ids : typing.Sequence[AssetId]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeletePeopleAssetBatchResponse
            People-asset associations deleted successfully

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.people.delete_people_asset_batch(
            people_ids=["peopleIds"],
            asset_ids=["st_sf_tower_01"],
        )
        """
        _response = self._raw_client.delete_people_asset_batch(
            people_ids=people_ids, asset_ids=asset_ids, request_options=request_options
        )
        return _response.data

    def add_people_group_members_batch(
        self,
        *,
        people_ids: typing.Sequence[str],
        group_ids: typing.Sequence[str],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AddPeopleGroupMembersBatchResponse:
        """
        Add people as members to multiple groups

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        group_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AddPeopleGroupMembersBatchResponse
            People added to groups successfully

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.people.add_people_group_members_batch(
            people_ids=["peopleIds"],
            group_ids=["groupIds"],
        )
        """
        _response = self._raw_client.add_people_group_members_batch(
            people_ids=people_ids, group_ids=group_ids, request_options=request_options
        )
        return _response.data

    def remove_people_group_members_batch(
        self,
        *,
        people_ids: typing.Sequence[str],
        group_ids: typing.Sequence[str],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> RemovePeopleGroupMembersBatchResponse:
        """
        Remove people as members from multiple groups

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        group_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RemovePeopleGroupMembersBatchResponse
            People removed from groups successfully

        Examples
        --------
        from trebellar import TrebellarApi

        client = TrebellarApi(
            api_key="YOUR_API_KEY",
        )
        client.people.remove_people_group_members_batch(
            people_ids=["peopleIds"],
            group_ids=["groupIds"],
        )
        """
        _response = self._raw_client.remove_people_group_members_batch(
            people_ids=people_ids, group_ids=group_ids, request_options=request_options
        )
        return _response.data


class AsyncPeopleClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawPeopleClient(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawPeopleClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawPeopleClient
        """
        return self._raw_client

    async def list_people(
        self, *, for_asset_ids: typing.Optional[str] = None, request_options: typing.Optional[RequestOptions] = None
    ) -> ListPeopleResponse:
        """
        Retrieve a list of people with optional filtering by asset assignments. Use the forAssetIds parameter to filter people who are assigned to specific assets (desks, spaces, etc.). Returns complete employee profiles including contact information, employment status, group memberships, and current asset assignments.

        Parameters
        ----------
        for_asset_ids : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        ListPeopleResponse
            People list retrieved successfully with complete profiles and asset assignments

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.people.list_people()


        asyncio.run(main())
        """
        _response = await self._raw_client.list_people(for_asset_ids=for_asset_ids, request_options=request_options)
        return _response.data

    async def upsert_people_batch(
        self, *, people: typing.Sequence[PeopleInput], request_options: typing.Optional[RequestOptions] = None
    ) -> UpsertPeopleBatchResponse:
        """
        Create new people or update existing employee records in a single batch operation. Use this for HR system integrations, bulk imports, or synchronized employee data updates. Each person record can include employment details, contact information, and initial group assignments. Existing people are matched by ID and updated; new records without IDs are created.

        Parameters
        ----------
        people : typing.Sequence[PeopleInput]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpsertPeopleBatchResponse
            All people records processed successfully - existing employees updated and new employees created

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi, PeopleInput

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.people.upsert_people_batch(
                people=[
                    PeopleInput(
                        external_id="EMP001",
                        name="Jane Smith",
                        employment_status="active",
                    ),
                    PeopleInput(
                        id="emp_existing_123",
                        name="John Updated",
                        employment_status="active",
                    ),
                ],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.upsert_people_batch(people=people, request_options=request_options)
        return _response.data

    async def delete_people_batch(
        self, *, people_ids: typing.Sequence[str], request_options: typing.Optional[RequestOptions] = None
    ) -> DeletePeopleBatchResponse:
        """
        Permanently remove multiple employee records by their IDs. This operation also removes all associated asset assignments and group memberships. Use with caution as this action cannot be undone. Consider updating employment status to inactive instead of deletion for audit trail purposes.

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeletePeopleBatchResponse
            All specified people records deleted successfully along with their assignments

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.people.delete_people_batch(
                people_ids=["peopleIds"],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_people_batch(people_ids=people_ids, request_options=request_options)
        return _response.data

    async def upsert_people_asset_batch(
        self,
        *,
        people_ids: typing.Sequence[str],
        asset_ids: typing.Sequence[AssetId],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> UpsertPeopleAssetBatchResponse:
        """
        Create or update assignments between employees and workspace assets (desks, spaces, etc.). This is typically used for desk assignments, office allocations, or space reservations. Each person can be assigned to multiple assets, and assets can have multiple people assigned (depending on capacity).

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        asset_ids : typing.Sequence[AssetId]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        UpsertPeopleAssetBatchResponse
            All people successfully assigned to the specified assets

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.people.upsert_people_asset_batch(
                people_ids=["peopleIds"],
                asset_ids=["st_sf_tower_01"],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.upsert_people_asset_batch(
            people_ids=people_ids, asset_ids=asset_ids, request_options=request_options
        )
        return _response.data

    async def delete_people_asset_batch(
        self,
        *,
        people_ids: typing.Sequence[str],
        asset_ids: typing.Sequence[AssetId],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> DeletePeopleAssetBatchResponse:
        """
        Remove associations between people and assets

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        asset_ids : typing.Sequence[AssetId]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DeletePeopleAssetBatchResponse
            People-asset associations deleted successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.people.delete_people_asset_batch(
                people_ids=["peopleIds"],
                asset_ids=["st_sf_tower_01"],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_people_asset_batch(
            people_ids=people_ids, asset_ids=asset_ids, request_options=request_options
        )
        return _response.data

    async def add_people_group_members_batch(
        self,
        *,
        people_ids: typing.Sequence[str],
        group_ids: typing.Sequence[str],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> AddPeopleGroupMembersBatchResponse:
        """
        Add people as members to multiple groups

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        group_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        AddPeopleGroupMembersBatchResponse
            People added to groups successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.people.add_people_group_members_batch(
                people_ids=["peopleIds"],
                group_ids=["groupIds"],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.add_people_group_members_batch(
            people_ids=people_ids, group_ids=group_ids, request_options=request_options
        )
        return _response.data

    async def remove_people_group_members_batch(
        self,
        *,
        people_ids: typing.Sequence[str],
        group_ids: typing.Sequence[str],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> RemovePeopleGroupMembersBatchResponse:
        """
        Remove people as members from multiple groups

        Parameters
        ----------
        people_ids : typing.Sequence[str]

        group_ids : typing.Sequence[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        RemovePeopleGroupMembersBatchResponse
            People removed from groups successfully

        Examples
        --------
        import asyncio

        from trebellar import AsyncTrebellarApi

        client = AsyncTrebellarApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.people.remove_people_group_members_batch(
                people_ids=["peopleIds"],
                group_ids=["groupIds"],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.remove_people_group_members_batch(
            people_ids=people_ids, group_ids=group_ids, request_options=request_options
        )
        return _response.data
