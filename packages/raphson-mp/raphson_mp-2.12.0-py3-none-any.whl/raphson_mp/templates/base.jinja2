{% macro icon(icon_name) %}
    <div class="icon icon-{{ icon_name }}"></div>
{% endmacro %}

{% macro icon_button(icon_name, id = None, title = None) %}
    <button {% if id %}id="{{id}}"{% endif %} class="icon-button" {% if title %} title="{{title}}"{% endif %}>
        {{ icon(icon_name) }}
    </button>
{% endmacro %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#202020">

    <title>{{ title }}</title>

    <link rel="icon" href="/static/img/favicon.ico">
    <link rel="manifest" href="/static/manifest.json">

    {% if not user or user.theme == "default" %}
        <link rel="preload" href="/static/font/quicksand-v30-latin-regular.woff2" as="font" crossorigin="anonymous">
    {% endif %}

    <link rel="stylesheet" href="/static/css/base.css">
    {% for style in styles | default([]) %}
        <link rel="stylesheet" href="/static/css/{{ style }}.css">
    {% endfor %}

    {% if user %}
        <link rel="stylesheet" href="/static/css/theme/{{ user.theme }}.css">
    {% else %}
        <link rel="stylesheet" href="/static/css/theme/default.css">
    {% endif %}

    <script id="vars" type="application/json">{{ js_vars | tojson }}</script>
    <script src="/messages.js?locale={{ locale }}"></script>
    <script src="/static/js/base.js" type="module"></script>
    {% if script is defined %}
        <script src="/static/js/{{ script }}.js" type="module"></script>
    {% endif %}
</head>

<body>
    {% block body %}{% endblock body %}

    <div id="toasts"></div>
</body>

</html>
