Metadata-Version: 2.4
Name: hakalab-framework
Version: 1.2.22
Summary: Framework completo de pruebas funcionales con Playwright y Behave
Home-page: https://github.com/pipefariashaka/hakalab-framework.git
Author: Felipe Farias
Author-email: Felipe Farias <felipe.farias@hakalab.com>
Maintainer-email: Felipe Farias <felipe.farias@hakalab.com>
License: MIT
Project-URL: Homepage, https://github.com/pipefariashaka/hakalab-framework
Project-URL: Repository, https://github.com/pipefariashaka/hakalab-framework
Project-URL: Documentation, https://github.com/pipefariashaka/hakalab-framework#readme
Project-URL: Bug Tracker, https://github.com/pipefariashaka/hakalab-framework/issues
Keywords: playwright,behave,bdd,testing,automation,functional-testing
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Testing
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Operating System :: OS Independent
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: playwright>=1.57.0
Requires-Dist: behave>=1.3.3
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: jsonschema>=4.20.0
Requires-Dist: click>=8.0.0
Requires-Dist: rich>=13.0.0
Requires-Dist: jinja2>=3.0.0
Requires-Dist: requests>=2.28.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: flake8>=4.0.0; extra == "dev"
Requires-Dist: mypy>=0.950; extra == "dev"
Requires-Dist: pre-commit>=2.20.0; extra == "dev"
Provides-Extra: allure
Requires-Dist: allure-commandline>=2.20.0; extra == "allure"
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

# ğŸš€ **Hakalab Framework**

Un framework completo y profesional de pruebas funcionales que utiliza **Playwright** para automatizaciÃ³n web moderna y **Behave** para BDD (Behavior Driven Development). DiseÃ±ado para casos de uso empresariales con capacidades avanzadas de simulaciÃ³n humana y procesamiento de datos.

## âœ¨ **CaracterÃ­sticas Principales v1.2.14**

### ğŸ¯ **Core Features**
- **ğŸ­ Playwright**: AutomatizaciÃ³n web moderna, rÃ¡pida y confiable
- **ğŸ¥’ Behave**: Framework BDD para Python con soporte completo para Gherkin
- **ğŸŒ Multiidioma**: Soporte para pasos en inglÃ©s, espaÃ±ol o mixto
- **ğŸ“‹ Page Object Model**: Elementos organizados en archivos JSON
- **ğŸ”¤ Variables DinÃ¡micas**: Sistema completo de manejo y generaciÃ³n de variables
- **ğŸ“Š Reportes HTML**: Reportes HTML personalizados con screenshots integrados
- **ğŸ¨ Scenario Outlines**: Soporte completo para pruebas parametrizadas

### ğŸ†• **Nuevas Funcionalidades v1.2.14**
- **ğŸ“Š Procesamiento CSV**: Carga, anÃ¡lisis, filtrado y manipulaciÃ³n de archivos CSV
- **âŒ¨ï¸ Entrada Avanzada**: SimulaciÃ³n de escritura humana con errores y velocidades variables
- **â±ï¸ Control de Tiempos**: CronÃ³metros, esperas inteligentes y mediciÃ³n de rendimiento
- **ğŸ”¤ Variables Mejoradas**: GeneraciÃ³n automÃ¡tica de texto, nÃºmeros, fechas y timestamps
- **ğŸ­ SimulaciÃ³n Realista**: Comportamiento humano con delays aleatorios y errores simulados
- **ğŸ“ˆ MediciÃ³n de Rendimiento**: Cronometraje de operaciones crÃ­ticas
- **ğŸ¯ Drag & Drop Mejorado**: Sistema rediseÃ±ado con mÃºltiples fallbacks y timing preciso

### ğŸ”§ **Capacidades Avanzadas**
- **ğŸ¯ Drag & Drop**: Arrastrar y soltar elementos con precisiÃ³n y confiabilidad mejorada
- **ğŸš¨ Alerts & Modales**: Manejo completo de diÃ¡logos y ventanas emergentes
- **ğŸ–¼ï¸ iFrames**: NavegaciÃ³n y interacciÃ³n con contenido embebido
- **ğŸ“ File Upload/Download**: GestiÃ³n completa de archivos con validaciÃ³n
- **ğŸ” BÃºsquedas Avanzadas**: MÃºltiples estrategias de localizaciÃ³n de elementos
- **ğŸ“± Responsive Testing**: Pruebas en diferentes resoluciones y dispositivos
- **ğŸ¬ Video Recording**: GrabaciÃ³n automÃ¡tica de ejecuciones de prueba

## ğŸš€ **InstalaciÃ³n RÃ¡pida**

### OpciÃ³n 1: InstalaciÃ³n desde PyPI (Recomendada)
```bash
pip install hakalab-framework
python -m playwright install
hakalab-init my-project
cd my-project
behave
```

### OpciÃ³n 2: InstalaciÃ³n desde CÃ³digo Fuente
```bash
git clone https://github.com/your-org/hakalab-framework.git
cd hakalab-framework
pip install -e .
python -m playwright install
behave
```

## ğŸ“ **Estructura del Proyecto**

```
my-project/
â”œâ”€â”€ ğŸ“‚ features/
â”‚   â”œâ”€â”€ ğŸ“„ example_login.feature    # Feature de ejemplo
â”‚   â”œâ”€â”€ ğŸ“„ environment.py           # ConfiguraciÃ³n de Behave
â”‚   â””â”€â”€ ğŸ“‚ steps/
â”‚       â””â”€â”€ ğŸ“„ custom_steps.py      # Steps personalizados
â”œâ”€â”€ ğŸ“‚ json_poms/
â”‚   â”œâ”€â”€ ğŸ“„ LOGIN.json              # Page Objects en JSON
â”‚   â””â”€â”€ ğŸ“„ DASHBOARD.json          # Elementos de dashboard
â”œâ”€â”€ ğŸ“‚ hakalab_framework/
â”‚   â”œâ”€â”€ ğŸ“‚ core/                   # NÃºcleo del framework
â”‚   â”œâ”€â”€ ğŸ“‚ steps/                  # Steps predefinidos
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ navigation_steps.py  # NavegaciÃ³n y URLs
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ interaction_steps.py # Clicks, hover, formularios
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ assertion_steps.py   # Verificaciones
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ wait_steps.py        # Esperas y timing
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ window_steps.py      # Ventanas y pestaÃ±as
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ advanced_steps.py    # JavaScript y screenshots
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ drag_drop_steps.py   # Arrastrar y soltar (MEJORADO v1.2.14)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ modal_steps.py       # Modales y diÃ¡logos
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ combobox_steps.py    # Selects y dropdowns
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ iframe_steps.py      # InteracciÃ³n con iframes
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ file_steps.py        # Upload y download
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ table_steps.py       # Tablas avanzadas
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ keyboard_mouse_steps.py # Interacciones avanzadas
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ salesforce_steps.py  # AutomatizaciÃ³n Salesforce
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ environment_steps.py # Variables de entorno
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ data_extraction_steps.py # ExtracciÃ³n de datos
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ csv_file_steps.py    # Procesamiento CSV (NUEVO v1.2.12)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ timing_steps.py      # Control avanzado de tiempos (NUEVO v1.2.12)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ advanced_input_steps.py # Entrada sofisticada (NUEVO v1.2.12)
â”‚   â”‚   â””â”€â”€ ğŸ“„ variable_steps.py    # Variables dinÃ¡micas (NUEVO v1.2.12)
â”‚   â””â”€â”€ ğŸ“‚ utils/                  # Utilidades y helpers
â”œâ”€â”€ ğŸ“‚ html-reports/               # Reportes HTML generados
â”œâ”€â”€ ğŸ“‚ screenshots/                # Capturas de pantalla
â”œâ”€â”€ ğŸ“‚ videos/                     # Grabaciones de video
â”œâ”€â”€ ğŸ“‚ downloads/                  # Archivos descargados
â”œâ”€â”€ ğŸ“„ .env                        # Variables de entorno
â”œâ”€â”€ ğŸ“„ behave.ini                  # ConfiguraciÃ³n de Behave
â””â”€â”€ ğŸ“š DocumentaciÃ³n/
    â”œâ”€â”€ ğŸ“„ GUIA_COMPLETA_STEPS.md      # GuÃ­a completa de steps
    â”œâ”€â”€ ğŸ“„ FUNCIONALIDADES_AVANZADAS_v1.2.14.md # Nuevas funcionalidades
    â”œâ”€â”€ ğŸ“„ GUIA_INSTALACION.md         # GuÃ­a de instalaciÃ³n
    â”œâ”€â”€ ğŸ“„ STEPS_AVANZADOS.md          # Steps avanzados
    â”œâ”€â”€ ğŸ“„ STEPS_SALESFORCE.md         # AutomatizaciÃ³n Salesforce
    â”œâ”€â”€ ğŸ“„ VARIABLES_ENTORNO.md        # Variables de entorno
    â””â”€â”€ ğŸ“„ GUIA_STEPS_PERSONALIZADOS.md # Crear steps personalizados
```

## ğŸ¯ **Steps Disponibles (300+)**

### ğŸ§­ **Navigation Steps** - NavegaciÃ³n y URLs
```gherkin
Given voy a la url "https://example.com"
When recargo la pÃ¡gina
When voy hacia atrÃ¡s
When espero 5 segundos
When abro una nueva pestaÃ±a
```

### ğŸ–±ï¸ **Interaction Steps** - Clicks, hover, formularios
```gherkin
When hago click en el elemento "button_login" con identificador "id"
When relleno el campo "username" con "admin" con identificador "name"
When selecciono la opciÃ³n "EspaÃ±a" del dropdown "country" con identificador "name"
When marco el checkbox "terms" con identificador "id"
```

### âœ… **Assertion Steps** - Verificaciones y validaciones
```gherkin
Then deberÃ­a ver el texto "Bienvenido"
Then el tÃ­tulo de la pÃ¡gina deberÃ­a ser "Dashboard"
Then el elemento "welcome_message" deberÃ­a estar visible con identificador "id"
Then la url actual deberÃ­a contener "dashboard"
```

### ğŸ¯ **Drag & Drop Steps** - Arrastrar y soltar (MEJORADO v1.2.14)
```gherkin
# Drag & Drop bÃ¡sico con timing mejorado
When arrastro el elemento "source_item" al elemento "target_area" con identificadores "id" y "class"

# Drag & Drop lento para elementos sensibles (20 pasos incrementales)
When arrastro lentamente el elemento "delicate_slider" al elemento "target" con identificadores "css" y "id"

# Hover antes de arrastrar (para elementos que requieren activaciÃ³n)
When paso el mouse sobre el elemento antes de arrastrar "menu_item" con identificador "class"

# Drag & Drop avanzado con mÃºltiples fallbacks (API nativa + manual + HTML5)
When realizo drag and drop avanzado desde "complex_element" hasta "target" con identificadores "xpath" y "css"

# VerificaciÃ³n de drag & drop exitoso
Then verifico que el drag and drop fue exitoso comprobando la posiciÃ³n del elemento "moved_item" con identificador "id"

# Drag & Drop de archivos
When arrastro y suelto el archivo "test_document.pdf" al elemento "upload_zone" con identificador "id"

# Drag & Drop por coordenadas especÃ­ficas
When arrastro el elemento "item" a las coordenadas x="300" y="200" con identificador "id"

# Drag & Drop por desplazamiento relativo
When arrastro el elemento "box" por desplazamiento x="100" y="-50" con identificador "class"
```

### ğŸ“‹ **Combobox Steps** - Selects y dropdowns avanzados
```gherkin
When selecciono por texto visible "OpciÃ³n 1" del elemento "dropdown" con identificador "id"
When escribo y selecciono "Madrid" en el combobox buscable "city" con identificador "id"
```

### ğŸ’¬ **Modal Steps** - Modales y diÃ¡logos
```gherkin
When espero a que aparezca el modal
When cierro el modal haciendo clic en el botÃ³n de cerrar
Then el modal deberÃ­a contener el texto "Confirmar acciÃ³n"
```

### ğŸ“ **File Steps** - Upload, download y archivos
```gherkin
When subo el archivo "documents/test.pdf" al campo "file_upload" con identificador "id"
Then el archivo "report.pdf" deberÃ­a estar descargado
Then el archivo descargado "data.csv" deberÃ­a contener "usuario,email"
```

## ğŸ”§ **ConfiguraciÃ³n**

### Variables de Entorno (.env)
```bash
# === CONFIGURACIÃ“N DEL NAVEGADOR ===
BROWSER=chromium              # chromium, firefox, webkit
HEADLESS=false               # true/false
TIMEOUT=30000                # Timeout en milisegundos
WINDOW_SIZE=1920,1080        # TamaÃ±o de ventana

# === RUTAS Y DIRECTORIOS ===
JSON_POMS_PATH=json_poms     # Carpeta de Page Objects
SCREENSHOTS_DIR=screenshots   # Directorio de screenshots
HTML_REPORTS_DIR=html-reports # Directorio de reportes HTML
DOWNLOADS_DIR=downloads       # Directorio de descargas
VIDEOS_DIR=videos            # Directorio de videos

# === FUNCIONALIDADES AVANZADAS ===
HTML_REPORT_CAPTURE_ALL_STEPS=true  # Screenshots en cada step
SCREENSHOT_FULL_PAGE=true            # Screenshots de pÃ¡gina completa
VIDEO_RECORDING=false                # GrabaciÃ³n de video
CLEANUP_OLD_FILES=true               # Limpieza automÃ¡tica
CLEANUP_MAX_AGE_HOURS=24            # Edad mÃ¡xima de archivos

# === VARIABLES DE PRUEBA ===
BASE_URL=https://example.com
TEST_EMAIL=test@example.com
TEST_PASSWORD=password123
API_KEY=your-api-key-here
DATABASE_URL=postgresql://localhost/testdb
```

## ğŸ¬ **Ejemplos de Uso**

### 1. Feature BÃ¡sico
```gherkin
# language: es
Feature: Login de usuario
  Como usuario del sistema
  Quiero poder iniciar sesiÃ³n
  Para acceder a mi cuenta

  Background:
    Given voy a la url "${BASE_URL}/login"

  Scenario: Login exitoso
    When relleno el campo "email" con "${TEST_EMAIL}" con identificador "$.LOGIN.email_field"
    And relleno el campo "password" con "${TEST_PASSWORD}" con identificador "$.LOGIN.password_field"
    And hago click en el elemento "login_button" con identificador "$.LOGIN.login_button"
    Then deberÃ­a ver el elemento "welcome_message" con identificador "$.DASHBOARD.welcome_message"
    And la url actual deberÃ­a contener "dashboard"
```

### 2. Procesamiento de CSV (NUEVO v1.2.12)
```gherkin
Feature: Pruebas con datos CSV
  
  Scenario: Procesamiento de empleados desde CSV
    Given cargo el archivo CSV "test_data/empleados.csv" en la variable "empleados"
    And muestro un resumen del CSV "empleados"
    When filtro el CSV "empleados" donde "departamento" contiene "Desarrollo" y guardo como "desarrolladores"
    And obtengo el valor de la fila 0 columna "nombre" del CSV "desarrolladores" y lo guardo en "mejor_dev"
    Then verifico que la variable "mejor_dev" contiene "Juan"
```

### 3. Drag & Drop Mejorado (NUEVO v1.2.14)
```gherkin
Feature: Drag and Drop avanzado
  
  Scenario: Reordenamiento de elementos con verificaciÃ³n
    Given voy a la url "https://example.com/sortable-list"
    When paso el mouse sobre el elemento antes de arrastrar "item_1" con identificador "css:.sortable-item:first-child"
    And arrastro lentamente el elemento "item_1" al elemento "drop_zone" con identificadores "css:.sortable-item:first-child" y "css:.drop-zone"
    Then verifico que el drag and drop fue exitoso comprobando la posiciÃ³n del elemento "item_1" con identificador "css:.sortable-item:first-child"
```

## ğŸ“Š **Reportes**

### Reportes HTML AutomÃ¡ticos
- **GeneraciÃ³n automÃ¡tica**: Reportes HTML se crean en cada ejecuciÃ³n
- **Screenshots integrados**: Capturas automÃ¡ticas en fallos y steps crÃ­ticos
- **NavegaciÃ³n intuitiva**: Interface web para revisar resultados
- **EstadÃ­sticas detalladas**: Tiempos, Ã©xitos, fallos por feature y scenario

### Comandos de Reporte
```bash
# Ejecutar con reporte HTML
behave -f html -o html-reports/report.html

# Abrir reporte generado
open html-reports/report.html  # Mac
start html-reports/report.html # Windows
xdg-open html-reports/report.html # Linux
```

## ğŸ”„ **Changelog**

### **v1.2.14** - 2026-01-06 â­ **NUEVA VERSIÃ“N MAYOR**

#### âœ¨ **Nuevas Funcionalidades**
- **ğŸ“Š Manejo Avanzado de CSV**: 15+ steps para procesamiento completo de archivos CSV
- **ğŸ”¤ Variables DinÃ¡micas**: 20+ steps para generaciÃ³n y manipulaciÃ³n automÃ¡tica de variables
- **â±ï¸ Control de Tiempos**: 15+ steps para cronÃ³metros, esperas inteligentes y mediciÃ³n de rendimiento
- **âŒ¨ï¸ Entrada Avanzada**: 25+ steps para simulaciÃ³n de escritura humana y manipulaciÃ³n sofisticada de texto
- **ğŸ¯ Drag & Drop Mejorado**: Sistema completamente rediseÃ±ado con mÃºltiples mÃ©todos de fallback

#### ğŸ”§ **Mejoras TÃ©cnicas**
- Sistema de variables completamente rediseÃ±ado con resoluciÃ³n automÃ¡tica
- IntegraciÃ³n completa con pandas para procesamiento de datos CSV
- CronÃ³metros de alta precisiÃ³n para mediciÃ³n de rendimiento
- SimulaciÃ³n realista de comportamiento humano con errores y delays variables
- **Drag & Drop robusto** con mouse down/up, timing delays y verificaciÃ³n de posiciÃ³n

#### ğŸ¯ **Mejoras EspecÃ­ficas de Drag & Drop v1.2.14**
- âœ… Secuencias mouse down/up apropiadas con timing delays (100-500ms)
- âœ… MÃ©todo de arrastre lento con 20 pasos incrementales para elementos sensibles
- âœ… Hover antes de arrastrar para activar elementos que requieren interacciÃ³n previa
- âœ… API nativa de Playwright como mÃ©todo primario con fallback manual
- âœ… SimulaciÃ³n HTML5 drag & drop con JavaScript completamente funcional con soporte CSS y XPath (v1.2.20)
- âœ… VerificaciÃ³n automÃ¡tica de posiciÃ³n despuÃ©s del drag & drop
- âœ… Manejo robusto de errores con mÃºltiples mÃ©todos de retry
- âœ… Soporte para arrastre por coordenadas especÃ­ficas y desplazamientos relativos

#### ğŸ“ **Archivos Nuevos**
- `hakalab_framework/steps/csv_file_steps.py` - Procesamiento de CSV
- `hakalab_framework/steps/timing_steps.py` - Control avanzado de tiempos
- `hakalab_framework/steps/advanced_input_steps.py` - Entrada sofisticada
- `hakalab_framework/steps/enhanced_variable_steps.py` - Variables dinÃ¡micas

#### ğŸ“ **Archivos Mejorados**
- `hakalab_framework/steps/drag_drop_steps.py` - **Drag & drop completamente rediseÃ±ado**

## ğŸ“– **DocumentaciÃ³n Completa**

### ğŸ“– **GuÃ­as Disponibles**
- **[GUIA_COMPLETA_STEPS.md](GUIA_COMPLETA_STEPS.md)** - Referencia completa de todos los steps (300+)
- **[FUNCIONALIDADES_AVANZADAS_v1.2.14.md](FUNCIONALIDADES_AVANZADAS_v1.2.14.md)** - Nuevas funcionalidades detalladas
- **[GUIA_INSTALACION.md](GUIA_INSTALACION.md)** - GuÃ­a detallada de instalaciÃ³n
- **[STEPS_AVANZADOS.md](STEPS_AVANZADOS.md)** - Steps avanzados y casos de uso
- **[STEPS_SALESFORCE.md](STEPS_SALESFORCE.md)** - AutomatizaciÃ³n especÃ­fica de Salesforce
- **[VARIABLES_ENTORNO.md](VARIABLES_ENTORNO.md)** - ConfiguraciÃ³n de variables de entorno
- **[GUIA_STEPS_PERSONALIZADOS.md](GUIA_STEPS_PERSONALIZADOS.md)** - Crear steps personalizados

### ğŸ¬ **Ejemplos PrÃ¡cticos**
- **features/advanced_features_demo.feature** - DemostraciÃ³n de funcionalidades avanzadas
- **features/csv_handling_demo.feature** - Ejemplos de procesamiento CSV
- **features/example_login.feature** - Login bÃ¡sico
- **features/example_forms.feature** - Formularios complejos

## ğŸ¤ **Contribuir**

### Proceso de ContribuciÃ³n
1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/nueva-funcionalidad`)
3. Commit tus cambios (`git commit -am 'Agregar nueva funcionalidad'`)
4. Push a la rama (`git push origin feature/nueva-funcionalidad`)
5. Crea un Pull Request

### Desarrollo Local
```bash
git clone https://github.com/your-org/hakalab-framework.git
cd hakalab-framework
pip install -e .
python -m pytest tests/
behave features/
```

## ğŸ“„ **Licencia**

Este proyecto estÃ¡ bajo la Licencia MIT - ver el archivo [LICENSE](LICENSE) para detalles.

## ğŸš€ **Â¡Comienza Ahora!**

```bash
# InstalaciÃ³n rÃ¡pida
pip install hakalab-framework
python -m playwright install

# Crear proyecto
hakalab-init mi-proyecto
cd mi-proyecto

# Ejecutar primera prueba
behave
```

**El Hakalab Framework estÃ¡ listo para llevar tus pruebas automatizadas al siguiente nivel!**

Con 300+ steps reales, simulaciÃ³n de comportamiento humano, procesamiento de CSV, cronÃ³metros de rendimiento, variables dinÃ¡micas y **drag & drop mejorado**, tienes todo lo necesario para crear automatizaciones de nivel empresarial.
