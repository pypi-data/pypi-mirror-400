
[project]

# 需要更改发布到pypi的包名时改这里
name = "ipa-python-kit"
dynamic = ["version"]
description = "kit for python"
authors = [{ name = "xdewx", email = "present150608@sina.com" }]
keywords = ["python", "kit", "lib", "util"]
readme = "README.md"
requires-python = ">=3.8"

dependencies = [
    "deprecated>=1.3.1",
    "pint>=0.21.1",
    "pydantic>=2.10.6",
    "pyhumps>=3.8.0",
]

# 使用uv_build时
# [build-system]
# requires = ["uv_build>=0.7.4,<0.8.0"]
# build-backend = "uv_build"

# [tool.uv.build-backend]
# module-root = "src"
# module-name = "ipa"

[build-system]
requires = ["setuptools>=80.0", "setuptools-scm>=9"]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]
version_file = "src/sdk/_version.py"
version_scheme = "guess-next-dev"
# version_scheme = "only-version"
# local_scheme = "node-and-date"
local_scheme = "no-local-version"

[tool.setuptools.package-dir]
# 路径映射，便于用户通过有辨识度的方式导入模块而不是使用sdk或重命名
ipa = "src/sdk"

# [tool.setuptools.packages]
# find = {where = ["src"], include = ["sdk"]}

[tool.setuptools]
packages = ["ipa"]

[[tool.uv.index]]
name = "tencent"
url = "https://mirrors.cloud.tencent.com/pypi/simple/"

[dependency-groups]
dev = [
    "build>=1.2.2",
    "twine>=4.0.2",
    "black==24.8.0",
    "commitlint==1.3.0",
    "darker==2.1.1",
    "pre-commit==3.5.0",
    "pytest==8.3.5",
    "ruff==0.13.1",
    "setuptools-scm>=9.2.2",
]
