{"version":3,"file":"_page.svelte-Ny1igecW.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/projects/_project_id_/perm-transform/_page.svelte.js"],"sourcesContent":["import \"clsx\";\nimport { aj as fallback, o as onDestroy, c as bind_props, t as escape_html, C as attr_class, i as stringify, F as ensure_array_like, a as attr } from \"../../../../../chunks/vendor.js\";\nimport { B as Button } from \"../../../../../chunks/button.js\";\nimport { D as DepthFilterStatus } from \"../../../../../chunks/DepthFilterStatus.js\";\nimport { w as workspace, b as applyZoneFilter } from \"../../../../../chunks/workspace.js\";\nimport { P as ProjectWorkspace } from \"../../../../../chunks/ProjectWorkspace.js\";\nfunction WsPermTransform($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let projectId = fallback($$props[\"projectId\"], null);\n    let loading = false;\n    let message = null;\n    let dataLoading = false;\n    let dataError = null;\n    let data = null;\n    let fits = null;\n    let zoneFilter = { enabled: false, zones: [] };\n    let lastProjectId = null;\n    let _pollTimer = null;\n    let _pollAttempts = 0;\n    let _maxPollAttempts = 120;\n    let pollStatus = null;\n    const POLL_INTERVAL = 1e3;\n    const unsubscribe = workspace.subscribe((w) => {\n      if (w?.zoneFilter && (zoneFilter.enabled !== w.zoneFilter.enabled || JSON.stringify(zoneFilter.zones) !== JSON.stringify(w.zoneFilter.zones))) {\n        zoneFilter = { ...w.zoneFilter };\n      }\n    });\n    onDestroy(() => {\n      unsubscribe();\n      if (_pollTimer) clearInterval(_pollTimer);\n    });\n    function clearFziPollTimer() {\n      if (_pollTimer) {\n        clearInterval(_pollTimer);\n        _pollTimer = null;\n      }\n      pollStatus = null;\n    }\n    function getFilteredData() {\n      if (!data) return null;\n      const rows = data.phit.map((phit, i) => ({\n        phit,\n        perm: data.perm[i],\n        zone: data.zones[i],\n        well_name: data.well_names[i],\n        depth: data.depths[i],\n        rock_flag: data.rock_flags[i]\n      }));\n      const visibleRows = applyZoneFilter(rows, zoneFilter);\n      console.log(\"Applying zone filter:\", rows.length, zoneFilter, visibleRows.length);\n      return {\n        phit: visibleRows.map((r) => r.phit),\n        perm: visibleRows.map((r) => r.perm),\n        zones: visibleRows.map((r) => r.zone),\n        well_names: visibleRows.map((r) => r.well_name),\n        depths: visibleRows.map((r) => r.depth),\n        rock_flags: visibleRows.map((r) => r.rock_flag)\n      };\n    }\n    const API_BASE = \"http://localhost:6312\";\n    async function loadData() {\n      if (!projectId) return;\n      dataLoading = true;\n      dataError = null;\n      clearFziPollTimer();\n      try {\n        pollStatus = \"Initiating FZI data generation...\";\n        const init = await initiateFZIDataGeneration();\n        const { task_id, result } = init;\n        let payload;\n        if (result) {\n          payload = result;\n        } else {\n          pollStatus = \"Waiting for FZI data...\";\n          payload = await pollForFZIDataResult(task_id);\n        }\n        if (!payload || typeof payload !== \"object\") throw new Error(\"Unexpected data format from backend\");\n        data = payload;\n        console.log(\"Loaded data:\", data);\n        const fitsUrl = `${API_BASE}/quick_pp/database/projects/${projectId}/poroperm_fits`;\n        const fitsRes = await fetch(fitsUrl);\n        if (!fitsRes.ok) throw new Error(await fitsRes.text());\n        const fitsData = await fitsRes.json();\n        fits = fitsData.fits;\n        console.log(\"Loaded fits:\", fits);\n      } catch (e) {\n        dataError = e.message || \"Failed to load data\";\n        data = null;\n        fits = null;\n      } finally {\n        dataLoading = false;\n        pollStatus = null;\n        clearFziPollTimer();\n      }\n    }\n    async function initiateFZIDataGeneration() {\n      const res = await fetch(`${API_BASE}/quick_pp/database/projects/${projectId}/fzi_data/generate`, { method: \"POST\" });\n      if (!res.ok) throw new Error(await res.text());\n      const data2 = await res.json();\n      if (!data2.task_id) throw new Error(\"No task_id returned from server\");\n      return { task_id: data2.task_id, result: data2.result };\n    }\n    async function pollForFZIDataResult(taskId) {\n      const url = `${API_BASE}/quick_pp/database/projects/${projectId}/fzi_data/result/${taskId}`;\n      return new Promise((resolve, reject) => {\n        _pollAttempts = 0;\n        const poll = async () => {\n          if (_pollAttempts >= _maxPollAttempts) {\n            const msg = \"FZI generation timed out after 2 minutes\";\n            console.error(msg);\n            clearFziPollTimer();\n            reject(new Error(msg));\n            return;\n          }\n          try {\n            const res = await fetch(url);\n            if (!res.ok) {\n              throw new Error(`Poll failed with status ${res.status}`);\n            }\n            const data2 = await res.json();\n            if (data2.status === \"success\") {\n              clearFziPollTimer();\n              resolve(data2.result);\n            } else if (data2.status === \"error\") {\n              clearFziPollTimer();\n              reject(new Error(data2.error || \"Task failed with unknown error\"));\n            } else if (data2.status === \"pending\") {\n              pollStatus = `Loading FZI data... (${_pollAttempts}s)`;\n              _pollAttempts++;\n            } else {\n              clearFziPollTimer();\n              reject(new Error(`Unknown task status: ${data2.status}`));\n            }\n          } catch (err) {\n            console.error(\"Poll request failed:\", err);\n            pollStatus = `Retrying... (attempt ${_pollAttempts})`;\n            _pollAttempts++;\n          }\n        };\n        poll();\n        _pollTimer = window.setInterval(poll, POLL_INTERVAL);\n      });\n    }\n    function plotPorePerm() {\n      getFilteredData();\n      return;\n    }\n    async function savePermTrans() {\n      if (!data || !fits || !projectId) return;\n      loading = true;\n      message = null;\n      try {\n        const permTransPairs = data.phit.map((phit, i) => {\n          const rockFlag = data.rock_flags[i];\n          let permTrans = null;\n          if (rockFlag !== null && fits && fits[rockFlag.toFixed(1)]) {\n            const { a, b } = fits[rockFlag.toFixed(1)];\n            permTrans = a * Math.pow(phit, b);\n          }\n          return {\n            well_name: data.well_names[i],\n            depth: data.depths[i],\n            perm_trans: permTrans\n          };\n        });\n        const url = `${API_BASE}/quick_pp/database/projects/${projectId}/save_perm_trans`;\n        const res = await fetch(url, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ perm_trans_pairs: permTransPairs })\n        });\n        if (!res.ok) throw new Error(await res.text());\n        const result = await res.json();\n        message = `Success: ${result.message}`;\n      } catch (e) {\n        message = `Error: ${e.message}`;\n      } finally {\n        loading = false;\n      }\n    }\n    if (projectId && projectId !== lastProjectId) {\n      lastProjectId = projectId;\n      loadData();\n    }\n    if (data && fits && zoneFilter) {\n      plotPorePerm();\n    }\n    $$renderer2.push(`<div class=\"ws-perm-transform\"><div class=\"mb-2\"><div class=\"font-semibold\">Permeability Transform</div> <div class=\"text-sm text-muted-foreground\">Fit poro-perm curves per ROCK_FLAG and calculate transformed permeability.</div></div> `);\n    DepthFilterStatus($$renderer2);\n    $$renderer2.push(`<!----> <div class=\"bg-panel rounded p-3 mb-3\">`);\n    if (dataLoading) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"text-sm text-blue-600\">${escape_html(pollStatus ? pollStatus : \"Loading data...\")}</div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n      if (dataError) {\n        $$renderer2.push(\"<!--[-->\");\n        $$renderer2.push(`<div class=\"text-sm text-red-600 mb-3\">${escape_html(dataError)}</div>`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n      }\n      $$renderer2.push(`<!--]-->`);\n    }\n    $$renderer2.push(`<!--]--> <div class=\"flex-1\"><div class=\"flex gap-2 items-end\">`);\n    Button($$renderer2, {\n      onclick: savePermTrans,\n      disabled: loading || !data,\n      children: ($$renderer3) => {\n        if (loading) {\n          $$renderer3.push(\"<!--[-->\");\n          $$renderer3.push(`<span>Saving...</span>`);\n        } else {\n          $$renderer3.push(\"<!--[!-->\");\n          $$renderer3.push(`<span>Save Perm Transforms</span>`);\n        }\n        $$renderer3.push(`<!--]-->`);\n      },\n      $$slots: { default: true }\n    });\n    $$renderer2.push(`<!----></div> `);\n    if (message) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div${attr_class(`text-sm ${stringify(message.startsWith(\"Error\") ? \"text-red-600\" : \"text-green-600\")}`)}>${escape_html(message)}</div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--> `);\n    if (fits) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"font-semibold mb-2\">Fitted Parameters</div> <div class=\"text-sm text-muted-foreground mb-3\">Edit a and b parameters to update the fitted curves.</div> <div class=\"bg-surface rounded p-3\"><table class=\"w-full border-collapse border border-border\"><thead><tr class=\"bg-muted\"><th class=\"border border-border p-2 text-left\">Rock Flag</th><th class=\"border border-border p-2 text-left\">a</th><th class=\"border border-border p-2 text-left\">b</th></tr></thead><tbody><!--[-->`);\n      const each_array = ensure_array_like(Object.keys(fits).sort((a, b) => parseInt(a) - parseInt(b)));\n      for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n        let rf = each_array[$$index];\n        $$renderer2.push(`<tr><td class=\"border border-border p-2\">${escape_html(rf)}</td><td class=\"border border-border p-2\"><input type=\"number\" step=\"0.01\" class=\"w-full px-2 py-1 border border-border rounded\"${attr(\"value\", fits[rf].a)}/></td><td class=\"border border-border p-2\"><input type=\"number\" step=\"0.01\" class=\"w-full px-2 py-1 border border-border rounded\"${attr(\"value\", fits[rf].b)}/></td></tr>`);\n      }\n      $$renderer2.push(`<!--]--></tbody></table></div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--></div> <div class=\"font-semibold mb-2\">Poro-Perm Crossplot with Fitted Curves</div> <div class=\"text-sm text-muted-foreground mb-3\">Plot porosity vs permeability with fitted curves per ROCK_FLAG.</div> <div class=\"bg-surface rounded p-3 min-h-[400px]\"><div class=\"w-full h-[500px] mx-auto\"></div></div></div></div>`);\n    bind_props($$props, { projectId });\n  });\n}\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let selectedProject = null;\n    const unsubscribe = workspace.subscribe((w) => {\n      selectedProject = w?.project ?? null;\n    });\n    onDestroy(() => unsubscribe());\n    ProjectWorkspace($$renderer2, {\n      project: selectedProject,\n      $$slots: {\n        left: ($$renderer3) => {\n          $$renderer3.push(`<div slot=\"left\">`);\n          WsPermTransform($$renderer3, { projectId: selectedProject?.project_id ?? null });\n          $$renderer3.push(`<!----></div>`);\n        }\n      }\n    });\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}