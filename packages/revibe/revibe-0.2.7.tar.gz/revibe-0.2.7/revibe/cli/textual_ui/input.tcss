/* ============================================================================
   INPUT BOX UI - Modern AI CLI Design
   ============================================================================
   Premium, modern input box inspired by Claude CLI, Gemini CLI, and
   contemporary terminal UI aesthetics. Features subtle depth, dynamic
   states, and seamless integration with the overall revibe design.
   ============================================================================ */

/* ============================================================================
   MAIN CONTAINER
   ============================================================================ */

#input-container {
    height: auto;
    width: 100%;
    background: transparent;
    padding: 1 0 0 0;
    margin: 0;
}

/* ============================================================================
   COMPLETION POPUP - Floating Suggestions
   ============================================================================ */

#completion-popup {
    width: 100%;
    height: auto;
    padding: 0 2 1 2;
    color: $text;
    background: $surface;
    border-left: thick $primary;
    margin: 0 0 0 1;
}

#completion-popup:empty {
    display: none;
}

/* ============================================================================
   INPUT BOX - Main Wrapper (Premium Card Style)
   ============================================================================ */

#input-box {
    height: auto;
    min-height: 3;
    width: 100%;
    background: $surface;
    /* Left accent border - signature style matching thought panel */
    border-left: thick $primary;
    border-top: none;
    border-right: none;
    border-bottom: none;
    padding: 1 2;
    margin: 0 1;
}

/* --------------------------------------------------------------------------
   Safety State Borders - Dynamic Color Feedback
   -------------------------------------------------------------------------- */

/* Warning/Destructive mode - caution indicator */
#input-box.border-warning {
    border-left: thick $warning;
    background: $surface;
}

/* Safe mode - trust indicator */
#input-box.border-safe {
    border-left: thick $success;
    background: $surface;
}

/* Error/YOLO mode - danger indicator */
#input-box.border-error {
    border-left: thick $error;
    background: $surface;
}

/* ============================================================================
   INPUT BODY - Layout Container
   ============================================================================ */

#input-body {
    height: auto;
    width: 100%;
    padding: 0;
    margin: 0;
}

/* Horizontal layout for prompt + input */
#input-body > Horizontal {
    width: 100%;
    height: auto;
    align: left middle;
}

/* ============================================================================
   PROMPT SYMBOL - Dynamic Mode Indicator
   ============================================================================ */

#prompt {
    width: auto;
    height: auto;
    background: transparent;
    color: $primary;
    text-style: bold;
    padding: 0 2 0 0;
    min-width: 3;
}

/* Note: Prompt color changes are handled dynamically by the widget based on mode */

/* Warning state prompt */
#input-box.border-warning #prompt {
    color: $warning;
}

/* Safe state prompt */
#input-box.border-safe #prompt {
    color: $success;
}

/* Error state prompt */
#input-box.border-error #prompt {
    color: $error;
}

/* ============================================================================
   TEXT INPUT AREA - Clean, Focused Writing Space
   ============================================================================ */

#input {
    width: 1fr;
    height: auto;
    min-height: 1;
    max-height: 16;
    background: transparent;
    color: $text;
    border: none;
    padding: 0;
    margin: 0;
    /* Hide scrollbars for clean look */
    scrollbar-size: 0 0;
    scrollbar-visibility: hidden;
}

/* Placeholder text - subtle hint */
#input.-placeholder {
    color: $text-muted;
}

/* ============================================================================
   COMPLETION ITEM STYLING
   ============================================================================ */

.completion-item {
    width: 100%;
    height: auto;
    padding: 0 1;
    color: $foreground;
}

.completion-item.selected {
    background: $primary;
    color: $text;
    text-style: bold;
}

.completion-item-command {
    width: auto;
    color: $primary;
    text-style: bold;
}

.completion-item-description {
    width: 1fr;
    color: $text-muted;
    padding-left: 2;
}

/* ============================================================================
   KEYBOARD HINTS (Optional Footer)
   ============================================================================ */

.input-hints {
    width: 100%;
    height: auto;
    padding: 0 1;
    color: $text-muted;
    text-align: right;
}

.input-hint-key {
    color: $foreground;
    text-style: bold;
}

.input-hint-description {
    color: $text-muted;
}

/* ============================================================================
   FOCUS STATES - Subtle Depth on Interaction
   ============================================================================ */

#input-box:focus-within {
    border-left: thick $accent;
}

#input-box.border-warning:focus-within {
    border-left: thick $warning;
}

#input-box.border-safe:focus-within {
    border-left: thick $success;
}

#input-box.border-error:focus-within {
    border-left: thick $error;
}
