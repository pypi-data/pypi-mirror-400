interactions:
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": [{"text":
      "The new quantum computing breakthrough could revolutionize the tech industry.",
      "type": "text", "cache_control": {"type": "ephemeral", "ttl": "5m"}}]}], "model":
      "claude-haiku-4-5-20251001", "stream": false, "system": [{"type": "text", "text":
      "You are a friendly but terse assistant.", "cache_control": {"type": "ephemeral",
      "ttl": "5m"}}], "tool_choice": {"type": "tool", "name": "_structured_tool_call"},
      "tools": [{"name": "_structured_tool_call", "input_schema": {"type": "object",
      "properties": {"data": {"description": "Array of classification results. The
      scores should sum to 1.", "properties": {"classifications": {"items": {"$ref":
      "#/$defs/Classification"}, "type": "array"}}, "required": ["classifications"],
      "type": "object", "additionalProperties": false}}, "$defs": {"Classification":
      {"properties": {"name": {"description": "The category name", "enum": ["Politics",
      "Sports", "Technology", "Entertainment", "Business", "Other"], "title": "Name",
      "type": "string"}, "score": {"description": "The classification score for the
      category, ranging from 0.0 to 1.0.", "title": "Score", "type": "number"}}, "required":
      ["name", "score"], "title": "Classification", "type": "object", "additionalProperties":
      false}}}, "description": "Extract structured data"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1251'
      Content-Type:
      - application/json
      Host:
      - api.anthropic.com
      X-Stainless-Async:
      - 'false'
      anthropic-version:
      - '2023-06-01'
      x-stainless-read-timeout:
      - '600'
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"model":"claude-haiku-4-5-20251001","id":"msg_012sEhjbSWV1Bi2HHnMLA2Ec","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WQtuJ2RRnRgfEyzEnmWSMZ","name":"_structured_tool_call","input":{"data":{"classifications":[{"name":"Technology","score":0.95},{"name":"Business","score":0.05},{"name":"Politics","score":0.0},{"name":"Sports","score":0.0},{"name":"Entertainment","score":0.0},{"name":"Other","score":0.0}]}}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":855,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":181,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 9b653de28d671f38-DEN
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 30 Dec 2025 23:15:54 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '4000000'
      anthropic-ratelimit-input-tokens-remaining:
      - '4000000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-12-30T23:15:53Z'
      anthropic-ratelimit-output-tokens-limit:
      - '800000'
      anthropic-ratelimit-output-tokens-remaining:
      - '800000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-12-30T23:15:54Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-12-30T23:15:53Z'
      anthropic-ratelimit-tokens-limit:
      - '4800000'
      anthropic-ratelimit-tokens-remaining:
      - '4800000'
      anthropic-ratelimit-tokens-reset:
      - '2025-12-30T23:15:53Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '705'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '1028'
    status:
      code: 200
      message: OK
version: 1
