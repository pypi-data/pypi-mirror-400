from _typeshed import Incomplete
from pyomo.common.deprecation import deprecated as deprecated
from pyomo.common.deprecation import deprecation_warning as deprecation_warning
from pyomo.common.errors import PyomoException as PyomoException

class PluginGlobals:
    @staticmethod
    def add_env(name) -> None: ...
    @staticmethod
    def pop_env() -> None: ...
    @staticmethod
    def clear() -> None: ...

class PluginError(PyomoException): ...

def alias(name, doc=None, subclass=None) -> None: ...
def implements(interface, inherit=None, namespace=None, service: bool = False) -> None: ...

class InterfaceMeta(type):
    def __new__(cls, name, bases, classdict, *args, **kwargs): ...

class Interface(metaclass=InterfaceMeta): ...

class _deprecated_plugin_dict(dict):
    def __init__(self, name, classdict) -> None: ...
    def __setitem__(self, key, val) -> None: ...
    def items(self): ...

class DeprecatedInterfaceMeta(InterfaceMeta):
    def __new__(cls, name, bases, classdict, *args, **kwargs): ...

class DeprecatedInterface(Interface, metaclass=DeprecatedInterfaceMeta): ...

class PluginMeta(type):
    def __new__(cls, name, bases, classdict, *args, **kwargs): ...

class Plugin(metaclass=PluginMeta):
    def __new__(cls): ...
    def activate(self) -> None: ...
    enable = activate
    def deactivate(self) -> None: ...
    disable = deactivate
    def enabled(self): ...

class SingletonPlugin(Plugin):
    __singleton__: bool

class ExtensionPoint:
    def __init__(self, interface) -> None: ...
    def __iter__(self, key=None, all: bool = False): ...
    def __len__(self) -> int: ...
    def extensions(self, all: bool = False, key=None): ...
    def __call__(self, key=None, all: bool = False): ...
    def service(self, key=None, all: bool = False): ...

class PluginFactory:
    interface: Incomplete
    def __init__(self, interface) -> None: ...
    def __call__(self, name, *args, **kwds): ...
    def services(self): ...
    def get_class(self, name): ...
    def doc(self, name): ...
    def deactivate(self, name) -> None: ...
    def activate(self, name) -> None: ...

CreatePluginFactory = PluginFactory
