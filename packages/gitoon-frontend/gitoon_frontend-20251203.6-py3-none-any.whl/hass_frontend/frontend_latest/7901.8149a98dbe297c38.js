export const __webpack_id__="7901";export const __webpack_ids__=["7901"];export const __webpack_modules__={80785:function(e,t,a){function n(e){return!!e&&(e instanceof Date&&!isNaN(e.valueOf()))}a.d(t,{A:()=>n})},72487:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{CA:()=>x,Pm:()=>b,Wq:()=>v,Yq:()=>s,fr:()=>_,gu:()=>$,kz:()=>u,sl:()=>g,zB:()=>h});a(18111),a(20116);var i=a(74487),o=a(22786),r=a(46927),c=a(8480),l=e([i,c]);[i,c]=l.then?(await l)():l;(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,c.w)(e.time_zone,t)}));const s=(e,t,a)=>d(t,a.time_zone).format(e),d=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,c.w)(e.time_zone,t)})),u=(e,t,a)=>m(t,a.time_zone).format(e),m=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,c.w)(e.time_zone,t)})),h=(e,t,a)=>{const n=p(t,a.time_zone);if(t.date_format===r.ow.language||t.date_format===r.ow.system)return n.format(e);const i=n.formatToParts(e),o=i.find(e=>"literal"===e.type)?.value,c=i.find(e=>"day"===e.type)?.value,l=i.find(e=>"month"===e.type)?.value,s=i.find(e=>"year"===e.type)?.value,d=i[i.length-1];let u="literal"===d?.type?d?.value:"";"bg"===t.language&&t.date_format===r.ow.YMD&&(u="");return{[r.ow.DMY]:`${c}${o}${l}${o}${s}${u}`,[r.ow.MDY]:`${l}${o}${c}${o}${s}${u}`,[r.ow.YMD]:`${s}${o}${l}${o}${c}${u}`}[t.date_format]},p=(0,o.A)((e,t)=>{const a=e.date_format===r.ow.system?void 0:e.language;return e.date_format===r.ow.language||(e.date_format,r.ow.system),new Intl.DateTimeFormat(a,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,c.w)(e.time_zone,t)})}),g=(e,t,a)=>f(t,a.time_zone).format(e),f=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short",timeZone:(0,c.w)(e.time_zone,t)})),_=(e,t,a)=>y(t,a.time_zone).format(e),y=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric",timeZone:(0,c.w)(e.time_zone,t)})),v=(e,t,a)=>w(t,a.time_zone).format(e),w=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",timeZone:(0,c.w)(e.time_zone,t)})),b=(e,t,a)=>k(t,a.time_zone).format(e),k=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",timeZone:(0,c.w)(e.time_zone,t)})),x=(e,t,a)=>z(t,a.time_zone).format(e),z=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",timeZone:(0,c.w)(e.time_zone,t)})),$=(e,t,a)=>C(t,a.time_zone).format(e),C=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"short",timeZone:(0,c.w)(e.time_zone,t)}));n()}catch(e){n(e)}})},95747:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{CL:()=>v,GH:()=>k,Rl:()=>h,ZS:()=>_,aQ:()=>g,r6:()=>u,yg:()=>w});var i=a(74487),o=a(22786),r=a(72487),c=a(30162),l=a(8480),s=a(69543),d=e([i,l,r,c]);[i,l,r,c]=d.then?(await d)():d;const u=(e,t,a)=>m(t,a.time_zone).format(e),m=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)})),h=e=>p().format(e),p=(0,o.A)(()=>new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),g=(e,t,a)=>f(t,a.time_zone).format(e),f=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)})),_=(e,t,a)=>y(t,a.time_zone).format(e),y=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{month:"short",day:"numeric",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)})),v=(e,t,a)=>(new Date).getFullYear()===e.getFullYear()?_(e,t,a):g(e,t,a),w=(e,t,a)=>b(t,a.time_zone).format(e),b=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)})),k=(e,t,a)=>`${(0,r.zB)(e,t,a)}, ${(0,c.fU)(e,t,a)}`;n()}catch(e){n(e)}})},30162:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{LW:()=>g,Xs:()=>h,fU:()=>s,ie:()=>u});var i=a(74487),o=a(22786),r=a(8480),c=a(69543),l=e([i,r]);[i,r]=l.then?(await l)():l;const s=(e,t,a)=>d(t,a.time_zone).format(e),d=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),u=(e,t,a)=>m(t,a.time_zone).format(e),m=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,c.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),h=(e,t,a)=>p(t,a.time_zone).format(e),p=(0,o.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,c.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,c.J)(e)?"h12":"h23",timeZone:(0,r.w)(e.time_zone,t)})),g=(e,t,a)=>f(t,a.time_zone).format(e),f=(0,o.A)((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,r.w)(e.time_zone,t)}));n()}catch(e){n(e)}})},98975:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{K:()=>s});var i=a(74487),o=a(22786),r=a(63927),c=e([i,r]);[i,r]=c.then?(await c)():c;const l=(0,o.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),s=(e,t,a,n=!0)=>{const i=(0,r.x)(e,a,t);return n?l(t).format(i.value,i.unit):Intl.NumberFormat(t.language,{style:"unit",unit:i.unit,unitDisplay:"long"}).format(Math.abs(i.value))};n()}catch(e){n(e)}})},8480:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{n:()=>l,w:()=>s});var i=a(74487),o=a(46927),r=e([i]);i=(r.then?(await r)():r)[0];const c=Intl.DateTimeFormat?.().resolvedOptions?.().timeZone,l=c??"UTC",s=(e,t)=>e===o.Wj.local&&c?l:t;n()}catch(e){n(e)}})},69543:function(e,t,a){a.d(t,{J:()=>o});var n=a(22786),i=a(46927);const o=(0,n.A)(e=>{if(e.time_format===i.Hg.language||e.time_format===i.Hg.system){const t=e.time_format===i.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===i.Hg.am_pm})},63927:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{x:()=>u});var i=a(6946),o=a(52640),r=a(38684),c=a(380);const l=1e3,s=60,d=60*s;function u(e,t=Date.now(),a,n={}){const u={...m,...n||{}},h=(+e-+t)/l;if(Math.abs(h)<u.second)return{value:Math.round(h),unit:"second"};const p=h/s;if(Math.abs(p)<u.minute)return{value:Math.round(p),unit:"minute"};const g=h/d;if(Math.abs(g)<u.hour)return{value:Math.round(g),unit:"hour"};const f=new Date(e),_=new Date(t);f.setHours(0,0,0,0),_.setHours(0,0,0,0);const y=(0,i.c)(f,_);if(0===y)return{value:Math.round(g),unit:"hour"};if(Math.abs(y)<u.day)return{value:y,unit:"day"};const v=(0,c.P)(a),w=(0,o.k)(f,{weekStartsOn:v}),b=(0,o.k)(_,{weekStartsOn:v}),k=(0,r.I)(w,b);if(0===k)return{value:y,unit:"day"};if(Math.abs(k)<u.week)return{value:k,unit:"week"};const x=f.getFullYear()-_.getFullYear(),z=12*x+f.getMonth()-_.getMonth();return 0===z?{value:k,unit:"week"}:Math.abs(z)<u.month||0===x?{value:z,unit:"month"}:{value:Math.round(x),unit:"year"}}const m={second:59,minute:59,hour:22,day:5,week:4,month:11};n()}catch(h){n(h)}})},91380:function(e,t,a){a.d(t,{O:()=>h,jB:()=>p});var n=a(62826),i=a(76974),o=a(5101),r=a(68649),c=a(96196),l=a(44457);let s;i.l.addInitializer(async e=>{await e.updateComplete;const t=e;t.dialog.prepend(t.scrim),t.scrim.style.inset=0,t.scrim.style.zIndex=0;const{getOpenAnimation:a,getCloseAnimation:n}=t;t.getOpenAnimation=()=>{const e=a.call(void 0);return e.container=[...e.container??[],...e.dialog??[]],e.dialog=[],e},t.getCloseAnimation=()=>{const e=n.call(void 0);return e.container=[...e.container??[],...e.dialog??[]],e.dialog=[],e}});class d extends i.l{async _handleOpen(e){if(e.preventDefault(),this._polyfillDialogRegistered)return;this._polyfillDialogRegistered=!0,this._loadPolyfillStylesheet("/static/polyfills/dialog-polyfill.css");const t=this.shadowRoot?.querySelector("dialog");(await s).default.registerDialog(t),this.removeEventListener("open",this._handleOpen),this.show()}async _loadPolyfillStylesheet(e){const t=document.createElement("link");return t.rel="stylesheet",t.href=e,new Promise((a,n)=>{t.onload=()=>a(),t.onerror=()=>n(new Error(`Stylesheet failed to load: ${e}`)),this.shadowRoot?.appendChild(t)})}_handleCancel(e){if(this.disableCancelAction){e.preventDefault();const t=this.shadowRoot?.querySelector("dialog .container");void 0!==this.animate&&t?.animate([{transform:"rotate(-1deg)","animation-timing-function":"ease-in"},{transform:"rotate(1.5deg)","animation-timing-function":"ease-out"},{transform:"rotate(0deg)","animation-timing-function":"ease-in"}],{duration:200,iterations:2})}}constructor(){super(),this.disableCancelAction=!1,this._polyfillDialogRegistered=!1,this.addEventListener("cancel",this._handleCancel),"function"!=typeof HTMLDialogElement&&(this.addEventListener("open",this._handleOpen),s||(s=a.e("98017").then(a.bind(a,44984)))),void 0===this.animate&&(this.quick=!0),void 0===this.animate&&(this.quick=!0)}}d.styles=[o.R,c.AH`:host{--md-dialog-container-color:var(--card-background-color);--md-dialog-headline-color:var(--primary-text-color);--md-dialog-supporting-text-color:var(--primary-text-color);--md-sys-color-scrim:#000000;--md-dialog-headline-weight:var(--ha-font-weight-normal);--md-dialog-headline-size:var(--ha-font-size-xl);--md-dialog-supporting-text-size:var(--ha-font-size-m);--md-dialog-supporting-text-line-height:var(--ha-line-height-normal);--md-divider-color:var(--divider-color)}:host([type=alert]){min-width:320px}@media all and (max-width:450px),all and (max-height:500px){:host(:not([type=alert])){min-width:var(--mdc-dialog-min-width,100vw);min-height:100%;max-height:100%;--md-dialog-container-shape:0}.container{margin-top:var(--safe-area-inset-top,var(--ha-space-0));margin-bottom:var(--safe-area-inset-bottom,var(--ha-space-0));margin-left:var(--safe-area-inset-left,var(--ha-space-0));margin-right:var(--safe-area-inset-right,var(--ha-space-0))}}::slotted(ha-dialog-header[slot=headline]){display:contents}slot[name=actions]::slotted(*){padding:var(--ha-space-4)}.scroller{overflow:var(--dialog-content-overflow,auto)}slot[name=content]::slotted(*){padding:var(--dialog-content-padding,var(--ha-space-6))}.scrim{z-index:10}`],(0,n.__decorate)([(0,l.MZ)({attribute:"disable-cancel-action",type:Boolean})],d.prototype,"disableCancelAction",void 0),d=(0,n.__decorate)([(0,l.EM)("ha-md-dialog")],d);const u={...r.T,dialog:[[[{transform:"translateY(50px)"},{transform:"translateY(0)"}],{duration:500,easing:"cubic-bezier(.3,0,0,1)"}]],container:[[[{opacity:0},{opacity:1}],{duration:50,easing:"linear",pseudoElement:"::before"}]]},m={...r.N,dialog:[[[{transform:"translateY(0)"},{transform:"translateY(50px)"}],{duration:150,easing:"cubic-bezier(.3,0,0,1)"}]],container:[[[{opacity:"1"},{opacity:"0"}],{delay:100,duration:50,easing:"linear",pseudoElement:"::before"}]]},h=()=>window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?u:r.T,p=()=>window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?m:r.N},2846:function(e,t,a){a.d(t,{G:()=>s,J:()=>l});var n=a(62826),i=a(97154),o=a(82553),r=a(96196),c=a(44457);a(54276);const l=[o.R,r.AH`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}`];class s extends i.n{renderRipple(){return"text"===this.type?r.s6:r.qy`<ha-ripple part="ripple" for="item" ?disabled="${this.disabled&&"link"!==this.type}"></ha-ripple>`}}s.styles=l,s=(0,n.__decorate)([(0,c.EM)("ha-md-list-item")],s)},17308:function(e,t,a){var n=a(62826),i=a(49838),o=a(11245),r=a(96196),c=a(44457);class l extends i.B{}l.styles=[o.R,r.AH`:host{--md-sys-color-surface:var(--card-background-color)}`],l=(0,n.__decorate)([(0,c.EM)("ha-md-list")],l)},54276:function(e,t,a){var n=a(62826),i=a(76482),o=a(91382),r=a(96245),c=a(96196),l=a(44457);class s extends o.n{attach(e){super.attach(e),this.attachableTouchController.attach(e)}disconnectedCallback(){super.disconnectedCallback(),this.hovered=!1,this.pressed=!1}detach(){super.detach(),this.attachableTouchController.detach()}_onTouchControlChange(e,t){e?.removeEventListener("touchend",this._handleTouchEnd),t?.addEventListener("touchend",this._handleTouchEnd)}constructor(...e){super(...e),this.attachableTouchController=new i.i(this,this._onTouchControlChange.bind(this)),this._handleTouchEnd=()=>{this.disabled||super.endPressAnimation()}}}s.styles=[r.R,c.AH`:host{--md-ripple-hover-opacity:var(--ha-ripple-hover-opacity, 0.08);--md-ripple-pressed-opacity:var(--ha-ripple-pressed-opacity, 0.12);--md-ripple-hover-color:var(
          --ha-ripple-hover-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        );--md-ripple-pressed-color:var(
          --ha-ripple-pressed-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        )}`],s=(0,n.__decorate)([(0,l.EM)("ha-ripple")],s)},31420:function(e,t,a){a.a(e,async function(e,n){try{a.d(t,{Bi:()=>B,Dt:()=>K,EB:()=>I,IW:()=>D,P_:()=>z,SG:()=>C,Sx:()=>P,T2:()=>_,Xm:()=>v,Ye:()=>y,Zm:()=>M,cq:()=>U,dH:()=>A,en:()=>G,gb:()=>w,gv:()=>F,jU:()=>Z,kI:()=>T,mF:()=>S,mu:()=>$,oJ:()=>E,pI:()=>k,pL:()=>j,q5:()=>Y,q7:()=>R,qk:()=>f,sp:()=>H,uM:()=>N,v3:()=>W,xN:()=>X,yL:()=>b,yj:()=>O,zZ:()=>x});a(16573),a(78100),a(77936),a(18111),a(22489),a(20116),a(7588),a(61701),a(37467),a(44732),a(79577),a(41549),a(49797),a(49631),a(35623),a(14603),a(47566),a(98721);var i=a(22711),o=a(97732),r=a(6226),c=a(22786),l=a(80785),s=a(95747),d=a(30162),u=a(36918),m=a(33668),h=a(39889),p=a(95350),g=e([i,s,d]);[i,s,d]=g.then?(await g)():g;var f=function(e){return e.NEVER="never",e.DAILY="daily",e.CUSTOM_DAYS="custom_days",e}({});const _=["mon","tue","wed","thu","fri","sat","sun"],y=e=>e.sort((e,t)=>_.indexOf(e)-_.indexOf(t)),v=e=>e.callWS({type:"backup/config/info"}),w=(e,t)=>e.callWS({type:"backup/config/update",...t}),b=(e,t,a)=>`/api/backup/download/${e}?agent_id=${t}${a?`&password=${a}`:""}`,k=e=>e.callWS({type:"backup/info"}),x=(e,t)=>e.callWS({type:"backup/details",backup_id:t}),z=e=>e.callWS({type:"backup/agents/info"}),$=(e,t)=>e.callWS({type:"backup/delete",backup_id:t}),C=(e,t)=>e.callWS({type:"backup/generate",...t}),D=e=>e.callWS({type:"backup/generate_with_automatic_settings"}),A=(e,t)=>e.callWS({type:"backup/restore",...t}),T=async(e,t,a)=>{const n=new FormData;n.append("file",t);const i=new URLSearchParams;return a.forEach(e=>{i.append("agent_id",e)}),(0,h.QE)(e.fetchWithAuth(`/api/backup/upload?${i.toString()}`,{method:"POST",body:n}))},I=e=>{const t=e.find(B);if(t)return t;const a=e.find(Z);return a||e[0]},M=(e,t,a,n)=>e.callWS({type:"backup/can_decrypt_on_download",backup_id:t,agent_id:a,password:n}),F="backup.local",S="hassio.local",E="cloud.cloud",B=e=>[F,S].includes(e),Z=e=>{const[t,a]=e.split(".");return"hassio"===t&&"local"!==a},R=(e,t,a)=>{if(B(t))return e("ui.panel.config.backup.agents.local_agent");const n=a.find(e=>e.agent_id===t),i=t.split(".")[0],o=n?n.name:t.split(".")[1];if(Z(t))return o;const r=(0,p.p$)(e,i);return a.filter(e=>e.agent_id.split(".")[0]===i).length>1?`${r}: ${o}`:r},W=e=>Math.max(...Object.values(e.agents).map(e=>e.size)),J=["automatic","addon_update","manual"],Y=(0,i.z)(e=>e?J:J.filter(e=>"addon_update"!==e)),H=(e,t)=>e.with_automatic_settings?"automatic":t&&null!=e.extra_metadata?.["supervisor.addon_update"]?"addon_update":"manual",O=(e,t)=>{const a=B(e),n=B(t),i=Z(e),o=Z(t),r=(e,t)=>e?1:t?2:3,c=r(a,i),l=r(n,o);return c!==l?c-l:e.localeCompare(t)},U=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx";let a="";const n=new Uint8Array(34);return crypto.getRandomValues(n),n.forEach((n,i)=>{a+="-"===t[i]?"-":e[n%36]}),a},L=(e,t)=>"data:text/plain;charset=utf-8,"+encodeURIComponent(`${e.localize("ui.panel.config.backup.emergency_kit_file.title")}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.description")}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.date")} ${(0,s.r6)(new Date,e.locale,e.config)}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.instance")}\n${e.config.location_name}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.url")}\n${e.auth.data.hassUrl}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.encryption_key")}\n${t}\n\n${e.localize("ui.panel.config.backup.emergency_kit_file.more_info",{link:(0,u.o)(e,"/more-info/backup-emergency-kit")})}`),q=(e,t)=>`home_assistant_backup_emergency_kit_${t?`${t}_`:""}${(0,s.GH)(new Date,e.locale,e.config).replace(",","").replace(" ","_")}.txt`,P=(e,t,a)=>(0,m.R)(L(e,t),q(e,a)),N=(0,o.g)((0,r.a)(new Date,4),45),j=(0,o.g)((0,r.a)(new Date,5),45),G=(0,c.A)((e,t,a)=>{if((0,l.A)(a))return(0,d.fU)(a,e,t);if("string"==typeof a&&a){const n=a.split(":"),i=(0,o.g)((0,r.a)(new Date,parseInt(n[0])),parseInt(n[1]));return(0,d.fU)(i,e,t)}return`${(0,d.fU)(N,e,t)} - ${(0,d.fU)(j,e,t)}`}),X="application/x-tar",K={file:void 0};n()}catch(e){n(e)}})},26581:function(e,t,a){a.d(t,{r:()=>i,y:()=>n});const n=async e=>e.callWS({type:"hassio/update/config/info"}),i=async(e,t)=>e.callWS({type:"hassio/update/config/update",...t})},56588:function(e,t,a){a.a(e,async function(e,n){try{a.r(t),a.d(t,{DialogLabsPreviewFeatureEnable:()=>p});var i=a(62826),o=a(96196),r=a(44457),c=a(36312),l=a(98975),s=a(1087),d=a(18350),u=(a(91380),a(17308),a(2846),a(59646),a(31420)),m=a(26581),h=e([d,u,l]);[d,u,l]=h.then?(await h)():h;class p extends o.WF{async showDialog(e){this._params=e,this._createBackup=!1,this._fetchBackupConfig(),(0,c.x)(this.hass,"hassio")&&this._fetchUpdateBackupConfig()}closeDialog(){return this._dialog?.close(),!0}_dialogClosed(){this._params=void 0,this._backupConfig=void 0,this._createBackup=!1,(0,s.r)(this,"dialog-closed",{dialog:this.localName})}async _fetchBackupConfig(){try{const{config:e}=await(0,u.Xm)(this.hass);this._backupConfig=e}catch(e){console.error(e)}}async _fetchUpdateBackupConfig(){try{const e=await(0,m.y)(this.hass);this._createBackup=e.core_backup_before_update}catch(e){console.error(e)}}_computeCreateBackupTexts(){if(!this._backupConfig||!this._backupConfig.automatic_backups_configured||!this._backupConfig.create_backup.password||0===this._backupConfig.create_backup.agent_ids.length)return{title:this.hass.localize("ui.panel.config.labs.create_backup.manual"),description:this.hass.localize("ui.panel.config.labs.create_backup.manual_description")};const e=this._backupConfig.last_completed_automatic_backup?new Date(this._backupConfig.last_completed_automatic_backup):null,t=new Date;return{title:this.hass.localize("ui.panel.config.labs.create_backup.automatic"),description:e?this.hass.localize("ui.panel.config.labs.create_backup.automatic_description_last",{relative_time:(0,l.K)(e,this.hass.locale,t,!0)}):this.hass.localize("ui.panel.config.labs.create_backup.automatic_description_none")}}_createBackupChanged(e){this._createBackup=e.target.checked}_handleCancel(){this.closeDialog()}_handleConfirm(){this._params&&this._params.onConfirm(this._createBackup),this.closeDialog()}render(){if(!this._params)return o.s6;const e=this._computeCreateBackupTexts();return o.qy` <ha-md-dialog open @closed="${this._dialogClosed}"> <span slot="headline"> ${this.hass.localize("ui.panel.config.labs.enable_title")} </span> <div slot="content"> <p> ${this.hass.localize(`component.${this._params.preview_feature.domain}.preview_features.${this._params.preview_feature.preview_feature}.enable_confirmation`)||this.hass.localize("ui.panel.config.labs.enable_confirmation")} </p> </div> <div slot="actions"> ${e?o.qy` <ha-md-list> <ha-md-list-item> <span slot="headline">${e.title}</span> ${e.description?o.qy` <span slot="supporting-text"> ${e.description} </span> `:o.s6} <ha-switch slot="end" .checked="${this._createBackup}" @change="${this._createBackupChanged}"></ha-switch> </ha-md-list-item> </ha-md-list> `:o.s6} <div> <ha-button appearance="plain" @click="${this._handleCancel}"> ${this.hass.localize("ui.common.cancel")} </ha-button> <ha-button appearance="filled" variant="brand" @click="${this._handleConfirm}"> ${this.hass.localize("ui.panel.config.labs.enable")} </ha-button> </div> </div> </ha-md-dialog> `}constructor(...e){super(...e),this._createBackup=!1}}p.styles=o.AH`ha-md-dialog{--dialog-content-padding:var(--ha-space-6)}p{margin:0;color:var(--secondary-text-color)}div[slot=actions]{display:flex;flex-direction:column;padding:0}ha-md-list{background:0 0;--md-list-item-leading-space:var(--ha-space-6);--md-list-item-trailing-space:var(--ha-space-6);margin:0;padding:0;border-top:var(--ha-border-width-sm) solid var(--divider-color)}div[slot=actions]>div{display:flex;justify-content:flex-end;gap:var(--ha-space-2);padding:var(--ha-space-4) var(--ha-space-6)}`,(0,i.__decorate)([(0,r.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,i.__decorate)([(0,r.wk)()],p.prototype,"_params",void 0),(0,i.__decorate)([(0,r.wk)()],p.prototype,"_backupConfig",void 0),(0,i.__decorate)([(0,r.wk)()],p.prototype,"_createBackup",void 0),(0,i.__decorate)([(0,r.P)("ha-md-dialog")],p.prototype,"_dialog",void 0),p=(0,i.__decorate)([(0,r.EM)("dialog-labs-preview-feature-enable")],p),n()}catch(e){n(e)}})},33668:function(e,t,a){a.d(t,{h:()=>o,R:()=>i});var n=a(37177);const i=(e,t="")=>{const a=document.createElement("a");a.target="_blank",a.href=e,a.download=t,a.style.display="none",document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),document.body.removeChild(a)},o=e=>!(e=>!!e.auth.external&&n.n)(e)||!!e.auth.external?.config.downloadFileSupported},37177:function(e,t,a){a.d(t,{n:()=>n});const n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}};
//# sourceMappingURL=7901.8149a98dbe297c38.js.map