export const __webpack_id__="18052";export const __webpack_ids__=["18052"];export const __webpack_modules__={80785:function(e,t,i){function a(e){return!!e&&(e instanceof Date&&!isNaN(e.valueOf()))}i.d(t,{A:()=>a})},98975:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{K:()=>c});var o=i(74487),r=i(22786),s=i(63927),n=e([o,s]);[o,s]=n.then?(await n)():n;const d=(0,r.A)(e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})),c=(e,t,i,a=!0)=>{const o=(0,s.x)(e,i,t);return a?d(t).format(o.value,o.unit):Intl.NumberFormat(t.language,{style:"unit",unit:o.unit,unitDisplay:"long"}).format(Math.abs(o.value))};a()}catch(e){a(e)}})},57237:function(e,t,i){i.d(t,{d:()=>a});const a=e=>e.stopPropagation()},52943:function(e,t,i){i.d(t,{Z:()=>a});const a=e=>e.charAt(0).toUpperCase()+e.slice(1)},63927:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{x:()=>h});var o=i(6946),r=i(52640),s=i(38684),n=i(380);const d=1e3,c=60,l=60*c;function h(e,t=Date.now(),i,a={}){const h={...p,...a||{}},u=(+e-+t)/d;if(Math.abs(u)<h.second)return{value:Math.round(u),unit:"second"};const v=u/c;if(Math.abs(v)<h.minute)return{value:Math.round(v),unit:"minute"};const _=u/l;if(Math.abs(_)<h.hour)return{value:Math.round(_),unit:"hour"};const g=new Date(e),y=new Date(t);g.setHours(0,0,0,0),y.setHours(0,0,0,0);const m=(0,o.c)(g,y);if(0===m)return{value:Math.round(_),unit:"hour"};if(Math.abs(m)<h.day)return{value:m,unit:"day"};const b=(0,n.P)(i),f=(0,r.k)(g,{weekStartsOn:b}),w=(0,r.k)(y,{weekStartsOn:b}),C=(0,s.I)(f,w);if(0===C)return{value:m,unit:"day"};if(Math.abs(C)<h.week)return{value:C,unit:"week"};const M=g.getFullYear()-y.getFullYear(),A=12*M+g.getMonth()-y.getMonth();return 0===A?{value:C,unit:"week"}:Math.abs(A)<h.month||0===M?{value:A,unit:"month"}:{value:Math.round(M),unit:"year"}}const p={second:59,minute:59,hour:22,day:5,week:4,month:11};a()}catch(u){a(u)}})},38962:function(e,t,i){i.r(t);var a=i(62826),o=i(96196),r=i(44457),s=i(94333),n=i(1087);i(26300),i(67094);const d={info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"};class c extends o.WF{render(){return o.qy` <div class="issue-type ${(0,s.H)({[this.alertType]:!0})}" role="alert"> <div class="icon ${this.title?"":"no-title"}"> <slot name="icon"> <ha-svg-icon .path="${d[this.alertType]}"></ha-svg-icon> </slot> </div> <div class="${(0,s.H)({content:!0,narrow:this.narrow})}"> <div class="main-content"> ${this.title?o.qy`<div class="title">${this.title}</div>`:o.s6} <slot></slot> </div> <div class="action"> <slot name="action"> ${this.dismissable?o.qy`<ha-icon-button @click="${this._dismissClicked}" label="Dismiss alert" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:o.s6} </slot> </div> </div> </div> `}_dismissClicked(){(0,n.r)(this,"alert-dismissed-clicked")}constructor(...e){super(...e),this.title="",this.alertType="info",this.dismissable=!1,this.narrow=!1}}c.styles=o.AH`.issue-type{position:relative;padding:8px;display:flex}.icon{height:var(--ha-alert-icon-size,24px);width:var(--ha-alert-icon-size,24px)}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:var(--ha-border-radius-sm)}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.content.narrow{flex-direction:column;align-items:flex-end}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;line-height:normal;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:8px}.title{margin-top:2px;font-weight:var(--ha-font-weight-bold)}.action ha-icon-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}:host ::slotted(ul){margin:0;padding-inline-start:20px}`,(0,a.__decorate)([(0,r.MZ)()],c.prototype,"title",void 0),(0,a.__decorate)([(0,r.MZ)({attribute:"alert-type"})],c.prototype,"alertType",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean})],c.prototype,"dismissable",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean})],c.prototype,"narrow",void 0),c=(0,a.__decorate)([(0,r.EM)("ha-alert")],c)},76776:function(e,t,i){var a=i(62826),o=i(96196),r=i(44457);class s extends o.WF{render(){return o.qy` ${this.header?o.qy`<h1 class="card-header">${this.header}</h1>`:o.s6} <slot></slot> `}constructor(...e){super(...e),this.raised=!1}}s.styles=o.AH`:host{background:var(--ha-card-background,var(--card-background-color,#fff));-webkit-backdrop-filter:var(--ha-card-backdrop-filter,none);backdrop-filter:var(--ha-card-backdrop-filter,none);box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,var(--primary-text-color));font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, var(--ha-font-size-2xl));letter-spacing:-.012em;line-height:var(--ha-line-height-expanded);padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4);display:block;margin-block-start:var(--ha-space-0);margin-block-end:var(--ha-space-0);font-weight:var(--ha-font-weight-normal)}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:var(--ha-space-0);margin-top:calc(var(--ha-space-2) * -1)}:host ::slotted(.card-content){padding:var(--ha-space-4)}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:var(--ha-space-2)}`,(0,a.__decorate)([(0,r.MZ)()],s.prototype,"header",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean,reflect:!0})],s.prototype,"raised",void 0),s=(0,a.__decorate)([(0,r.EM)("ha-card")],s)},6:function(e,t,i){var a=i(62826),o=i(35949),r=i(38627),s=i(96196),n=i(44457),d=i(94333),c=i(1087);class l extends o.M{render(){const e={"mdc-form-field--align-end":this.alignEnd,"mdc-form-field--space-between":this.spaceBetween,"mdc-form-field--nowrap":this.nowrap};return s.qy` <div class="mdc-form-field ${(0,d.H)(e)}"> <slot></slot> <label class="mdc-label" @click="${this._labelClick}"> <slot name="label">${this.label}</slot> </label> </div>`}_labelClick(){const e=this.input;if(e&&(e.focus(),!e.disabled))switch(e.tagName){case"HA-CHECKBOX":e.checked=!e.checked,(0,c.r)(e,"change");break;case"HA-RADIO":e.checked=!0,(0,c.r)(e,"change");break;default:e.click()}}constructor(...e){super(...e),this.disabled=!1}}l.styles=[r.R,s.AH`:host(:not([alignEnd])) ::slotted(ha-switch){margin-right:10px;margin-inline-end:10px;margin-inline-start:inline}.mdc-form-field{align-items:var(--ha-formfield-align-items,center);gap:var(--ha-space-1)}.mdc-form-field>label{direction:var(--direction);margin-inline-start:0;margin-inline-end:auto;padding:0}:host([disabled]) label{color:var(--disabled-text-color)}`],(0,a.__decorate)([(0,n.MZ)({type:Boolean,reflect:!0})],l.prototype,"disabled",void 0),l=(0,a.__decorate)([(0,n.EM)("ha-formfield")],l)},85938:function(e,t,i){i(18111),i(22489),i(46058);var a=i(62826),o=i(96196),r=i(44457),s=i(1087);class n extends o.WF{updated(e){e.has("disabled")&&(this.disabled?this._destroySortable():this._createSortable())}disconnectedCallback(){super.disconnectedCallback(),this._shouldBeDestroy=!0,setTimeout(()=>{this._shouldBeDestroy&&(this._destroySortable(),this._shouldBeDestroy=!1)},1)}connectedCallback(){super.connectedCallback(),this._shouldBeDestroy=!1,this.hasUpdated&&!this.disabled&&this._createSortable()}createRenderRoot(){return this}render(){return this.noStyle?o.s6:o.qy` <style>.sortable-fallback{display:none!important}.sortable-ghost{box-shadow:0 0 0 2px var(--primary-color);background:rgba(var(--rgb-primary-color),.25);border-radius:var(--ha-border-radius-sm);opacity:.4}.sortable-drag{border-radius:var(--ha-border-radius-sm);opacity:1;background:var(--card-background-color);box-shadow:0px 4px 8px 3px #00000026;cursor:grabbing}</style> `}async _createSortable(){if(this._sortable)return;const e=this.children[0];if(!e)return;const t=(await Promise.all([i.e("85283"),i.e("70322")]).then(i.bind(i,80745))).default,a={scroll:!0,forceAutoScrollFallback:!0,scrollSpeed:20,animation:150,...this.options,onChoose:this._handleChoose,onStart:this._handleStart,onEnd:this._handleEnd,onUpdate:this._handleUpdate,onAdd:this._handleAdd,onRemove:this._handleRemove};this.draggableSelector&&(a.draggable=this.draggableSelector),this.handleSelector&&(a.handle=this.handleSelector),void 0!==this.invertSwap&&(a.invertSwap=this.invertSwap),this.group&&(a.group=this.group),this.filter&&(a.filter=this.filter),this._sortable=new t(e,a)}_destroySortable(){this._sortable&&(this._sortable.destroy(),this._sortable=void 0)}constructor(...e){super(...e),this.disabled=!1,this.noStyle=!1,this.invertSwap=!1,this.rollback=!0,this._shouldBeDestroy=!1,this._handleUpdate=e=>{(0,s.r)(this,"item-moved",{newIndex:e.newIndex,oldIndex:e.oldIndex})},this._handleAdd=e=>{(0,s.r)(this,"item-added",{index:e.newIndex,data:e.item.sortableData,item:e.item})},this._handleRemove=e=>{(0,s.r)(this,"item-removed",{index:e.oldIndex})},this._handleEnd=async e=>{(0,s.r)(this,"drag-end"),this.rollback&&e.item.placeholder&&(e.item.placeholder.replaceWith(e.item),delete e.item.placeholder)},this._handleStart=()=>{(0,s.r)(this,"drag-start")},this._handleChoose=e=>{this.rollback&&(e.item.placeholder=document.createComment("sort-placeholder"),e.item.after(e.item.placeholder))}}}(0,a.__decorate)([(0,r.MZ)({type:Boolean})],n.prototype,"disabled",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean,attribute:"no-style"})],n.prototype,"noStyle",void 0),(0,a.__decorate)([(0,r.MZ)({type:String,attribute:"draggable-selector"})],n.prototype,"draggableSelector",void 0),(0,a.__decorate)([(0,r.MZ)({type:String,attribute:"handle-selector"})],n.prototype,"handleSelector",void 0),(0,a.__decorate)([(0,r.MZ)({type:String,attribute:"filter"})],n.prototype,"filter",void 0),(0,a.__decorate)([(0,r.MZ)({type:String})],n.prototype,"group",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean,attribute:"invert-swap"})],n.prototype,"invertSwap",void 0),(0,a.__decorate)([(0,r.MZ)({attribute:!1})],n.prototype,"options",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean})],n.prototype,"rollback",void 0),n=(0,a.__decorate)([(0,r.EM)("ha-sortable")],n)},59646:function(e,t,i){var a=i(62826),o=i(4845),r=i(49065),s=i(96196),n=i(44457),d=i(88360);class c extends o.U{firstUpdated(){super.firstUpdated(),this.addEventListener("change",()=>{this.haptic&&(0,d.j)(this,"light")})}constructor(...e){super(...e),this.haptic=!1}}c.styles=[r.R,s.AH`:host{--mdc-theme-secondary:var(--switch-checked-color)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:var(--switch-checked-button-color);border-color:var(--switch-checked-button-color)}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:var(--switch-checked-track-color);border-color:var(--switch-checked-track-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:var(--switch-unchecked-button-color);border-color:var(--switch-unchecked-button-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:var(--switch-unchecked-track-color);border-color:var(--switch-unchecked-track-color)}`],(0,a.__decorate)([(0,n.MZ)({type:Boolean})],c.prototype,"haptic",void 0),c=(0,a.__decorate)([(0,n.EM)("ha-switch")],c)},84970:function(e,t,i){i.d(t,{q:()=>a});const a=e=>"string"==typeof e?{type:"entity",entity:e,show_name:!0}:"type"in e&&e.type?e:{type:"entity",...e}},28918:function(e,t,i){function a(e){return"strategy"in e}i.d(t,{H:()=>a})},53072:function(e,t,i){i.d(t,{$6:()=>y,EC:()=>_,ET:()=>g,H1:()=>v,HN:()=>w,Im:()=>H,QI:()=>C,Un:()=>b,Xm:()=>f,ce:()=>M,fh:()=>L,ie:()=>A,mm:()=>m,vj:()=>u});i(44114);var a=i(82286),o=i(47129),r=i(92025),s=i(52069);const n="M11,14C12,14 13.05,14.16 14.2,14.44C13.39,15.31 13,16.33 13,17.5C13,18.39 13.25,19.23 13.78,20H3V18C3,16.81 3.91,15.85 5.74,15.12C7.57,14.38 9.33,14 11,14M11,12C9.92,12 9,11.61 8.18,10.83C7.38,10.05 7,9.11 7,8C7,6.92 7.38,6 8.18,5.18C9,4.38 9.92,4 11,4C12.11,4 13.05,4.38 13.83,5.18C14.61,6 15,6.92 15,8C15,9.11 14.61,10.05 13.83,10.83C13.05,11.61 12.11,12 11,12M18.5,10H20L22,10V12H20V17.5A2.5,2.5 0 0,1 17.5,20A2.5,2.5 0 0,1 15,17.5A2.5,2.5 0 0,1 17.5,15C17.86,15 18.19,15.07 18.5,15.21V10Z",d="M14,19H18V5H14M6,19H10V5H6V19Z",c="M8,5.14V19.14L19,12.14L8,5.14Z",l="M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13",h="M18,18H6V6H18V18Z",p="M8.16,3L6.75,4.41L9.34,7H4C2.89,7 2,7.89 2,9V19C2,20.11 2.89,21 4,21H20C21.11,21 22,20.11 22,19V9C22,7.89 21.11,7 20,7H14.66L17.25,4.41L15.84,3L12,6.84L8.16,3M4,9H17V19H4V9M19.5,9A1,1 0 0,1 20.5,10A1,1 0 0,1 19.5,11A1,1 0 0,1 18.5,10A1,1 0 0,1 19.5,9M19.5,12A1,1 0 0,1 20.5,13A1,1 0 0,1 19.5,14A1,1 0 0,1 18.5,13A1,1 0 0,1 19.5,12Z";var u=function(e){return e[e.PAUSE=1]="PAUSE",e[e.SEEK=2]="SEEK",e[e.VOLUME_SET=4]="VOLUME_SET",e[e.VOLUME_MUTE=8]="VOLUME_MUTE",e[e.PREVIOUS_TRACK=16]="PREVIOUS_TRACK",e[e.NEXT_TRACK=32]="NEXT_TRACK",e[e.TURN_ON=128]="TURN_ON",e[e.TURN_OFF=256]="TURN_OFF",e[e.PLAY_MEDIA=512]="PLAY_MEDIA",e[e.VOLUME_STEP=1024]="VOLUME_STEP",e[e.SELECT_SOURCE=2048]="SELECT_SOURCE",e[e.STOP=4096]="STOP",e[e.CLEAR_PLAYLIST=8192]="CLEAR_PLAYLIST",e[e.PLAY=16384]="PLAY",e[e.SHUFFLE_SET=32768]="SHUFFLE_SET",e[e.SELECT_SOUND_MODE=65536]="SELECT_SOUND_MODE",e[e.BROWSE_MEDIA=131072]="BROWSE_MEDIA",e[e.REPEAT_SET=262144]="REPEAT_SET",e[e.GROUPING=524288]="GROUPING",e}({});const v="browser",_={album:{icon:"M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12,16.5C9.5,16.5 7.5,14.5 7.5,12C7.5,9.5 9.5,7.5 12,7.5C14.5,7.5 16.5,9.5 16.5,12C16.5,14.5 14.5,16.5 12,16.5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",layout:"grid"},app:{icon:"M21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V4C23 2.9 22.1 2 21 2M21 7H3V4H21V7Z",layout:"grid",show_list_images:!0},artist:{icon:n,layout:"grid",show_list_images:!0},channel:{icon:p,thumbnail_ratio:"portrait",layout:"grid",show_list_images:!0},composer:{icon:"M11,4A4,4 0 0,1 15,8A4,4 0 0,1 11,12A4,4 0 0,1 7,8A4,4 0 0,1 11,4M11,6A2,2 0 0,0 9,8A2,2 0 0,0 11,10A2,2 0 0,0 13,8A2,2 0 0,0 11,6M11,13C12.1,13 13.66,13.23 15.11,13.69C14.5,14.07 14,14.6 13.61,15.23C12.79,15.03 11.89,14.9 11,14.9C8.03,14.9 4.9,16.36 4.9,17V18.1H13.04C13.13,18.8 13.38,19.44 13.76,20H3V17C3,14.34 8.33,13 11,13M18.5,10H20L22,10V12H20V17.5A2.5,2.5 0 0,1 17.5,20A2.5,2.5 0 0,1 15,17.5A2.5,2.5 0 0,1 17.5,15C17.86,15 18.19,15.07 18.5,15.21V10Z",layout:"grid",show_list_images:!0},contributing_artist:{icon:n,layout:"grid",show_list_images:!0},directory:{icon:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",layout:"grid",show_list_images:!0},episode:{icon:p,layout:"grid",thumbnail_ratio:"portrait",show_list_images:!0},game:{icon:"M7,6H17A6,6 0 0,1 23,12A6,6 0 0,1 17,18C15.22,18 13.63,17.23 12.53,16H11.47C10.37,17.23 8.78,18 7,18A6,6 0 0,1 1,12A6,6 0 0,1 7,6M6,9V11H4V13H6V15H8V13H10V11H8V9H6M15.5,12A1.5,1.5 0 0,0 14,13.5A1.5,1.5 0 0,0 15.5,15A1.5,1.5 0 0,0 17,13.5A1.5,1.5 0 0,0 15.5,12M18.5,9A1.5,1.5 0 0,0 17,10.5A1.5,1.5 0 0,0 18.5,12A1.5,1.5 0 0,0 20,10.5A1.5,1.5 0 0,0 18.5,9Z",layout:"grid",thumbnail_ratio:"portrait"},genre:{icon:"M8.11,19.45C5.94,18.65 4.22,16.78 3.71,14.35L2.05,6.54C1.81,5.46 2.5,4.4 3.58,4.17L13.35,2.1L13.38,2.09C14.45,1.88 15.5,2.57 15.72,3.63L16.07,5.3L20.42,6.23H20.45C21.5,6.47 22.18,7.53 21.96,8.59L20.3,16.41C19.5,20.18 15.78,22.6 12,21.79C10.42,21.46 9.08,20.61 8.11,19.45V19.45M20,8.18L10.23,6.1L8.57,13.92V13.95C8,16.63 9.73,19.27 12.42,19.84C15.11,20.41 17.77,18.69 18.34,16L20,8.18M16,16.5C15.37,17.57 14.11,18.16 12.83,17.89C11.56,17.62 10.65,16.57 10.5,15.34L16,16.5M8.47,5.17L4,6.13L5.66,13.94L5.67,13.97C5.82,14.68 6.12,15.32 6.53,15.87C6.43,15.1 6.45,14.3 6.62,13.5L7.05,11.5C6.6,11.42 6.21,11.17 6,10.81C6.06,10.2 6.56,9.66 7.25,9.5C7.33,9.5 7.4,9.5 7.5,9.5L8.28,5.69C8.32,5.5 8.38,5.33 8.47,5.17M15.03,12.23C15.35,11.7 16.03,11.42 16.72,11.57C17.41,11.71 17.91,12.24 18,12.86C17.67,13.38 17,13.66 16.3,13.5C15.61,13.37 15.11,12.84 15.03,12.23M10.15,11.19C10.47,10.66 11.14,10.38 11.83,10.53C12.5,10.67 13.03,11.21 13.11,11.82C12.78,12.34 12.11,12.63 11.42,12.5C10.73,12.33 10.23,11.8 10.15,11.19M11.97,4.43L13.93,4.85L13.77,4.05L11.97,4.43Z",layout:"grid",show_list_images:!0},image:{icon:"M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z",layout:"grid",show_list_images:!0},movie:{icon:"M18,4L20,8H17L15,4H13L15,8H12L10,4H8L10,8H7L5,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V4H18Z",thumbnail_ratio:"portrait",layout:"grid",show_list_images:!0},music:{icon:"M21,3V15.5A3.5,3.5 0 0,1 17.5,19A3.5,3.5 0 0,1 14,15.5A3.5,3.5 0 0,1 17.5,12C18.04,12 18.55,12.12 19,12.34V6.47L9,8.6V17.5A3.5,3.5 0 0,1 5.5,21A3.5,3.5 0 0,1 2,17.5A3.5,3.5 0 0,1 5.5,14C6.04,14 6.55,14.12 7,14.34V6L21,3Z",show_list_images:!0},playlist:{icon:"M15,6H3V8H15V6M15,10H3V12H15V10M3,16H11V14H3V16M17,6V14.18C16.69,14.07 16.35,14 16,14A3,3 0 0,0 13,17A3,3 0 0,0 16,20A3,3 0 0,0 19,17V8H22V6H17Z",layout:"grid",show_list_images:!0},podcast:{icon:"M17,18.25V21.5H7V18.25C7,16.87 9.24,15.75 12,15.75C14.76,15.75 17,16.87 17,18.25M12,5.5A6.5,6.5 0 0,1 18.5,12C18.5,13.25 18.15,14.42 17.54,15.41L16,14.04C16.32,13.43 16.5,12.73 16.5,12C16.5,9.5 14.5,7.5 12,7.5C9.5,7.5 7.5,9.5 7.5,12C7.5,12.73 7.68,13.43 8,14.04L6.46,15.41C5.85,14.42 5.5,13.25 5.5,12A6.5,6.5 0 0,1 12,5.5M12,1.5A10.5,10.5 0 0,1 22.5,12C22.5,14.28 21.77,16.39 20.54,18.11L19.04,16.76C19.96,15.4 20.5,13.76 20.5,12A8.5,8.5 0 0,0 12,3.5A8.5,8.5 0 0,0 3.5,12C3.5,13.76 4.04,15.4 4.96,16.76L3.46,18.11C2.23,16.39 1.5,14.28 1.5,12A10.5,10.5 0 0,1 12,1.5M12,9.5A2.5,2.5 0 0,1 14.5,12A2.5,2.5 0 0,1 12,14.5A2.5,2.5 0 0,1 9.5,12A2.5,2.5 0 0,1 12,9.5Z",layout:"grid"},season:{icon:p,layout:"grid",thumbnail_ratio:"portrait",show_list_images:!0},track:{icon:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13,13H11V18A2,2 0 0,1 9,20A2,2 0 0,1 7,18A2,2 0 0,1 9,16C9.4,16 9.7,16.1 10,16.3V11H13V13M13,9V3.5L18.5,9H13Z"},tv_show:{icon:p,layout:"grid",thumbnail_ratio:"portrait"},url:{icon:"M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},video:{icon:"M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z",layout:"grid",show_list_images:!0}},g=(e,t,i,a)=>e.callWS({type:"media_player/browse_media",entity_id:t,media_content_id:i,media_content_type:a}),y=e=>{let t=e.attributes.media_position;return"playing"!==e.state?t:(t+=(Date.now()-new Date(e.attributes.media_position_updated_at).getTime())/1e3,t<0?0:t)},m=e=>{let t;switch(e.attributes.media_content_type){case"music":case"image":t=e.attributes.media_artist;break;case"playlist":t=e.attributes.media_playlist||e.attributes.media_artist;break;case"tvshow":t=e.attributes.media_series_title,e.attributes.media_season&&(t+=" S"+e.attributes.media_season,e.attributes.media_episode&&(t+="E"+e.attributes.media_episode));break;case"channel":t=e.attributes.media_channel;break;default:t=e.attributes.app_name||""}return t},b=(e,t=!1)=>{if(!e)return;const i=e.state;if((0,r.g0)(i))return;if(!(0,o.a)(e))return(0,a.$)(e,128)?[{icon:l,action:"turn_on"}]:void 0;const s=[];(0,a.$)(e,256)&&s.push({icon:l,action:"turn_off"});const n=!0===e.attributes.assumed_state,p=e.attributes;return("playing"===i||"paused"===i||n)&&(0,a.$)(e,32768)&&t&&s.push({icon:!0===p.shuffle?"M14.83,13.41L13.42,14.82L16.55,17.95L14.5,20H20V14.5L17.96,16.54L14.83,13.41M14.5,4L16.54,6.04L4,18.59L5.41,20L17.96,7.46L20,9.5V4M10.59,9.17L5.41,4L4,5.41L9.17,10.58L10.59,9.17Z":"M16,4.5V7H5V9H16V11.5L19.5,8M16,12.5V15H5V17H16V19.5L19.5,16",action:"shuffle_set"}),("playing"===i||"paused"===i||n)&&(0,a.$)(e,16)&&s.push({icon:"M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z",action:"media_previous_track"}),!n&&("playing"===i&&((0,a.$)(e,1)||(0,a.$)(e,4096))||("paused"===i||"idle"===i)&&(0,a.$)(e,16384)||"on"===i&&((0,a.$)(e,16384)||(0,a.$)(e,1)))&&s.push({icon:"on"===i?"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5":"playing"!==i?c:(0,a.$)(e,1)?d:h,action:"playing"!==i?"media_play":(0,a.$)(e,1)?"media_pause":"media_stop"}),n&&(0,a.$)(e,16384)&&s.push({icon:c,action:"media_play"}),n&&(0,a.$)(e,1)&&s.push({icon:d,action:"media_pause"}),n&&(0,a.$)(e,4096)&&s.push({icon:h,action:"media_stop"}),("playing"===i||"paused"===i||n)&&(0,a.$)(e,32)&&s.push({icon:"M16,18H18V6H16M6,18L14.5,12L6,6V18Z",action:"media_next_track"}),("playing"===i||"paused"===i||n)&&(0,a.$)(e,262144)&&t&&s.push({icon:"all"===p.repeat?"M17,17H7V14L3,18L7,22V19H19V13H17M7,7H17V10L21,6L17,2V5H5V11H7V7Z":"one"===p.repeat?"M13,15V9H12L10,10V11H11.5V15M17,17H7V14L3,18L7,22V19H19V13H17M7,7H17V10L21,6L17,2V5H5V11H7V7Z":"M2,5.27L3.28,4L20,20.72L18.73,22L15.73,19H7V22L3,18L7,14V17H13.73L7,10.27V11H5V8.27L2,5.27M17,13H19V17.18L17,15.18V13M17,5V2L21,6L17,10V7H8.82L6.82,5H17Z",action:"repeat_set"}),s.length>0?s:void 0},f=e=>{if(void 0===e||e===1/0)return"";let t=new Date(1e3*e).toISOString();return t=e>3600?t.substring(11,16):t.substring(14,19),t.replace(/^0+/,"").padStart(4,"0")},w=e=>{if(!e)return;const t=e.indexOf("?authSig=");let i=t>0?e.slice(0,t):e;return i.startsWith("http")&&(i=decodeURIComponent(i.split("/").pop())),i},C=(e,t,i)=>e.callService("media_player","volume_set",{entity_id:t,volume_level:i}),M=(e,t,i)=>e.callService("media_player",i,"shuffle_set"===i?{entity_id:t.entity_id,shuffle:!t.attributes.shuffle}:"repeat_set"===i?{entity_id:t.entity_id,repeat:"all"===t.attributes.repeat?"one":"off"===t.attributes.repeat?"all":"off"}:{entity_id:t.entity_id}),A=(e,t,i,a,o={})=>(!o.enqueue&&void 0===o.announce&&(0,s.ni)(i)&&(o.announce=!0),e.callService("media_player","play_media",{entity_id:t,media_content_id:i,media_content_type:a,...o})),H=(e,t,i)=>e.callService("media_player","join",{group_members:i},{entity_id:t}),L=(e,t)=>e.callService("media_player","unjoin",{},{entity_id:t})},25606:function(e,t,i){i.d(t,{O:()=>w});i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var a=i(62826),o=i(96196),r=i(44457),s=i(94333),n=i(4937),d=i(6415),c=i(1087),l=(i(54276),i(85938),i(14503)),h=i(76760);i(13416),i(26300),i(28732),i(67094);const p="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z";class u extends o.WF{firstUpdated(){this.addEventListener("focus",()=>{this._focused=!0}),this.addEventListener("blur",()=>{this._focused=!1}),this.addEventListener("touchstart",()=>{this._touchStarted=!0}),this.addEventListener("touchend",()=>{setTimeout(()=>{this._touchStarted=!1},10)}),this.addEventListener("mouseenter",()=>{this._touchStarted||(this._hover=!0)}),this.addEventListener("mouseleave",()=>{this._hover=!1}),this.addEventListener("click",()=>{this._hover=!0,document.addEventListener("click",this._documentClicked)})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this._documentClicked)}render(){const e=(this._hover||this._menuOpened||this._focused)&&!this.hiddenOverlay;return o.qy` <div class="card-wrapper" inert><slot></slot></div> <div class="card-overlay ${(0,s.H)({visible:e})}"> ${this.noEdit?o.qy` <div class="control"> <div class="control-overlay"></div> <ha-svg-icon .path="${"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}"> </ha-svg-icon> </div> `:o.qy` <div class="control" @click="${this._handleOverlayClick}" @keydown="${this._handleOverlayClick}" tabindex="0"> <div class="control-overlay"></div> <ha-svg-icon .path="${p}"> </ha-svg-icon> </div> `} <ha-button-menu class="more" corner="BOTTOM_END" menu-corner="END" .path="${[this.path]}" @action="${this._handleAction}" @opened="${this._handleOpened}" @closed="${this._handleClosed}"> <ha-icon-button slot="trigger" .path="${"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"}"> </ha-icon-button> ${this.noEdit?o.s6:o.qy` <ha-list-item graphic="icon" @click="${this._handleAction}" .action="${"edit"}"> <ha-svg-icon slot="graphic" .path="${p}"></ha-svg-icon> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.edit")} </ha-list-item> `} ${this.noDuplicate?o.s6:o.qy` <ha-list-item graphic="icon" @click="${this._handleAction}" .action="${"duplicate"}"> <ha-svg-icon slot="graphic" .path="${"M16,8H14V11H11V13H14V16H16V13H19V11H16M2,12C2,9.21 3.64,6.8 6,5.68V3.5C2.5,4.76 0,8.09 0,12C0,15.91 2.5,19.24 6,20.5V18.32C3.64,17.2 2,14.79 2,12M15,3C10.04,3 6,7.04 6,12C6,16.96 10.04,21 15,21C19.96,21 24,16.96 24,12C24,7.04 19.96,3 15,3M15,19C11.14,19 8,15.86 8,12C8,8.14 11.14,5 15,5C18.86,5 22,8.14 22,12C22,15.86 18.86,19 15,19Z"}"></ha-svg-icon> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.duplicate")} </ha-list-item> `} ${this.noMove?o.s6:o.qy` <ha-list-item graphic="icon" @click="${this._handleAction}" .action="${"copy"}"> <ha-svg-icon slot="graphic" .path="${"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}"></ha-svg-icon> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.copy")} </ha-list-item> <ha-list-item graphic="icon" @click="${this._handleAction}" .action="${"cut"}"> <ha-svg-icon slot="graphic" .path="${"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z"}"></ha-svg-icon> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.cut")} </ha-list-item> `} ${this.noDuplicate&&this.noEdit&&this.noMove?o.s6:o.qy`<li divider role="separator"></li>`} <ha-list-item graphic="icon" class="warning" @click="${this._handleAction}" .action="${"delete"}"> ${this.hass.localize("ui.panel.lovelace.editor.edit_card.delete")} <ha-svg-icon class="warning" slot="graphic" .path="${"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}"></ha-svg-icon> </ha-list-item> </ha-button-menu> </div> `}_handleOpened(){this._menuOpened=!0}_handleClosed(){this._menuOpened=!1}_handleOverlayClick(e){e.defaultPrevented||"keydown"===e.type&&"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),this._editCard())}_handleAction(e){switch(e.currentTarget.action){case"edit":this._editCard();break;case"duplicate":this._duplicateCard();break;case"copy":this._copyCard();break;case"cut":this._cutCard();break;case"delete":this._deleteCard()}}_duplicateCard(){(0,c.r)(this,"ll-duplicate-card",{path:this.path})}_editCard(){(0,c.r)(this,"ll-edit-card",{path:this.path})}_cutCard(){(0,c.r)(this,"ll-copy-card",{path:this.path}),(0,c.r)(this,"ll-delete-card",{path:this.path,silent:!0})}_copyCard(){(0,c.r)(this,"ll-copy-card",{path:this.path})}_deleteCard(){(0,c.r)(this,"ll-delete-card",{path:this.path,silent:!1})}static get styles(){return[l.RF,o.AH`.card-overlay{position:absolute;opacity:0;pointer-events:none;inset:0;display:flex;align-items:center;justify-content:center;transition:opacity 180ms ease-in-out}.card-overlay.visible{opacity:1;pointer-events:auto}.card-wrapper{position:relative;height:100%;z-index:0}.control{outline:0!important;cursor:pointer;position:absolute;inset:0;display:flex;align-items:center;justify-content:center;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));z-index:0}.control-overlay{position:absolute;inset:0;opacity:.8;background-color:var(--primary-background-color);border:1px solid var(--divider-color);border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));z-index:0}.control ha-svg-icon{display:flex;position:relative;color:var(--primary-text-color);border-radius:var(--ha-border-radius-circle);padding:8px;background:var(--secondary-background-color);--mdc-icon-size:20px}.more{position:absolute;right:-6px;top:-6px;inset-inline-end:-6px;inset-inline-start:initial}.more ha-icon-button{cursor:pointer;border-radius:var(--ha-border-radius-circle);background:var(--secondary-background-color);--mdc-icon-button-size:32px;--mdc-icon-size:20px}`]}constructor(...e){super(...e),this.hiddenOverlay=!1,this.noEdit=!1,this.noDuplicate=!1,this.noMove=!1,this._menuOpened=!1,this._hover=!1,this._focused=!1,this._touchStarted=!1,this._documentClicked=e=>{this._hover=e.composedPath().includes(this),document.removeEventListener("click",this._documentClicked)}}}(0,a.__decorate)([(0,r.MZ)({attribute:!1})],u.prototype,"hass",void 0),(0,a.__decorate)([(0,r.MZ)({attribute:!1})],u.prototype,"lovelace",void 0),(0,a.__decorate)([(0,r.MZ)({type:Array})],u.prototype,"path",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean,attribute:"hidden-overlay"})],u.prototype,"hiddenOverlay",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean,attribute:"no-edit"})],u.prototype,"noEdit",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean,attribute:"no-duplicate"})],u.prototype,"noDuplicate",void 0),(0,a.__decorate)([(0,r.MZ)({type:Boolean,attribute:"no-move"})],u.prototype,"noMove",void 0),(0,a.__decorate)([(0,r.wk)()],u.prototype,"_menuOpened",void 0),(0,a.__decorate)([(0,r.wk)()],u.prototype,"_hover",void 0),(0,a.__decorate)([(0,r.wk)()],u.prototype,"_focused",void 0),u=(0,a.__decorate)([(0,r.EM)("hui-card-edit-mode")],u);var v=i(82360);const _={delay:100,delayOnTouchOnly:!0,direction:"vertical",invertedSwapThreshold:.7,group:"card"},g={..._,sort:!1,group:{name:"card",put:!1}};class y extends o.WF{setConfig(e){this._config=e}_getKey(e){return this._cardConfigKeys.has(e)||"object"!=typeof e||this._cardConfigKeys.set(e,Math.random().toString()),this._cardConfigKeys.get(e)}render(){if(!this.cards||!this._config)return o.s6;const e=this._config?.cards??[],t=Boolean(this.lovelace?.editMode&&!this.isStrategy),i=this.importOnly?g:_;return o.qy` <ha-sortable .disabled="${!t}" @drag-start="${this._dragStart}" @drag-end="${this._dragEnd}" draggable-selector=".card" .rollback="${!1}" .options="${i}" @item-moved="${this._cardMoved}" @item-added="${this._cardAdded}" @item-removed="${this._cardRemoved}" invert-swap> <div class="container"> ${(0,n.u)(e,e=>this._getKey(e),(e,i)=>{const a=this.cards[i];a.layout="grid";const r=a.getGridOptions(),{rows:n,columns:c}=(0,h.Ns)(r),l=[this.viewIndex,this.index,i];return o.qy` <div style="${(0,d.W)({"--column-size":"number"==typeof c?c:void 0,"--row-size":"number"==typeof n?n:void 0})}" class="card ${(0,s.H)({"fit-rows":"number"==typeof n,"full-width":"full"===c})}" .sortableData="${l}"> ${t?o.qy` <hui-card-edit-mode .hass="${this.hass}" .lovelace="${this.lovelace}" .path="${l}" .hiddenOverlay="${this._dragging}" .noEdit="${this.importOnly}" .noDuplicate="${this.importOnly}"> ${a} </hui-card-edit-mode> `:a} </div> `})} ${t&&!this.importOnly?o.qy` <button class="add" @click="${this._addCard}" aria-label="${this.hass.localize("ui.panel.lovelace.editor.section.add_card")}" .title="${this.hass.localize("ui.panel.lovelace.editor.section.add_card")}"> <ha-ripple></ha-ripple> <ha-svg-icon .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </button> `:o.s6} </div> </ha-sortable> `}_cardMoved(e){e.stopPropagation();const{oldIndex:t,newIndex:i}=e.detail,a=(0,v.sQ)(this.lovelace.config,[this.viewIndex,this.index,t],[this.viewIndex,this.index,i]);this.lovelace.saveConfig(a)}_cardAdded(e){const{index:t,data:i}=e.detail,a=i,o=[this.viewIndex,this.index,t],r=(0,v.sQ)(this.lovelace.config,a,o);this.lovelace.saveConfig(r)}_cardRemoved(e){e.stopPropagation()}_dragStart(){this._dragging=!0}_dragEnd(){this._dragging=!1}_addCard(){(0,c.r)(this,"ll-create-card",{suggested:["tile","heading"]})}static get styles(){return[l.RF,o.AH`:host{--base-column-count:12;--row-gap:var(--ha-section-grid-row-gap, 8px);--column-gap:var(--ha-section-grid-column-gap, 8px);--row-height:var(--ha-section-grid-row-height, 56px);display:flex;flex-direction:column;gap:var(--row-gap)}.container{--grid-column-count:calc(
            var(--base-column-count) * var(--column-span, 1)
          );display:grid;grid-template-columns:repeat(var(--grid-column-count),minmax(0,1fr));grid-auto-rows:auto;row-gap:var(--row-gap);column-gap:var(--column-gap);padding:0;margin:0 auto}.card{border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));position:relative;grid-row:span var(--row-size,1);grid-column:span min(var(--column-size,1),var(--grid-column-count))}.container.edit-mode .card{min-height:calc((var(--row-height) - var(--row-gap))/ 2)}.card.fit-rows{height:calc((var(--row-size,1) * (var(--row-height) + var(--row-gap))) - var(--row-gap))}.card.full-width{grid-column:1/-1}.card:has(> *){display:block}.card:has(> [hidden]){display:none}.add{position:relative;outline:0;grid-row:span 1;grid-column:span 3;background:0 0;cursor:pointer;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));border:2px dashed var(--primary-color);height:var(--row-height);order:1;--ha-ripple-color:var(--primary-color);--ha-ripple-hover-opacity:0.04;--ha-ripple-pressed-opacity:0.12}.add:focus{border-style:solid}.sortable-ghost{border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg))}`]}constructor(...e){super(...e),this.isStrategy=!1,this.cards=[],this.importOnly=!1,this._dragging=!1,this._cardConfigKeys=new WeakMap}}(0,a.__decorate)([(0,r.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,a.__decorate)([(0,r.MZ)({attribute:!1})],y.prototype,"lovelace",void 0),(0,a.__decorate)([(0,r.MZ)({type:Number})],y.prototype,"index",void 0),(0,a.__decorate)([(0,r.MZ)({attribute:!1,type:Number})],y.prototype,"viewIndex",void 0),(0,a.__decorate)([(0,r.MZ)({attribute:!1})],y.prototype,"isStrategy",void 0),(0,a.__decorate)([(0,r.MZ)({attribute:!1})],y.prototype,"cards",void 0),(0,a.__decorate)([(0,r.MZ)({attribute:"import-only",type:Boolean})],y.prototype,"importOnly",void 0),(0,a.__decorate)([(0,r.wk)()],y.prototype,"_config",void 0),(0,a.__decorate)([(0,r.wk)()],y.prototype,"_dragging",void 0),y=(0,a.__decorate)([(0,r.EM)("hui-grid-section")],y);var m=i(34128);const b=new Set(["grid"]),f={},w=e=>(0,m.Ue)("section",e,b,f)},21146:function(e,t,i){i.d(t,{a:()=>o,u:()=>r});var a=i(1087);const o=()=>Promise.all([i.e("44533"),i.e("93785"),i.e("92769"),i.e("68637"),i.e("44288"),i.e("39931"),i.e("37558")]).then(i.bind(i,2389)),r=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"hui-dialog-create-card",dialogImport:o,dialogParams:t})}},15950:function(e,t,i){i.d(t,{O:()=>r,S:()=>o});var a=i(1087);const o=()=>Promise.all([i.e("93785"),i.e("68637"),i.e("91863"),i.e("51746")]).then(i.bind(i,98489)),r=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"hui-dialog-edit-card",dialogImport:o,dialogParams:t})}},82360:function(e,t,i){i.d(t,{Bl:()=>_,Bn:()=>m,DU:()=>n,Ei:()=>h,En:()=>C,GO:()=>c,HQ:()=>w,Iq:()=>v,M:()=>M,P3:()=>A,RB:()=>H,Sg:()=>y,bn:()=>d,d6:()=>l,fJ:()=>u,gm:()=>s,hB:()=>f,lD:()=>g,sQ:()=>p,tA:()=>b});i(18111),i(22489),i(61701),i(13579);var a=i(84970),o=i(91984),r=i(75196);const s=(e,t,i)=>{const a=(0,r.jW)("cards",e,t),o=a?[...a,i]:[i];return(0,r.z7)("cards",e,t,o)},n=(e,t,i)=>{const a=(0,r.jW)("cards",e,t),o=a?[...a,...i]:[...i];return(0,r.z7)("cards",e,t,o)},d=(e,t,i)=>{const{cardIndex:a}=(0,r.gO)(t),o=(0,r.S2)(t),s=((0,r.jW)("cards",e,o)??[]).map((e,t)=>t===a?i:e);return(0,r.z7)("cards",e,o,s)},c=(e,t)=>{const{cardIndex:i}=(0,r.gO)(t),a=(0,r.S2)(t),o=((0,r.jW)("cards",e,a)??[]).filter((e,t)=>t!==i);return(0,r.z7)("cards",e,a,o)},l=(e,t,i)=>{const{cardIndex:a}=(0,r.gO)(t),o=(0,r.S2)(t),s=(0,r.jW)("cards",e,o),n=s?[...s]:[],d=a,c=Math.max(Math.min(i,n.length-1),0),l=n[d];n.splice(d,1),n.splice(c,0,l);return(0,r.z7)("cards",e,o,n)},h=(e,t,i)=>{const{cardIndex:a,viewIndex:o,sectionIndex:n}=(0,r.gO)(t),{viewIndex:d,sectionIndex:l}=(0,r.$P)(i);if(o===d&&n===l)throw new Error("You cannot move a card to the view or section it is in.");const h=(0,r.S2)(t),p=(0,r.jW)("cards",e,h)[a];let u=s(e,i,p);return u=c(u,t),u},p=(e,t,i)=>{const{cardIndex:a}=(0,r.gO)(t),o=(0,r.S2)(t),s=(0,r.jW)("cards",e,o)[a];let n=c(e,t);return n=((e,t,i)=>{const{cardIndex:a}=(0,r.gO)(t),o=(0,r.S2)(t),s=(0,r.jW)("cards",e,o),n=s?[...s.slice(0,a),i,...s.slice(a)]:[i];return(0,r.z7)("cards",e,o,n)})(n,i,s),n},u=(e,t,i,a=!1)=>{if(i.path&&t.views.some(e=>e.path===i.path)){if(!a)throw new Error(e.localize("ui.panel.lovelace.editor.edit_view.error_same_url"));i={...i,path:`${i.path}-2`}}return{...t,views:t.views.concat(i)}},v=(e,t,i,a)=>{if(a.path&&t.views.some((e,t)=>e.path===a.path&&t!==i))throw new Error(e.localize("ui.panel.lovelace.editor.edit_view.error_same_url"));return{...t,views:t.views.map((e,t)=>t===i?a:e)}},_=(e,t,i)=>{const a=e.views[t],o=e.views[i];return{...e,views:e.views.map((e,r)=>r===i?a:r===t?o:e)}},g=(e,t)=>({...e,views:e.views.filter((e,i)=>i!==t)}),y=(e,t,i,a)=>{const o=t.views[a];return[g(t,a),u(e,i,o,!0)]},m=(e,t,i)=>{const a=(0,r.ys)(e,[t]);if((0,o.R)(a))throw new Error("Deleting sections in a strategy is not supported.");const s=a.sections?[...a.sections,i]:[i];return(0,r.uZ)(e,[t],{...a,sections:s})},b=(e,t,i)=>{const a=(0,r.ys)(e,[t]);if((0,o.R)(a))throw new Error("Deleting sections in a strategy is not supported.");const s=a.sections?.filter((e,t)=>t!==i);return(0,r.uZ)(e,[t],{...a,sections:s})},f=(e,t,i)=>{const a=(0,r.ys)(e,t);let s=b(e,t[0],t[1]);return s=((e,t,i,a)=>{const s=(0,r.ys)(e,[t]);if((0,o.R)(s))throw new Error("Inserting sections in a strategy is not supported.");const n=s.sections?[...s.sections.slice(0,i),a,...s.sections.slice(i)]:[a];return(0,r.uZ)(e,[t],{...s,sections:n})})(s,i[0],i[1],a),s},w=(e,t,i)=>{const a=(0,r.jW)("badges",e,t),o=a?[...a,i]:[i];return(0,r.z7)("badges",e,t,o)},C=(e,t,i)=>{const a=(0,r.jW)("badges",e,t),o=a?[...a,...i]:[...i];return(0,r.z7)("badges",e,t,o)},M=(e,t,i)=>{const{cardIndex:a}=(0,r.gO)(t),o=(0,r.S2)(t),s=((0,r.jW)("badges",e,o)??[]).map((e,t)=>t===a?i:e);return(0,r.z7)("badges",e,o,s)},A=(e,t)=>{const{cardIndex:i}=(0,r.gO)(t),a=(0,r.S2)(t),o=((0,r.jW)("badges",e,a)??[]).filter((e,t)=>t!==i);return(0,r.z7)("badges",e,a,o)},H=(e,t,i)=>{const{cardIndex:o}=(0,r.gO)(t),s=(0,r.S2)(t),n=(0,r.jW)("badges",e,s)[o];let d=A(e,t);return d=((e,t,i)=>{const{cardIndex:a}=(0,r.gO)(t),o=(0,r.S2)(t),s=(0,r.jW)("badges",e,o),n=s?[...s.slice(0,a),i,...s.slice(a)]:[i];return(0,r.z7)("badges",e,o,n)})(d,i,(0,a.q)(n)),d}},90565:function(e,t,i){i.d(t,{r:()=>r});var a=i(82360),o=i(1087);async function r(e,t,i){try{const{path:r,silent:s}=i,n=t.config,d=(0,a.GO)(n,r);if(await t.saveConfig(d),s)return;t.showToast({message:e.localize("ui.common.successfully_deleted"),duration:8e3,action:{action:()=>(0,o.r)(window,"undo-change"),text:e.localize("ui.common.undo")}})}catch(i){console.error(i),t.showToast({message:e.localize("ui.common.deleting_failed")})}}},75196:function(e,t,i){i.d(t,{$P:()=>s,S2:()=>n,gO:()=>r,jW:()=>h,uZ:()=>c,ys:()=>d,z7:()=>l});i(18111),i(61701);var a=i(28918),o=i(91984);const r=e=>2===e.length?{viewIndex:e[0],cardIndex:e[1]}:{viewIndex:e[0],sectionIndex:e[1],cardIndex:e[2]},s=e=>1===e.length?{viewIndex:e[0]}:{viewIndex:e[0],sectionIndex:e[1]},n=e=>e.slice(0,-1),d=(e,t)=>{const{viewIndex:i,sectionIndex:a}=s(t),r=e.views[i];if(!r)throw new Error("View does not exist");if(void 0===a)return r;if((0,o.R)(r))throw new Error("Can not find section in a strategy view");const n=r.sections?.[a];if(!n)throw new Error("Section does not exist");return n},c=(e,t,i)=>{const{viewIndex:a,sectionIndex:r}=s(t);let n=!1;const d=e.views.map((e,t)=>{if(t!==a)return e;if(void 0===r)return n=!0,i;if((0,o.R)(e))throw new Error("Can not update section in a strategy view");if(void 0===e.sections)throw new Error("Section does not exist");const s=e.sections.map((e,t)=>t!==r?e:(n=!0,i));return{...e,sections:s}});if(!n)throw new Error("Can not update cards in a non-existing view/section");return{...e,views:d}},l=(e,t,i,r)=>{const{viewIndex:n,sectionIndex:d}=s(i);let c=!1;const l=t.views.map((t,i)=>{if(i!==n)return t;if((0,o.R)(t))throw new Error(`Can not update ${e} in a strategy view`);if(void 0===d)return c=!0,{...t,[e]:r};if(void 0===t.sections)throw new Error("Section does not exist");const s=t.sections.map((t,i)=>{if(i!==d)return t;if((0,a.H)(t))throw new Error(`Can not update ${e} in a strategy section`);return c=!0,{...t,[e]:r}});return{...t,sections:s}});if(!c)throw new Error(`Can not update ${e} in a non-existing view/section`);return{...t,views:l}},h=(e,t,i)=>{const{viewIndex:r,sectionIndex:n}=s(i),d=t.views[r];if(!d)throw new Error("View does not exist");if((0,o.R)(d))throw new Error("Can not find cards in a strategy view");if(void 0===n)return d[e];const c=d.sections?.[n];if(!c)throw new Error("Section does not exist");if((0,a.H)(c))throw new Error("Can not find cards in a strategy section");if("cards"===e)return c[e];throw new Error(`${e} is not supported in section`)}},32275:function(e,t,i){i.d(t,{F:()=>a});const a="grid"},26004:function(e,t,i){i.a(e,async function(e,t){try{i(18111),i(7588),i(61701);var a=i(62826),o=i(34271),r=i(96196),s=i(44457),n=i(93905),d=i(1087),c=(i(67094),i(28918)),l=i(91263),h=i(46856),p=i(14487),u=i(25606),v=i(21146),_=i(15950),g=i(82360),y=i(90565),m=i(75196),b=i(93275),f=i(32275),w=e([h,l,p]);[h,l,p]=w.then?(await w)():w;class C extends((0,l.M)(r.mN)){_createCardElement(e){const t=document.createElement("hui-card");return t.hass=this.hass,t.preview=this.preview,t.config=e,t.addEventListener("card-updated",e=>{e.stopPropagation(),this._cards=[...this._cards]}),t.load(),t}createRenderRoot(){return this}willUpdate(e){super.willUpdate(e);const t=e.get("config");!e.has("config")||t&&this.config===t||this._initializeConfig()}disconnectedCallback(){super.disconnectedCallback()}connectedCallback(){super.connectedCallback(),this._updateVisibility()}update(e){super.update(e),this._layoutElement&&(e.has("hass")&&(this._cards.forEach(e=>{e.hass=this.hass}),this._layoutElement.hass=this.hass),e.has("lovelace")&&(this._layoutElement.lovelace=this.lovelace),e.has("preview")&&(this._layoutElement.preview=this.preview,this._cards.forEach(e=>{e.preview=this.preview})),e.has("importOnly")&&(this._layoutElement.importOnly=this.importOnly),e.has("_cards")&&(this._layoutElement.cards=this._cards),(e.has("hass")||e.has("preview"))&&this._updateVisibility())}async _initializeConfig(){let e={...this.config},t=!1;(0,c.H)(e)&&(t=!0,e=await(0,b.xC)(e,this.hass)),e={...e,type:e.type||f.F},this._config=e;let i=!1;if(this._layoutElement&&this._layoutElementType===e.type||(i=!0,this._createLayoutElement(this._config)),this._createCards(e),this._layoutElement.isStrategy=t,this._layoutElement.hass=this.hass,this._layoutElement.lovelace=this.lovelace,this._layoutElement.index=this.index,this._layoutElement.viewIndex=this.viewIndex,this._layoutElement.cards=this._cards,i){for(;this.lastChild;)this.removeChild(this.lastChild);this._updateVisibility()}}_updateVisibility(e){if(!this._layoutElement||!this._config)return;if(this.preview)return void this._setElementVisibility(!0);if(this._config.disabled)return void this._setElementVisibility(!1);const t=e??(!this._config.visibility||(0,p.XH)(this._config.visibility,this.hass));this._setElementVisibility(t)}_setElementVisibility(e){this._layoutElement&&(this.hidden!==!e&&(this.style.setProperty("display",e?"":"none"),this.toggleAttribute("hidden",!e),(0,d.r)(this,"section-visibility-changed",{value:e})),!e&&this._layoutElement.parentElement?this.removeChild(this._layoutElement):e&&!this._layoutElement.parentElement&&this.appendChild(this._layoutElement))}_createLayoutElement(e){this._layoutElement=(0,u.O)(e),this._layoutElementType=e.type,this._layoutElement.addEventListener("ll-create-card",e=>{e.stopPropagation(),this.lovelace&&(0,v.u)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[this.viewIndex,this.index],suggestedCards:e.detail?.suggested})}),this._layoutElement.addEventListener("ll-edit-card",e=>{if(e.stopPropagation(),!this.lovelace)return;const{cardIndex:t}=(0,m.gO)(e.detail.path),i=this.config;if((0,c.H)(i))return;const a=i.cards[t];(0,_.O)(this,{lovelaceConfig:this.lovelace.config,saveCardConfig:async e=>{const i=(0,g.bn)(this.lovelace.config,[this.viewIndex,this.index,t],e);await this.lovelace.saveConfig(i)},sectionConfig:i,cardConfig:a})}),this._layoutElement.addEventListener("ll-delete-card",e=>{e.stopPropagation(),this.lovelace&&(0,y.r)(this.hass,this.lovelace,e.detail)}),this._layoutElement.addEventListener("ll-duplicate-card",e=>{if(e.stopPropagation(),!this.lovelace)return;const{cardIndex:t}=(0,m.gO)(e.detail.path),i=this.config;if((0,c.H)(i))return;const a=i.cards[t];(0,_.O)(this,{lovelaceConfig:this.lovelace.config,saveCardConfig:async e=>{const t=(0,g.gm)(this.lovelace.config,[this.viewIndex,this.index],e);await this.lovelace.saveConfig(t)},cardConfig:a,sectionConfig:i,isNew:!0})}),this._layoutElement.addEventListener("ll-copy-card",e=>{if(e.stopPropagation(),!this.lovelace)return;const{cardIndex:t}=(0,m.gO)(e.detail.path),i=this.config;if((0,c.H)(i))return;const a=i.cards[t];this._clipboard=(0,o.A)(a)})}_createCards(e){e&&e.cards&&Array.isArray(e.cards)?this._cards=e.cards.map(e=>this._createCardElement(e)):this._cards=[]}constructor(...e){super(...e),this.preview=!1,this.importOnly=!1,this._cards=[]}}(0,a.__decorate)([(0,s.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],C.prototype,"config",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1})],C.prototype,"lovelace",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean,reflect:!0})],C.prototype,"preview",void 0),(0,a.__decorate)([(0,s.MZ)({type:Boolean,attribute:"import-only"})],C.prototype,"importOnly",void 0),(0,a.__decorate)([(0,s.MZ)({type:Number})],C.prototype,"index",void 0),(0,a.__decorate)([(0,s.MZ)({attribute:!1,type:Number})],C.prototype,"viewIndex",void 0),(0,a.__decorate)([(0,s.wk)()],C.prototype,"_cards",void 0),(0,a.__decorate)([(0,n.I)({key:"dashboardCardClipboard",state:!1,subscribe:!1,storage:"sessionStorage"})],C.prototype,"_clipboard",void 0),C=(0,a.__decorate)([(0,s.EM)("hui-section")],C),t()}catch(e){t(e)}})}};
//# sourceMappingURL=18052.ecdd718e858e2401.js.map