{
  "name": "ReplyToIntercomConversation",
  "fully_qualified_name": "IntercomApi.ReplyToIntercomConversation@0.1.0",
  "description": "Reply to a conversation in Intercom with a message or note.\n\nUse this tool to send a reply to an ongoing conversation in Intercom. It can be used to send messages from an admin, on behalf of a contact, or as a note for other admins.",
  "toolkit": {
    "name": "ArcadeIntercomApi",
    "description": null,
    "version": "0.1.0"
  },
  "input": {
    "parameters": [
      {
        "name": "conversation_identifier",
        "required": true,
        "description": "The unique identifier for the conversation or 'last' to reply to the most recent conversation.",
        "value_schema": {
          "val_type": "string",
          "inner_val_type": null,
          "enum": null,
          "properties": null,
          "inner_properties": null,
          "description": "The Intercom provisioned identifier for the conversation or the string \"last\" to reply to the last part of the conversation"
        },
        "inferrable": true,
        "http_endpoint_parameter_name": "id"
      },
      {
        "name": "intercom_version",
        "required": false,
        "description": "Specifies the version of the Intercom API to use. Choose from versions 1.0 to 2.9.",
        "value_schema": {
          "val_type": "string",
          "inner_val_type": null,
          "enum": [
            "1.0",
            "1.1",
            "1.2",
            "1.3",
            "1.4",
            "2.0",
            "2.1",
            "2.2",
            "2.3",
            "2.4",
            "2.5",
            "2.6",
            "2.7",
            "2.8",
            "2.9"
          ],
          "properties": null,
          "inner_properties": null,
          "description": ""
        },
        "inferrable": true,
        "http_endpoint_parameter_name": "Intercom-Version"
      },
      {
        "name": "message_details",
        "required": false,
        "description": "JSON containing the message content for the conversation. It should specify if the message is from an admin, on behalf of a contact, or a note for admins.",
        "value_schema": {
          "val_type": "json",
          "inner_val_type": null,
          "enum": null,
          "properties": null,
          "inner_properties": null,
          "description": ""
        },
        "inferrable": true,
        "http_endpoint_parameter_name": "requestBody"
      }
    ]
  },
  "output": {
    "description": "Response from the API endpoint 'replyConversation'.",
    "available_modes": [
      "value",
      "error",
      "null"
    ],
    "value_schema": {
      "val_type": "json",
      "inner_val_type": null,
      "enum": null,
      "properties": null,
      "inner_properties": null,
      "description": null
    }
  },
  "requirements": {
    "authorization": {
      "provider_id": "intercom",
      "provider_type": "oauth2",
      "id": null,
      "oauth2": null
    },
    "secrets": [
      {
        "key": "INTERCOM_API_SUBDOMAIN"
      }
    ],
    "metadata": null
  },
  "deprecation_message": null,
  "metadata": {
    "object_type": "api_wrapper_tool",
    "version": "1.2.0",
    "description": "Tools that enable LLMs to interact directly with the Intercom API"
  },
  "http_endpoint": {
    "metadata": {
      "object_type": "http_endpoint",
      "version": "1.2.0",
      "description": ""
    },
    "url": "https://{intercom_api_subdomain}.intercom.io/conversations/{id}/reply",
    "http_method": "POST",
    "headers": {},
    "parameters": [
      {
        "name": "id",
        "tool_parameter_name": "conversation_identifier",
        "description": "The Intercom provisioned identifier for the conversation or the string \"last\" to reply to the last part of the conversation",
        "value_schema": {
          "val_type": "string",
          "inner_val_type": null,
          "enum": null,
          "properties": null,
          "inner_properties": null,
          "description": "The Intercom provisioned identifier for the conversation or the string \"last\" to reply to the last part of the conversation"
        },
        "accepted_as": "path",
        "required": true,
        "deprecated": false,
        "default": null,
        "documentation_urls": []
      },
      {
        "name": "Intercom-Version",
        "tool_parameter_name": "intercom_version",
        "description": "",
        "value_schema": {
          "val_type": "string",
          "inner_val_type": null,
          "enum": [
            "1.0",
            "1.1",
            "1.2",
            "1.3",
            "1.4",
            "2.0",
            "2.1",
            "2.2",
            "2.3",
            "2.4",
            "2.5",
            "2.6",
            "2.7",
            "2.8",
            "2.9"
          ],
          "properties": null,
          "inner_properties": null,
          "description": ""
        },
        "accepted_as": "header",
        "required": false,
        "deprecated": false,
        "default": "2.9",
        "documentation_urls": []
      },
      {
        "name": "requestBody",
        "tool_parameter_name": "message_details",
        "description": "",
        "value_schema": {
          "val_type": "json",
          "inner_val_type": null,
          "enum": null,
          "properties": null,
          "inner_properties": null,
          "description": ""
        },
        "accepted_as": "body",
        "required": false,
        "deprecated": false,
        "default": null,
        "documentation_urls": []
      }
    ],
    "documentation_urls": [],
    "secrets": [
      {
        "arcade_key": "INTERCOM_API_SUBDOMAIN",
        "parameter_name": "intercom_api_subdomain",
        "accepted_as": "path",
        "formatted_value": null,
        "description": "",
        "is_auth_token": false
      },
      {
        "arcade_key": "auth_token",
        "parameter_name": "Authorization",
        "accepted_as": "header",
        "formatted_value": "Bearer {authorization}",
        "description": "The OAuth token to use for authentication.",
        "is_auth_token": true
      }
    ],
    "request_body_spec": "{\n  \"content\": {\n    \"application/json\": {\n      \"schema\": {\n        \"oneOf\": [\n          {\n            \"title\": \"Contact Reply\",\n            \"oneOf\": [\n              {\n                \"title\": \"Intercom User ID\",\n                \"type\": \"object\",\n                \"description\": \"Payload of the request to reply on behalf of a contact using their `intercom_user_id`\",\n                \"allOf\": [\n                  {\n                    \"title\": \"Contact Reply Base Object\",\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"message_type\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                          \"comment\"\n                        ]\n                      },\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                          \"user\"\n                        ]\n                      },\n                      \"body\": {\n                        \"type\": \"string\",\n                        \"description\": \"The text body of the comment.\"\n                      },\n                      \"attachment_urls\": {\n                        \"title\": \"Attachment URLs\",\n                        \"type\": \"array\",\n                        \"description\": \"A list of image URLs that will be added as attachments. You can include up to 10 URLs.\",\n                        \"items\": {\n                          \"type\": \"string\",\n                          \"format\": \"uri\"\n                        },\n                        \"maxItems\": 10\n                      }\n                    },\n                    \"required\": [\n                      \"message_type\",\n                      \"type\",\n                      \"body\"\n                    ]\n                  }\n                ],\n                \"properties\": {\n                  \"intercom_user_id\": {\n                    \"type\": \"string\",\n                    \"description\": \"The identifier for the contact as given by Intercom.\"\n                  },\n                  \"attachment_files\": {\n                    \"type\": \"array\",\n                    \"description\": \"A list of files that will be added as attachments.\",\n                    \"items\": {\n                      \"title\": \"Conversation attachment files\",\n                      \"type\": \"object\",\n                      \"description\": \"Properties of the attachment files in a conversation part\",\n                      \"properties\": {\n                        \"content_type\": {\n                          \"type\": \"string\",\n                          \"description\": \"The content type of the file\",\n                          \"example\": \"application/json\"\n                        },\n                        \"data\": {\n                          \"type\": \"string\",\n                          \"description\": \"The base64 encoded file data.\",\n                          \"example\": \"ewogICJ0ZXN0IjogMQp9\"\n                        },\n                        \"name\": {\n                          \"type\": \"string\",\n                          \"description\": \"The name of the file.\",\n                          \"example\": \"test.json\"\n                        }\n                      }\n                    }\n                  }\n                },\n                \"required\": [\n                  \"intercom_user_id\"\n                ]\n              },\n              {\n                \"title\": \"Email\",\n                \"type\": \"object\",\n                \"description\": \"Payload of the request to reply on behalf of a contact using their `email`\",\n                \"properties\": {\n                  \"email\": {\n                    \"type\": \"string\",\n                    \"description\": \"The email you have defined for the user.\"\n                  },\n                  \"attachment_files\": {\n                    \"type\": \"array\",\n                    \"description\": \"A list of files that will be added as attachments.\",\n                    \"items\": {\n                      \"title\": \"Conversation attachment files\",\n                      \"type\": \"object\",\n                      \"description\": \"Properties of the attachment files in a conversation part\",\n                      \"properties\": {\n                        \"content_type\": {\n                          \"type\": \"string\",\n                          \"description\": \"The content type of the file\",\n                          \"example\": \"application/json\"\n                        },\n                        \"data\": {\n                          \"type\": \"string\",\n                          \"description\": \"The base64 encoded file data.\",\n                          \"example\": \"ewogICJ0ZXN0IjogMQp9\"\n                        },\n                        \"name\": {\n                          \"type\": \"string\",\n                          \"description\": \"The name of the file.\",\n                          \"example\": \"test.json\"\n                        }\n                      }\n                    }\n                  }\n                },\n                \"allOf\": [\n                  {\n                    \"title\": \"Contact Reply Base Object\",\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"message_type\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                          \"comment\"\n                        ]\n                      },\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                          \"user\"\n                        ]\n                      },\n                      \"body\": {\n                        \"type\": \"string\",\n                        \"description\": \"The text body of the comment.\"\n                      },\n                      \"attachment_urls\": {\n                        \"title\": \"Attachment URLs\",\n                        \"type\": \"array\",\n                        \"description\": \"A list of image URLs that will be added as attachments. You can include up to 10 URLs.\",\n                        \"items\": {\n                          \"type\": \"string\",\n                          \"format\": \"uri\"\n                        },\n                        \"maxItems\": 10\n                      }\n                    },\n                    \"required\": [\n                      \"message_type\",\n                      \"type\",\n                      \"body\"\n                    ]\n                  }\n                ],\n                \"required\": [\n                  \"email\"\n                ]\n              },\n              {\n                \"title\": \"User ID\",\n                \"type\": \"object\",\n                \"description\": \"Payload of the request to reply on behalf of a contact using their `user_id`\",\n                \"allOf\": [\n                  {\n                    \"title\": \"Contact Reply Base Object\",\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"message_type\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                          \"comment\"\n                        ]\n                      },\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                          \"user\"\n                        ]\n                      },\n                      \"body\": {\n                        \"type\": \"string\",\n                        \"description\": \"The text body of the comment.\"\n                      },\n                      \"attachment_urls\": {\n                        \"title\": \"Attachment URLs\",\n                        \"type\": \"array\",\n                        \"description\": \"A list of image URLs that will be added as attachments. You can include up to 10 URLs.\",\n                        \"items\": {\n                          \"type\": \"string\",\n                          \"format\": \"uri\"\n                        },\n                        \"maxItems\": 10\n                      }\n                    },\n                    \"required\": [\n                      \"message_type\",\n                      \"type\",\n                      \"body\"\n                    ]\n                  }\n                ],\n                \"properties\": {\n                  \"user_id\": {\n                    \"type\": \"string\",\n                    \"description\": \"The external_id you have defined for the contact.\"\n                  },\n                  \"attachment_files\": {\n                    \"type\": \"array\",\n                    \"description\": \"A list of files that will be added as attachments. You can include up to 10 files.\",\n                    \"items\": {\n                      \"title\": \"Conversation attachment files\",\n                      \"type\": \"object\",\n                      \"description\": \"Properties of the attachment files in a conversation part\",\n                      \"properties\": {\n                        \"content_type\": {\n                          \"type\": \"string\",\n                          \"description\": \"The content type of the file\",\n                          \"example\": \"application/json\"\n                        },\n                        \"data\": {\n                          \"type\": \"string\",\n                          \"description\": \"The base64 encoded file data.\",\n                          \"example\": \"ewogICJ0ZXN0IjogMQp9\"\n                        },\n                        \"name\": {\n                          \"type\": \"string\",\n                          \"description\": \"The name of the file.\",\n                          \"example\": \"test.json\"\n                        }\n                      }\n                    },\n                    \"maxItems\": 10\n                  }\n                },\n                \"required\": [\n                  \"user_id\"\n                ]\n              }\n            ]\n          },\n          {\n            \"title\": \"Admin Reply\",\n            \"type\": \"object\",\n            \"description\": \"Payload of the request to reply on behalf of an admin\",\n            \"properties\": {\n              \"message_type\": {\n                \"type\": \"string\",\n                \"enum\": [\n                  \"comment\",\n                  \"note\"\n                ]\n              },\n              \"type\": {\n                \"type\": \"string\",\n                \"enum\": [\n                  \"admin\"\n                ],\n                \"example\": \"admin\"\n              },\n              \"body\": {\n                \"type\": \"string\",\n                \"description\": \"The text body of the reply. Notes accept some HTML formatting. Must be present for comment and note message types.\",\n                \"example\": \"Hello there!\"\n              },\n              \"admin_id\": {\n                \"type\": \"string\",\n                \"description\": \"The id of the admin who is authoring the comment.\",\n                \"example\": \"3156780\"\n              },\n              \"created_at\": {\n                \"type\": \"integer\",\n                \"description\": \"The time the reply was created. If not provided, the current time will be used.\",\n                \"example\": 1590000000\n              },\n              \"attachment_urls\": {\n                \"type\": \"array\",\n                \"description\": \"A list of image URLs that will be added as attachments. You can include up to 10 URLs.\",\n                \"items\": {\n                  \"type\": \"string\",\n                  \"format\": \"uri\"\n                },\n                \"maxItems\": 10\n              },\n              \"attachment_files\": {\n                \"type\": \"array\",\n                \"description\": \"A list of files that will be added as attachments. You can include up to 10 files\",\n                \"items\": {\n                  \"title\": \"Conversation attachment files\",\n                  \"type\": \"object\",\n                  \"description\": \"Properties of the attachment files in a conversation part\",\n                  \"properties\": {\n                    \"content_type\": {\n                      \"type\": \"string\",\n                      \"description\": \"The content type of the file\",\n                      \"example\": \"application/json\"\n                    },\n                    \"data\": {\n                      \"type\": \"string\",\n                      \"description\": \"The base64 encoded file data.\",\n                      \"example\": \"ewogICJ0ZXN0IjogMQp9\"\n                    },\n                    \"name\": {\n                      \"type\": \"string\",\n                      \"description\": \"The name of the file.\",\n                      \"example\": \"test.json\"\n                    }\n                  }\n                },\n                \"maxItems\": 10\n              }\n            },\n            \"required\": [\n              \"message_type\",\n              \"type\",\n              \"admin_id\"\n            ]\n          }\n        ]\n      },\n      \"examples\": {\n        \"user_reply\": {\n          \"summary\": \"User reply\",\n          \"value\": {\n            \"message_type\": \"comment\",\n            \"type\": \"user\",\n            \"intercom_user_id\": \"6657ab2f6abd0164c24b0d64\",\n            \"body\": \"Thanks again :)\"\n          }\n        },\n        \"admin_note_reply\": {\n          \"summary\": \"Admin note reply\",\n          \"value\": {\n            \"message_type\": \"note\",\n            \"type\": \"admin\",\n            \"admin_id\": 991267457,\n            \"body\": \"<html> <body>  <h2>An Unordered HTML List</h2>  <ul>   <li>Coffee</li>   <li>Tea</li>   <li>Milk</li> </ul>    <h2>An Ordered HTML List</h2>  <ol>   <li>Coffee</li>   <li>Tea</li>   <li>Milk</li> </ol>   </body> </html>\"\n          }\n        },\n        \"user_last_conversation_reply\": {\n          \"summary\": \"User last conversation reply\",\n          \"value\": {\n            \"message_type\": \"comment\",\n            \"type\": \"user\",\n            \"intercom_user_id\": \"6657ab356abd0164c24b0d67\",\n            \"body\": \"Thanks again :)\"\n          }\n        },\n        \"not_found\": {\n          \"summary\": \"Not found\",\n          \"value\": {\n            \"message_type\": \"comment\",\n            \"type\": \"user\",\n            \"intercom_user_id\": \"6657ab376abd0164c24b0d68\",\n            \"body\": \"Thanks again :)\"\n          }\n        }\n      }\n    }\n  }\n}",
    "use_request_body_schema_mode": true,
    "validate_request_body_schema": true
  }
}
