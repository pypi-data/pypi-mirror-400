[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[project]
name = "minedrac"
version = "4.54.1.3"
description = "MineDRAC provides a command-line interface to query, analyze, and extract metadata from DRAC."
requires-python = ">=3.11"
dependencies = [
    "icat-plus-client",    
    "typer",
    "python-dotenv",
    "pandas"
]

[project.urls]
Homepage = "https://icat.gitlab-pages.esrf.fr/MineDRAC"
Repository = "https://gitlab.esrf.fr/icat/minedrac"
Documentation = "https://icat.gitlab-pages.esrf.fr/MineDRAC"

[project.optional-dependencies]
test = [
    "pytest",
    "pytest-spec",
    "pytest-dotenv"
]
docs = [
  "sphinx>=7,<9",
  "myst-parser>=3,<5",
  "sphinx-click>=6",
]
dev = [
    "typer >=0.20",
    "pandas >=2.3",
    "black >=25",
    "flake8 >=4",
    "ruff",
    "pytest",
    "pytest-spec",
    "pytest-dotenv"
]


[tool.setuptools]
package-dir = {"" = "src"}

[tool.setuptools.packages.find]
where = ["src"]

[tool.black]
line-length = 110
target-version = ["py39", "py310", "py311"]  # adjust to your versions
include = '\.pyi?$'
exclude = '''
/(
    \.git
  | \.mypy_cache
  | \.pytest_cache
  | build
  | dist
)/
'''

[tool.ruff]
line-length = 110
target-version = "py311"

[tool.ruff.lint]
select = [
    "E",   # errors
    "F",   # pyflakes
    "I",   # import sorting
    "B",   # flake8-bugbear
    "UP",  # pyupgrade
]


[project.scripts]
minedrac = "minedrac.cli:main"