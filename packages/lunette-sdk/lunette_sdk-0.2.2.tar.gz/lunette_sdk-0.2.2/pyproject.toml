[project]
name = "lunette-sdk"
version = "0.2.2"
requires-python = ">=3.10"
dependencies = [
    "inspect-ai",
    "httpx>=0.27.0",
    "pyyaml>=6.0",
    "opentelemetry-api>=1.39.0",
    "opentelemetry-sdk>=1.39.0",
    "openai>=2.7.1",
    "opentelemetry-instrumentation-openai>=0.49.6",
    "anthropic>=0.50.0",
    "opentelemetry-instrumentation-anthropic>=0.37.0",
]

[tool.uv]
package = true

[tool.setuptools.packages.find]
include = ["lunette*"]

[tool.setuptools.package-data]
"lunette.presets" = ["*.yaml"]

[tool.uv.sources]
inspect-evals = { git = "https://github.com/UKGovernmentBEIS/inspect_evals.git" }

[dependency-groups]
dev = [
    "pytest>=8.4.2",
    "ruff>=0.14.4",
    "inspect-evals[swe-bench]",
    "openai>=2.6.1",
    "pytest-asyncio>=0.23.0",
]
docs = [
    "mkdocs>=1.6.1",
    "mkdocs-material>=9.7.0",
    "mkdocstrings>=1.0.0",
    "mkdocstrings-python>=2.0.1",
]

[project.entry-points.inspect_ai]
lunette = "lunette._registry"

[project.scripts]
lunette = "lunette.cli:main"
