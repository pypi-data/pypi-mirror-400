"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["88537"],{12814:function(t,e,a){a.d(e,{Vy:function(){return n},fI:function(){return s},ux:function(){return d}});a(23418),a(47764);var i=a(22786),r=a(79468),o=54;function n(t,e){var a=t%o+1;return e.getPropertyValue("--color-".concat(a))}function s(t,e){var a=e.getPropertyValue("--graph-color-".concat(t+1))||n(t,e);return(0,r.RQ)(a)}var d=(0,i.A)(function(t){return Array.from({length:o},function(e,a){return s(a,t)})},function(t,e){return t[0].getPropertyValue("--graph-color-1")===e[0].getPropertyValue("--graph-color-1")&&t[0].getPropertyValue("--color-1")===e[0].getPropertyValue("--color-1")})},36525:function(t,e,a){a.a(t,async function(t,i){try{a.d(e,{n:function(){return Z}});var r,o,n,s,d,c=a(78261),h=a(7739),l=a(72153),u=a(61397),p=a(50264),m=a(44734),f=a(43080),v=a(69683),y=a(6454),_=(a(28706),a(2008),a(74423),a(23792),a(62062),a(44114),a(26910),a(18111),a(22489),a(7588),a(61701),a(75376),a(2892),a(45374),a(5506),a(79432),a(26099),a(31415),a(17642),a(58004),a(33853),a(45876),a(32475),a(15024),a(31698),a(21699),a(47764),a(23500),a(62953),a(40445)),g=a(96196),b=a(77845),x=a(6415),A=a(22786),w=a(12814),D=a(36312),T=a(95747),k=a(20058),M=a(8549),S=a(15638),Y=a(23528),E=a(44439),L=t([E,T,k,Y]);[E,T,k,Y]=L.then?(await L)():L;var Z={mean:"mean",min:"min",max:"max",sum:"sum",state:"sum",change:"sum"},O=function(t){function e(){var t;(0,m.A)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=(0,v.A)(this,e,[].concat(i))).statTypes=["sum","min","mean","max"],t.chartType="line",t.fitYData=!1,t.hideLegend=!1,t.logarithmicScale=!1,t.isLoadingData=!1,t.clickForMoreInfo=!0,t._chartData=[],t._statisticIds=[],t._hiddenStats=new Set,t._previousYAxisLabelValue=0,t._renderTooltip=function(e){var a={},i=t.unit?"".concat((0,M.A)(t.unit,t.hass.locale)).concat(t.unit):"";return e.map(function(e,r){var o,n;if(a[e.seriesIndex])return"";a[e.seriesIndex]=!0;var s=t._statisticIds[e.seriesIndex],d=t.hass.states[s],c=t.hass.entities[s],h=String(null!==(o=e.value[2])&&void 0!==o?o:e.value[1]),l=null!==(n=(0,k.ZQ)(d,c))&&void 0!==n?n:{maximumFractionDigits:2},u="".concat((0,k.ZV)(h,t.hass.locale,l)).concat(i),p=0===r?(0,T.yg)(new Date(e.value[0]),t.hass.locale,t.hass.config)+"<br>":"";return"".concat(p).concat(e.marker," ").concat(e.seriesName,": ").concat(u)}).filter(Boolean).join("<br>")},t._getStatisticsMetaData=(0,A.A)(function(){var e=(0,p.A)((0,u.A)().m(function e(a){var i,r;return(0,u.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,Y.Wr)(t.hass,a);case 1:return i=e.v,r={},i.forEach(function(t){r[t.statistic_id]=t}),e.a(2,r)}},e)}));return function(t){return e.apply(this,arguments)}}()),t._formatYAxisLabel=function(e){var a=Math.max(1,-Math.floor(Math.log10(Math.abs(e-t._previousYAxisLabelValue||1)))),i=(0,k.ZV)(e,t.hass.locale,{maximumFractionDigits:a});return t._previousYAxisLabelValue=e,i},t}return(0,y.A)(e,t),(0,f.A)(e,[{key:"shouldUpdate",value:function(t){return t.size>1||!t.has("hass")}},{key:"willUpdate",value:function(t){(t.has("statisticsData")||t.has("statTypes")||t.has("chartType")||t.has("hideLegend")||t.has("_hiddenStats"))&&this._generateData(),(!this.hasUpdated||t.has("unit")||t.has("period")||t.has("chartType")||t.has("minYAxis")||t.has("maxYAxis")||t.has("fitYData")||t.has("logarithmicScale")||t.has("hideLegend")||t.has("startTime")||t.has("endTime")||t.has("_legendData")||t.has("_chartData"))&&this._createOptions()}},{key:"firstUpdated",value:function(){this._computedStyle=getComputedStyle(this)}},{key:"render",value:function(){return(0,D.x)(this.hass,"history")?this.isLoadingData&&!this.statisticsData?(0,g.qy)(o||(o=(0,l.A)(['<div class="info"> '," </div>"])),this.hass.localize("ui.components.statistics_charts.loading_statistics")):this.statisticsData&&Object.keys(this.statisticsData).length?(0,g.qy)(s||(s=(0,l.A)([' <ha-chart-base .hass="','" .data="','" .options="','" .height="','" style="','" @dataset-hidden="','" @dataset-unhidden="','" .expandLegend="','"></ha-chart-base> '])),this.hass,this._chartData,this._chartOptions,this.height,(0,x.W)({height:this.height}),this._datasetHidden,this._datasetUnhidden,this.expandLegend):(0,g.qy)(n||(n=(0,l.A)(['<div class="info"> '," </div>"])),this.hass.localize("ui.components.statistics_charts.no_statistics_found")):(0,g.qy)(r||(r=(0,l.A)(['<div class="info"> '," </div>"])),this.hass.localize("ui.components.history_charts.history_disabled"))}},{key:"_datasetHidden",value:function(t){this._legendData&&(this._hiddenStats.add(t.detail.id),this.requestUpdate("_hiddenStats"))}},{key:"_datasetUnhidden",value:function(t){this._legendData&&(this._hiddenStats.delete(t.detail.id),this.requestUpdate("_hiddenStats"))}},{key:"_createOptions",value:function(){var t,e,a=this,i=null!==(t=this.daysToShow)&&void 0!==t?t:1,r=this.minYAxis,o=this.maxYAxis;"number"==typeof r?this.fitYData&&(r=function(t){var e=t.min;return Math.min(a._roundYAxis(e,Math.floor),a.minYAxis)}):this.logarithmicScale&&(r=function(t){var e=t.min,i=e>0?.95*e:1.05*e;return a._roundYAxis(i,Math.floor)}),"number"==typeof o?this.fitYData&&(o=function(t){var e=t.max;return Math.max(a._roundYAxis(e,Math.ceil),a.maxYAxis)}):this.logarithmicScale&&(o=function(t){var e=t.max,i=e>0?1.05*e:.95*e;return a._roundYAxis(i,Math.ceil)});var n=null!==(e=this.endTime)&&void 0!==e?e:new Date,s=this.startTime;s||(this._chartData.forEach(function(t){var e;if(Array.isArray(t.data)&&t.data[0]){var a=t.data[0],i=Array.isArray(a)?a[0]:null===(e=a.value)||void 0===e?void 0:e[0];i&&(!s||new Date(i)<s)&&(s=new Date(i))}}),s||(s=new Date(n.getTime()-24*i*3600*1e3))),this._chartOptions={xAxis:[{id:"xAxis",type:"time",min:s,max:this.endTime},{id:"hiddenAxis",type:"time",show:!1}],yAxis:{type:this.logarithmicScale?"log":"value",name:this.unit,nameGap:2,nameTextStyle:{align:"left"},position:(0,S.qC)(this.hass)?"right":"left",scale:"bar"!==this.chartType||this.logarithmicScale||void 0!==r||void 0!==o,min:this._clampYAxis(r),max:this._clampYAxis(o),splitLine:{show:!0},axisLabel:{formatter:this._formatYAxisLabel}},legend:{type:"custom",show:!this.hideLegend,data:this._legendData},grid:{top:15,left:1,right:1,bottom:0,containLabel:!0},tooltip:{trigger:"axis",appendTo:document.body,formatter:this._renderTooltip}}}},{key:"_generateData",value:(a=(0,p.A)((0,u.A)().m(function t(){var e,a,i,r,o,n,s,d,l,p,m=this;return(0,u.A)().w(function(t){for(;;)switch(t.n){case 0:if(this.statisticsData){t.n=1;break}return t.a(2);case 1:if(p=this.metadata){t.n=3;break}return t.n=2,this._getStatisticsMetaData(Object.keys(this.statisticsData));case 2:p=t.v;case 3:if(a=p,i=0,r=Object.entries(this.statisticsData),o=[],n=[],s=[],0!==r.length){t.n=4;break}return t.a(2);case 4:(this.endTime||new Date(Math.max.apply(Math,(0,h.A)(r.map(function(t){var e=(0,c.A)(t,2),a=(e[0],e[1]);return new Date(a[a.length-1].start).getTime()})))))>new Date&&new Date,l=this.names||{},r.forEach(function(t){var e=(0,c.A)(t,2),r=e[0],u=e[1],p=null==a?void 0:a[r],f=l[r];void 0===f&&(f=(0,Y.$O)(m.hass,r,p)),m.unit||(void 0===d?d=(0,Y.JE)(m.hass,r,p):null!==d&&d!==(0,Y.JE)(m.hass,r,p)&&(d=null));var v,y=null,_=[],g=[],b=(0,w.fI)(i,m._computedStyle||getComputedStyle(m));i++;var x=[],A=m.statTypes.includes("mean")&&(0,Y.iY)(u,"mean"),D=m.statTypes.includes("max")&&(0,Y.iY)(u,"max"),T=m.statTypes.includes("min")&&(0,Y.iY)(u,"min"),k=[A,D,T].filter(Boolean).length>1,M=m.statTypes.includes("state"),S=D?"max":"mean",E=T?"min":"mean",L=k?(0,h.A)(m.statTypes).sort(function(t,e){return"min"===t||"max"===e?-1:"max"===t||"min"===e?1:0}):m.statTypes,Z=!1;L.forEach(function(t){if((0,Y.iY)(u,t)){var e=k&&(t===S||t===E);x.push(t);var a=e&&T&&D&&A||M&&["change","sum"].includes(t)?b+(m.hideLegend?"00":"7F"):b,i=e?b+"3F":b+"7F",o={id:"".concat(r,"-").concat(t),type:m.chartType,smooth:"line"===m.chartType&&.4,smoothMonotone:"x",cursor:"default",data:[],name:f?"".concat(f," (").concat(m.hass.localize("ui.components.statistics_charts.statistic_types.".concat(t)),")"):m.hass.localize("ui.components.statistics_charts.statistic_types.".concat(t)),symbol:"none",sampling:"minmax",animationDurationUpdate:0,lineStyle:{width:1.5},itemStyle:"bar"===m.chartType?{borderRadius:[4,4,0,0],borderColor:a,borderWidth:1.5}:void 0,color:"bar"===m.chartType?i:a};if(e&&"line"===m.chartType&&(o.stack="band-".concat(r),o.stackStrategy="all",k&&t===S&&(o.areaStyle={color:b+"3F"})),!m.hideLegend){var n,d=A?"mean"===t:!1===Z;d&&g.push({id:r,name:f,color:o.color,borderColor:null===(n=o.itemStyle)||void 0===n?void 0:n.borderColor}),Z=Z||d}_.push(o),s.push(r)}});var O=null,z=null;u.forEach(function(t){var e=new Date(t.start);if(O!==e){O=e;var a=[];x.forEach(function(e){var i=[];if("sum"===e)null==z?(i.push(0),z=t.sum):i.push((t.sum||0)-z);else if(e===S&&"line"===m.chartType&&k){var r=t[S]||0;i.push(Math.abs(r-(t[E]||0))),i.push(r)}else{var o;i.push(null!==(o=t[e])&&void 0!==o?o:null)}a.push(i)}),m._hiddenStats.has(r)||function(t,e,a){a.length&&(t>e||(_.forEach(function(e,i){"line"===m.chartType&&v&&y&&v.getTime()!==t.getTime()&&(e.data.push(m._transformDataValue([v].concat((0,h.A)(y[i])))),e.data.push([v,null])),e.data.push(m._transformDataValue([t].concat((0,h.A)(a[i]))))}),y=a,v=e))}(e,new Date(t.end),a)}}),Array.prototype.push.apply(o,_),Array.prototype.push.apply(n,g)}),d&&(this.unit=d),n.forEach(function(t){var e=t.id,a=t.name,i=t.color,r=t.borderColor;o.push({id:e,name:a,color:i,itemStyle:{borderColor:r},type:m.chartType,data:[],xAxisIndex:1})}),this._chartData=o,n.length!==(null===(e=this._legendData)||void 0===e?void 0:e.length)&&(this._legendData=n.length>1?n.map(function(t){return{id:t.id,name:t.name}}):void 0),this._statisticIds=s;case 5:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"_transformDataValue",value:function(t){return"bar"===this.chartType&&t[1]&&t[1]<0?{value:t,itemStyle:{borderRadius:[0,0,4,4]}}:t}},{key:"_clampYAxis",value:function(t){if(this.logarithmicScale){if("number"==typeof t)return Math.max(t,Number.EPSILON);if("function"==typeof t)return function(e){return Math.max(t(e),Number.EPSILON)}}return t}},{key:"_roundYAxis",value:function(t,e){return Math.abs(t)<1?t:e(t)}}]);var a}(g.WF);O.styles=(0,g.AH)(d||(d=(0,l.A)([":host{display:block;min-height:60px}.info{text-align:center;line-height:60px;color:var(--secondary-text-color)}"]))),(0,_.__decorate)([(0,b.MZ)({attribute:!1})],O.prototype,"hass",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1})],O.prototype,"statisticsData",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1})],O.prototype,"metadata",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1})],O.prototype,"names",void 0),(0,_.__decorate)([(0,b.MZ)()],O.prototype,"unit",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1})],O.prototype,"startTime",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1})],O.prototype,"endTime",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1,type:Array})],O.prototype,"statTypes",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1})],O.prototype,"chartType",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1,type:Number})],O.prototype,"minYAxis",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:!1,type:Number})],O.prototype,"maxYAxis",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:"fit-y-data",type:Boolean})],O.prototype,"fitYData",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:"hide-legend",type:Boolean})],O.prototype,"hideLegend",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:"logarithmic-scale",type:Boolean})],O.prototype,"logarithmicScale",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:"is-loading-data",type:Boolean})],O.prototype,"isLoadingData",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:"click-for-more-info",type:Boolean})],O.prototype,"clickForMoreInfo",void 0),(0,_.__decorate)([(0,b.MZ)()],O.prototype,"period",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:"days-to-show",type:Number})],O.prototype,"daysToShow",void 0),(0,_.__decorate)([(0,b.MZ)({type:String})],O.prototype,"height",void 0),(0,_.__decorate)([(0,b.MZ)({attribute:"expand-legend",type:Boolean})],O.prototype,"expandLegend",void 0),(0,_.__decorate)([(0,b.wk)()],O.prototype,"_chartData",void 0),(0,_.__decorate)([(0,b.wk)()],O.prototype,"_legendData",void 0),(0,_.__decorate)([(0,b.wk)()],O.prototype,"_statisticIds",void 0),(0,_.__decorate)([(0,b.wk)()],O.prototype,"_chartOptions",void 0),(0,_.__decorate)([(0,b.wk)()],O.prototype,"_hiddenStats",void 0),O=(0,_.__decorate)([(0,b.EM)("statistics-chart")],O),i()}catch(z){i(z)}})},5745:function(t,e,a){var i=a(43080),r=a(44734),o=a(69683),n=a(6454),s=a(40445),d=a(82339),c=a(77845),h=function(t){function e(){return(0,r.A)(this,e),(0,o.A)(this,e,arguments)}return(0,n.A)(e,t),(0,i.A)(e)}(d.Y);h=(0,s.__decorate)([(0,c.EM)("ha-chip-set")],h)},99611:function(t,e,a){a.a(t,async function(t,i){try{a.d(e,{r:function(){return b}});var r,o,n=a(72153),s=a(31432),d=a(44734),c=a(43080),h=a(69683),l=a(6454),u=a(25460),p=(a(28706),a(40445)),m=a(1126),f=a(96196),v=a(77845),y=a(60353),_=a(14503),g=t([m]);m=(g.then?(await g)():g)[0];var b=300,x=function(t){function e(){var t;(0,d.A)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=(0,h.A)(this,e,[].concat(i))).open=!1,t.flexContent=!1,t._drawerOpen=!1,t._gestureRecognizer=new y.u,t._isDragging=!1,t._handleTouchStart=function(e){var a,i=(0,s.A)(e.composedPath());try{for(i.s();!(a=i.n()).done;){var r=a.value;if(r===t._drawer)break;if(r.scrollTop>0)return}}catch(o){i.e(o)}finally{i.f()}t._startResizing(e.touches[0].clientY)},t._handleTouchMove=function(e){var a=e.touches[0].clientY,i=t._gestureRecognizer.move(a);i<0&&(e.preventDefault(),t._isDragging=!0,requestAnimationFrame(function(){t._isDragging&&t.style.setProperty("--dialog-transform","translateY(".concat(-1*i,"px)"))}))},t._handleTouchEnd=function(){var e;t._unregisterResizeHandlers(),t._isDragging=!1;var a=t._gestureRecognizer.end();if(a.isSwipe)a.isDownwardSwipe?t._drawerOpen=!1:t._animateSnapBack();else{var i=null===(e=t._drawer.shadowRoot)||void 0===e?void 0:e.querySelector('[part="body"]'),r=(null==i?void 0:i.offsetHeight)||0;r>0&&a.delta<0&&Math.abs(a.delta)>.5*r?t._drawerOpen=!1:t._animateSnapBack()}},t._unregisterResizeHandlers=function(){document.removeEventListener("touchmove",t._handleTouchMove),document.removeEventListener("touchend",t._handleTouchEnd),document.removeEventListener("touchcancel",t._handleTouchEnd)},t}return(0,l.A)(e,t),(0,c.A)(e,[{key:"_handleAfterHide",value:function(t){t.stopPropagation(),this.open=!1;var e=new Event("closed",{bubbles:!0,composed:!0});this.dispatchEvent(e)}},{key:"updated",value:function(t){(0,u.A)(e,"updated",this,3)([t]),t.has("open")&&(this._drawerOpen=this.open)}},{key:"render",value:function(){return(0,f.qy)(r||(r=(0,n.A)([' <wa-drawer id="drawer" placement="bottom" .open="','" @wa-after-hide="','" without-header @touchstart="','"> <slot name="header"></slot> <div id="body" class="body ha-scrollbar"> <slot></slot> </div> </wa-drawer> '])),this._drawerOpen,this._handleAfterHide,this._handleTouchStart)}},{key:"_startResizing",value:function(t){document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd),this._gestureRecognizer.start(t)}},{key:"_animateSnapBack",value:function(){var t=this;this.style.setProperty("--dialog-transition","transform ".concat(b,"ms ease-out")),this.style.removeProperty("--dialog-transform"),setTimeout(function(){t.style.removeProperty("--dialog-transition")},b)}},{key:"disconnectedCallback",value:function(){(0,u.A)(e,"disconnectedCallback",this,3)([]),this._unregisterResizeHandlers(),this._isDragging=!1}}])}(f.WF);x.styles=[_.dp,(0,f.AH)(o||(o=(0,n.A)(["wa-drawer{--wa-color-surface-raised:transparent;--spacing:0;--size:var(--ha-bottom-sheet-height, auto);--show-duration:","ms;--hide-duration:","ms}wa-drawer::part(dialog){max-height:var(--ha-bottom-sheet-max-height,90vh);align-items:center;transform:var(--dialog-transform);transition:var(--dialog-transition)}wa-drawer::part(body){max-width:var(--ha-bottom-sheet-max-width);width:100%;border-top-left-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));border-top-right-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));background-color:var(--ha-bottom-sheet-surface-background,var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff)));padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}:host([flexcontent]) wa-drawer::part(body){display:flex;flex-direction:column}:host([flexcontent]) .body{flex:1;max-width:100%;display:flex;flex-direction:column;padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}"])),b,b)],(0,p.__decorate)([(0,v.MZ)({type:Boolean})],x.prototype,"open",void 0),(0,p.__decorate)([(0,v.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],x.prototype,"flexContent",void 0),(0,p.__decorate)([(0,v.wk)()],x.prototype,"_drawerOpen",void 0),(0,p.__decorate)([(0,v.P)("#drawer")],x.prototype,"_drawer",void 0),x=(0,p.__decorate)([(0,v.EM)("ha-bottom-sheet")],x),i()}catch(A){i(A)}})},2846:function(t,e,a){a.d(e,{G:function(){return v},J:function(){return f}});var i,r,o=a(44734),n=a(43080),s=a(69683),d=a(6454),c=a(72153),h=a(40445),l=a(97154),u=a(82553),p=a(96196),m=a(77845),f=(a(54276),[u.R,(0,p.AH)(i||(i=(0,c.A)([":host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}"])))]),v=function(t){function e(){return(0,o.A)(this,e),(0,s.A)(this,e,arguments)}return(0,d.A)(e,t),(0,n.A)(e,[{key:"renderRipple",value:function(){return"text"===this.type?p.s6:(0,p.qy)(r||(r=(0,c.A)(['<ha-ripple part="ripple" for="item" ?disabled="','"></ha-ripple>'])),this.disabled&&"link"!==this.type)}}])}(l.n);v.styles=f,v=(0,h.__decorate)([(0,m.EM)("ha-md-list-item")],v)}}]);
//# sourceMappingURL=88537.2aed24c1b74c0f1c.js.map