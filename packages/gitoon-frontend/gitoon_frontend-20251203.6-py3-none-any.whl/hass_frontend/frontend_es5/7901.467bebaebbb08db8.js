"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["7901"],{80785:function(n,t,e){function a(n){return!!n&&(n instanceof Date&&!isNaN(n.valueOf()))}e.d(t,{A:function(){return a}})},72487:function(n,t,e){e.a(n,async function(n,a){try{e.d(t,{CA:function(){return x},Pm:function(){return b},Wq:function(){return w},Yq:function(){return s},fr:function(){return _},gu:function(){return C},kz:function(){return f},sl:function(){return g},zB:function(){return h}});var i=e(26520),r=(e(28706),e(50113),e(18111),e(20116),e(26099),e(74487)),o=e(22786),c=e(46927),u=e(8480),l=n([r,u]);[r,u]=l.then?(await l)():l;(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,u.w)(n.time_zone,t)})});var s=function(n,t,e){return d(t,e.time_zone).format(n)},d=(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,u.w)(n.time_zone,t)})}),f=function(n,t,e){return m(t,e.time_zone).format(n)},m=(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,u.w)(n.time_zone,t)})}),h=function(n,t,e){var a,r,o,u,l=p(t,e.time_zone);if(t.date_format===c.ow.language||t.date_format===c.ow.system)return l.format(n);var s=l.formatToParts(n),d=null===(a=s.find(function(n){return"literal"===n.type}))||void 0===a?void 0:a.value,f=null===(r=s.find(function(n){return"day"===n.type}))||void 0===r?void 0:r.value,m=null===(o=s.find(function(n){return"month"===n.type}))||void 0===o?void 0:o.value,h=null===(u=s.find(function(n){return"year"===n.type}))||void 0===u?void 0:u.value,g=s[s.length-1],v="literal"===(null==g?void 0:g.type)?null==g?void 0:g.value:"";return"bg"===t.language&&t.date_format===c.ow.YMD&&(v=""),(0,i.A)((0,i.A)((0,i.A)({},c.ow.DMY,"".concat(f).concat(d).concat(m).concat(d).concat(h).concat(v)),c.ow.MDY,"".concat(m).concat(d).concat(f).concat(d).concat(h).concat(v)),c.ow.YMD,"".concat(h).concat(d).concat(m).concat(d).concat(f).concat(v))[t.date_format]},p=(0,o.A)(function(n,t){var e=n.date_format===c.ow.system?void 0:n.language;return n.date_format===c.ow.language||(n.date_format,c.ow.system),new Intl.DateTimeFormat(e,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,u.w)(n.time_zone,t)})}),g=function(n,t,e){return v(t,e.time_zone).format(n)},v=(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{day:"numeric",month:"short",timeZone:(0,u.w)(n.time_zone,t)})}),_=function(n,t,e){return y(t,e.time_zone).format(n)},y=(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{month:"long",year:"numeric",timeZone:(0,u.w)(n.time_zone,t)})}),w=function(n,t,e){return k(t,e.time_zone).format(n)},k=(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{month:"long",timeZone:(0,u.w)(n.time_zone,t)})}),b=function(n,t,e){return A(t,e.time_zone).format(n)},A=(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{year:"numeric",timeZone:(0,u.w)(n.time_zone,t)})}),x=function(n,t,e){return z(t,e.time_zone).format(n)},z=(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{weekday:"long",timeZone:(0,u.w)(n.time_zone,t)})}),C=function(n,t,e){return D(t,e.time_zone).format(n)},D=(0,o.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{weekday:"short",timeZone:(0,u.w)(n.time_zone,t)})});a()}catch(T){a(T)}})},95747:function(n,t,e){e.a(n,async function(n,a){try{e.d(t,{CL:function(){return y},GH:function(){return b},Rl:function(){return m},ZS:function(){return v},aQ:function(){return p},r6:function(){return d},yg:function(){return w}});e(28706);var i=e(74487),r=e(22786),o=e(72487),c=e(30162),u=e(8480),l=e(69543),s=n([i,u,o,c]);[i,u,o,c]=s.then?(await s)():s;var d=function(n,t,e){return f(t,e.time_zone).format(n)},f=(0,r.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{year:"numeric",month:"long",day:"numeric",hour:(0,l.J)(n)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.J)(n)?"h12":"h23",timeZone:(0,u.w)(n.time_zone,t)})}),m=function(n){return h().format(n)},h=(0,r.A)(function(){return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),p=function(n,t,e){return g(t,e.time_zone).format(n)},g=(0,r.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{year:"numeric",month:"short",day:"numeric",hour:(0,l.J)(n)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.J)(n)?"h12":"h23",timeZone:(0,u.w)(n.time_zone,t)})}),v=function(n,t,e){return _(t,e.time_zone).format(n)},_=(0,r.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{month:"short",day:"numeric",hour:(0,l.J)(n)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.J)(n)?"h12":"h23",timeZone:(0,u.w)(n.time_zone,t)})}),y=function(n,t,e){return(new Date).getFullYear()===n.getFullYear()?v(n,t,e):p(n,t,e)},w=function(n,t,e){return k(t,e.time_zone).format(n)},k=(0,r.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{year:"numeric",month:"long",day:"numeric",hour:(0,l.J)(n)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,l.J)(n)?"h12":"h23",timeZone:(0,u.w)(n.time_zone,t)})}),b=function(n,t,e){return"".concat((0,o.zB)(n,t,e),", ").concat((0,c.fU)(n,t,e))};a()}catch(A){a(A)}})},30162:function(n,t,e){e.a(n,async function(n,a){try{e.d(t,{LW:function(){return p},Xs:function(){return m},fU:function(){return l},ie:function(){return d}});var i=e(74487),r=e(22786),o=e(8480),c=e(69543),u=n([i,o]);[i,o]=u.then?(await u)():u;var l=function(n,t,e){return s(t,e.time_zone).format(n)},s=(0,r.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,c.J)(n)?"h12":"h23",timeZone:(0,o.w)(n.time_zone,t)})}),d=function(n,t,e){return f(t,e.time_zone).format(n)},f=(0,r.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{hour:(0,c.J)(n)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,c.J)(n)?"h12":"h23",timeZone:(0,o.w)(n.time_zone,t)})}),m=function(n,t,e){return h(t,e.time_zone).format(n)},h=(0,r.A)(function(n,t){return new Intl.DateTimeFormat(n.language,{weekday:"long",hour:(0,c.J)(n)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,c.J)(n)?"h12":"h23",timeZone:(0,o.w)(n.time_zone,t)})}),p=function(n,t,e){return g(t,e.time_zone).format(n)},g=(0,r.A)(function(n,t){return new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,o.w)(n.time_zone,t)})});a()}catch(v){a(v)}})},98975:function(n,t,e){e.a(n,async function(n,a){try{e.d(t,{K:function(){return l}});var i=e(74487),r=e(22786),o=e(63927),c=n([i,o]);[i,o]=c.then?(await c)():c;var u=(0,r.A)(function(n){return new Intl.RelativeTimeFormat(n.language,{numeric:"auto"})}),l=function(n,t,e){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=(0,o.x)(n,e,t);return a?u(t).format(i.value,i.unit):Intl.NumberFormat(t.language,{style:"unit",unit:i.unit,unitDisplay:"long"}).format(Math.abs(i.value))};a()}catch(s){a(s)}})},8480:function(n,t,e){e.a(n,async function(n,a){try{e.d(t,{n:function(){return d},w:function(){return f}});var i,r,o,c=e(74487),u=e(46927),l=n([c]);c=(l.then?(await l)():l)[0];var s=null===(i=Intl.DateTimeFormat)||void 0===i||null===(r=(o=i.call(Intl)).resolvedOptions)||void 0===r?void 0:r.call(o).timeZone,d=null!=s?s:"UTC",f=function(n,t){return n===u.Wj.local&&s?d:t};a()}catch(m){a(m)}})},69543:function(n,t,e){e.d(t,{J:function(){return r}});e(74423),e(21699);var a=e(22786),i=e(46927),r=(0,a.A)(function(n){if(n.time_format===i.Hg.language||n.time_format===i.Hg.system){var t=n.time_format===i.Hg.language?n.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return n.time_format===i.Hg.am_pm})},63927:function(n,t,e){e.a(n,async function(n,a){try{e.d(t,{x:function(){return h}});e(69085);var i=e(6946),r=e(52640),o=e(38684),c=e(380),u=n([c]);c=(u.then?(await u)():u)[0];var l=1e3,s=60,d=60*s;function h(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),e=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Object.assign(Object.assign({},f),a||{}),m=(+n-+t)/l;if(Math.abs(m)<u.second)return{value:Math.round(m),unit:"second"};var h=m/s;if(Math.abs(h)<u.minute)return{value:Math.round(h),unit:"minute"};var p=m/d;if(Math.abs(p)<u.hour)return{value:Math.round(p),unit:"hour"};var g=new Date(n),v=new Date(t);g.setHours(0,0,0,0),v.setHours(0,0,0,0);var _=(0,i.c)(g,v);if(0===_)return{value:Math.round(p),unit:"hour"};if(Math.abs(_)<u.day)return{value:_,unit:"day"};var y=(0,c.P)(e),w=(0,r.k)(g,{weekStartsOn:y}),k=(0,r.k)(v,{weekStartsOn:y}),b=(0,o.I)(w,k);if(0===b)return{value:_,unit:"day"};if(Math.abs(b)<u.week)return{value:b,unit:"week"};var A=g.getFullYear()-v.getFullYear(),x=12*A+g.getMonth()-v.getMonth();return 0===x?{value:b,unit:"week"}:Math.abs(x)<u.month||0===A?{value:x,unit:"month"}:{value:Math.round(A),unit:"year"}}var f={second:59,minute:59,hour:22,day:5,week:4,month:11};a()}catch(m){a(m)}})},91380:function(n,t,e){e.d(t,{O:function(){return A},jB:function(){return x}});var a,i,r=e(72153),o=e(44734),c=e(43080),u=e(69683),l=e(6454),s=e(61397),d=e(7739),f=e(50264),m=(e(16280),e(28706),e(23792),e(69085),e(26099),e(3362),e(47764),e(62953),e(40445)),h=e(76974),p=e(5101),g=e(68649),v=e(96196),_=e(77845),y=void 0;h.l.addInitializer(function(){var n=(0,f.A)((0,s.A)().m(function n(t){var e,a,i;return(0,s.A)().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,t.updateComplete;case 1:(e=t).dialog.prepend(e.scrim),e.scrim.style.inset=0,e.scrim.style.zIndex=0,a=e.getOpenAnimation,i=e.getCloseAnimation,e.getOpenAnimation=function(){var n,t,e=a.call(y);return e.container=[].concat((0,d.A)(null!==(n=e.container)&&void 0!==n?n:[]),(0,d.A)(null!==(t=e.dialog)&&void 0!==t?t:[])),e.dialog=[],e},e.getCloseAnimation=function(){var n,t,e=i.call(y);return e.container=[].concat((0,d.A)(null!==(n=e.container)&&void 0!==n?n:[]),(0,d.A)(null!==(t=e.dialog)&&void 0!==t?t:[])),e.dialog=[],e};case 2:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}());var w=function(n){function t(){var n;return(0,o.A)(this,t),(n=(0,u.A)(this,t)).disableCancelAction=!1,n._polyfillDialogRegistered=!1,n.addEventListener("cancel",n._handleCancel),"function"!=typeof HTMLDialogElement&&(n.addEventListener("open",n._handleOpen),i||(i=e.e("98017").then(e.bind(e,44984)))),void 0===n.animate&&(n.quick=!0),void 0===n.animate&&(n.quick=!0),n}return(0,l.A)(t,n),(0,c.A)(t,[{key:"_handleOpen",value:(r=(0,f.A)((0,s.A)().m(function n(t){var e,a;return(0,s.A)().w(function(n){for(;;)switch(n.n){case 0:if(t.preventDefault(),!this._polyfillDialogRegistered){n.n=1;break}return n.a(2);case 1:return this._polyfillDialogRegistered=!0,this._loadPolyfillStylesheet("/static/polyfills/dialog-polyfill.css"),a=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("dialog"),n.n=2,i;case 2:n.v.default.registerDialog(a),this.removeEventListener("open",this._handleOpen),this.show();case 3:return n.a(2)}},n,this)})),function(n){return r.apply(this,arguments)})},{key:"_loadPolyfillStylesheet",value:(a=(0,f.A)((0,s.A)().m(function n(t){var e,a=this;return(0,s.A)().w(function(n){for(;;)if(0===n.n)return(e=document.createElement("link")).rel="stylesheet",e.href=t,n.a(2,new Promise(function(n,i){var r;e.onload=function(){return n()},e.onerror=function(){return i(new Error("Stylesheet failed to load: ".concat(t)))},null===(r=a.shadowRoot)||void 0===r||r.appendChild(e)}))},n)})),function(n){return a.apply(this,arguments)})},{key:"_handleCancel",value:function(n){if(this.disableCancelAction){var t;n.preventDefault();var e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("dialog .container");void 0!==this.animate&&(null==e||e.animate([{transform:"rotate(-1deg)","animation-timing-function":"ease-in"},{transform:"rotate(1.5deg)","animation-timing-function":"ease-out"},{transform:"rotate(0deg)","animation-timing-function":"ease-in"}],{duration:200,iterations:2}))}}}]);var a,r}(h.l);w.styles=[p.R,(0,v.AH)(a||(a=(0,r.A)([":host{--md-dialog-container-color:var(--card-background-color);--md-dialog-headline-color:var(--primary-text-color);--md-dialog-supporting-text-color:var(--primary-text-color);--md-sys-color-scrim:#000000;--md-dialog-headline-weight:var(--ha-font-weight-normal);--md-dialog-headline-size:var(--ha-font-size-xl);--md-dialog-supporting-text-size:var(--ha-font-size-m);--md-dialog-supporting-text-line-height:var(--ha-line-height-normal);--md-divider-color:var(--divider-color)}:host([type=alert]){min-width:320px}@media all and (max-width:450px),all and (max-height:500px){:host(:not([type=alert])){min-width:var(--mdc-dialog-min-width,100vw);min-height:100%;max-height:100%;--md-dialog-container-shape:0}.container{margin-top:var(--safe-area-inset-top,var(--ha-space-0));margin-bottom:var(--safe-area-inset-bottom,var(--ha-space-0));margin-left:var(--safe-area-inset-left,var(--ha-space-0));margin-right:var(--safe-area-inset-right,var(--ha-space-0))}}::slotted(ha-dialog-header[slot=headline]){display:contents}slot[name=actions]::slotted(*){padding:var(--ha-space-4)}.scroller{overflow:var(--dialog-content-overflow,auto)}slot[name=content]::slotted(*){padding:var(--dialog-content-padding,var(--ha-space-6))}.scrim{z-index:10}"])))],(0,m.__decorate)([(0,_.MZ)({attribute:"disable-cancel-action",type:Boolean})],w.prototype,"disableCancelAction",void 0),w=(0,m.__decorate)([(0,_.EM)("ha-md-dialog")],w);var k=Object.assign(Object.assign({},g.T),{},{dialog:[[[{transform:"translateY(50px)"},{transform:"translateY(0)"}],{duration:500,easing:"cubic-bezier(.3,0,0,1)"}]],container:[[[{opacity:0},{opacity:1}],{duration:50,easing:"linear",pseudoElement:"::before"}]]}),b=Object.assign(Object.assign({},g.N),{},{dialog:[[[{transform:"translateY(0)"},{transform:"translateY(50px)"}],{duration:150,easing:"cubic-bezier(.3,0,0,1)"}]],container:[[[{opacity:"1"},{opacity:"0"}],{delay:100,duration:50,easing:"linear",pseudoElement:"::before"}]]}),A=function(){return window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?k:g.T},x=function(){return window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?b:g.N}},2846:function(n,t,e){e.d(t,{G:function(){return g},J:function(){return p}});var a,i,r=e(44734),o=e(43080),c=e(69683),u=e(6454),l=e(72153),s=e(40445),d=e(97154),f=e(82553),m=e(96196),h=e(77845),p=(e(54276),[f.R,(0,m.AH)(a||(a=(0,l.A)([":host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}"])))]),g=function(n){function t(){return(0,r.A)(this,t),(0,c.A)(this,t,arguments)}return(0,u.A)(t,n),(0,o.A)(t,[{key:"renderRipple",value:function(){return"text"===this.type?m.s6:(0,m.qy)(i||(i=(0,l.A)(['<ha-ripple part="ripple" for="item" ?disabled="','"></ha-ripple>'])),this.disabled&&"link"!==this.type)}}])}(d.n);g.styles=p,g=(0,s.__decorate)([(0,h.EM)("ha-md-list-item")],g)},17308:function(n,t,e){var a,i=e(72153),r=e(43080),o=e(44734),c=e(69683),u=e(6454),l=e(40445),s=e(49838),d=e(11245),f=e(96196),m=e(77845),h=function(n){function t(){return(0,o.A)(this,t),(0,c.A)(this,t,arguments)}return(0,u.A)(t,n),(0,r.A)(t)}(s.B);h.styles=[d.R,(0,f.AH)(a||(a=(0,i.A)([":host{--md-sys-color-surface:var(--card-background-color)}"])))],h=(0,l.__decorate)([(0,m.EM)("ha-md-list")],h)},54276:function(n,t,e){var a,i=e(72153),r=e(44734),o=e(43080),c=e(75864),u=e(69683),l=e(6454),s=e(25460),d=(e(28706),e(40445)),f=e(76482),m=e(91382),h=e(96245),p=e(96196),g=e(77845),v=function(n){function t(){var n;(0,r.A)(this,t);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=(0,u.A)(this,t,[].concat(a))).attachableTouchController=new f.i((0,c.A)(n),n._onTouchControlChange.bind((0,c.A)(n))),n._handleTouchEnd=function(){n.disabled||(0,s.A)(((0,c.A)(n),t),"endPressAnimation",n,3)([])},n}return(0,l.A)(t,n),(0,o.A)(t,[{key:"attach",value:function(n){(0,s.A)(t,"attach",this,3)([n]),this.attachableTouchController.attach(n)}},{key:"disconnectedCallback",value:function(){(0,s.A)(t,"disconnectedCallback",this,3)([]),this.hovered=!1,this.pressed=!1}},{key:"detach",value:function(){(0,s.A)(t,"detach",this,3)([]),this.attachableTouchController.detach()}},{key:"_onTouchControlChange",value:function(n,t){null==n||n.removeEventListener("touchend",this._handleTouchEnd),null==t||t.addEventListener("touchend",this._handleTouchEnd)}}])}(m.n);v.styles=[h.R,(0,p.AH)(a||(a=(0,i.A)([":host{--md-ripple-hover-opacity:var(--ha-ripple-hover-opacity, 0.08);--md-ripple-pressed-opacity:var(--ha-ripple-pressed-opacity, 0.12);--md-ripple-hover-color:var(\n          --ha-ripple-hover-color,\n          var(--ha-ripple-color, var(--secondary-text-color))\n        );--md-ripple-pressed-color:var(\n          --ha-ripple-pressed-color,\n          var(--ha-ripple-color, var(--secondary-text-color))\n        )}"])))],v=(0,d.__decorate)([(0,g.EM)("ha-ripple")],v)},31420:function(n,t,e){e.a(n,async function(n,a){try{e.d(t,{Bi:function(){return J},Dt:function(){return $},EB:function(){return O},IW:function(){return F},P_:function(){return T},SG:function(){return M},Sx:function(){return G},T2:function(){return k},Xm:function(){return A},Ye:function(){return b},Zm:function(){return B},cq:function(){return N},dH:function(){return S},en:function(){return Q},gb:function(){return x},gv:function(){return Z},jU:function(){return Y},kI:function(){return E},mF:function(){return R},mu:function(){return I},oJ:function(){return W},pI:function(){return C},pL:function(){return K},q5:function(){return L},q7:function(){return j},qk:function(){return w},sp:function(){return q},uM:function(){return X},v3:function(){return H},xN:function(){return V},yL:function(){return z},yj:function(){return P},zZ:function(){return D}});var i=e(7739),r=e(78261),o=e(61397),c=e(50264),u=(e(28706),e(2008),e(50113),e(74423),e(25276),e(23792),e(62062),e(26910),e(54743),e(11745),e(38309),e(16573),e(78100),e(77936),e(18111),e(22489),e(20116),e(7588),e(61701),e(69085),e(26099),e(16034),e(58940),e(27495),e(38781),e(47764),e(25440),e(43870),e(48140),e(81630),e(72170),e(75044),e(69539),e(31694),e(89955),e(21903),e(91134),e(33206),e(44496),e(66651),e(12887),e(19369),e(66812),e(8995),e(31575),e(36072),e(88747),e(28845),e(29423),e(57301),e(373),e(86614),e(41405),e(37467),e(44732),e(33684),e(79577),e(41549),e(49797),e(49631),e(35623),e(23500),e(62953),e(48408),e(14603),e(47566),e(98721),e(22711)),l=e(97732),s=e(6226),d=e(22786),f=e(80785),m=e(95747),h=e(30162),p=e(36918),g=e(33668),v=e(39889),_=e(95350),y=n([u,m,h]);[u,m,h]=y.then?(await y)():y;var w=function(n){return n.NEVER="never",n.DAILY="daily",n.CUSTOM_DAYS="custom_days",n}({}),k=["mon","tue","wed","thu","fri","sat","sun"],b=function(n){return n.sort(function(n,t){return k.indexOf(n)-k.indexOf(t)})},A=function(n){return n.callWS({type:"backup/config/info"})},x=function(n,t){return n.callWS(Object.assign({type:"backup/config/update"},t))},z=function(n,t,e){return"/api/backup/download/".concat(n,"?agent_id=").concat(t).concat(e?"&password=".concat(e):"")},C=function(n){return n.callWS({type:"backup/info"})},D=function(n,t){return n.callWS({type:"backup/details",backup_id:t})},T=function(n){return n.callWS({type:"backup/agents/info"})},I=function(n,t){return n.callWS({type:"backup/delete",backup_id:t})},M=function(n,t){return n.callWS(Object.assign({type:"backup/generate"},t))},F=function(n){return n.callWS({type:"backup/generate_with_automatic_settings"})},S=function(n,t){return n.callWS(Object.assign({type:"backup/restore"},t))},E=function(){var n=(0,c.A)((0,o.A)().m(function n(t,e,a){var i,r;return(0,o.A)().w(function(n){for(;;)if(0===n.n)return(i=new FormData).append("file",e),r=new URLSearchParams,a.forEach(function(n){r.append("agent_id",n)}),n.a(2,(0,v.QE)(t.fetchWithAuth("/api/backup/upload?".concat(r.toString()),{method:"POST",body:i})))},n)}));return function(t,e,a){return n.apply(this,arguments)}}(),O=function(n){var t=n.find(J);if(t)return t;var e=n.find(Y);return e||n[0]},B=function(n,t,e,a){return n.callWS({type:"backup/can_decrypt_on_download",backup_id:t,agent_id:e,password:a})},Z="backup.local",R="hassio.local",W="cloud.cloud",J=function(n){return[Z,R].includes(n)},Y=function(n){var t=n.split("."),e=(0,r.A)(t,2),a=e[0],i=e[1];return"hassio"===a&&"local"!==i},j=function(n,t,e){if(J(t))return n("ui.panel.config.backup.agents.local_agent");var a=e.find(function(n){return n.agent_id===t}),i=t.split(".")[0],r=a?a.name:t.split(".")[1];if(Y(t))return r;var o=(0,_.p$)(n,i);return e.filter(function(n){return n.agent_id.split(".")[0]===i}).length>1?"".concat(o,": ").concat(r):o},H=function(n){return Math.max.apply(Math,(0,i.A)(Object.values(n.agents).map(function(n){return n.size})))},U=["automatic","addon_update","manual"],L=(0,u.z)(function(n){return n?U:U.filter(function(n){return"addon_update"!==n})}),q=function(n,t){var e;return n.with_automatic_settings?"automatic":t&&null!=(null===(e=n.extra_metadata)||void 0===e?void 0:e["supervisor.addon_update"])?"addon_update":"manual"},P=function(n,t){var e=J(n),a=J(t),i=Y(n),r=Y(t),o=function(n,t){return n?1:t?2:3},c=o(e,i),u=o(a,r);return c!==u?c-u:n.localeCompare(t)},N=function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx",e="",a=new Uint8Array(34);return crypto.getRandomValues(a),a.forEach(function(a,i){e+="-"===t[i]?"-":n[a%36]}),e},G=function(n,t,e){return(0,g.R)(function(n,t){return"data:text/plain;charset=utf-8,"+encodeURIComponent("".concat(n.localize("ui.panel.config.backup.emergency_kit_file.title"),"\n\n").concat(n.localize("ui.panel.config.backup.emergency_kit_file.description"),"\n\n").concat(n.localize("ui.panel.config.backup.emergency_kit_file.date")," ").concat((0,m.r6)(new Date,n.locale,n.config),"\n\n").concat(n.localize("ui.panel.config.backup.emergency_kit_file.instance"),"\n").concat(n.config.location_name,"\n\n").concat(n.localize("ui.panel.config.backup.emergency_kit_file.url"),"\n").concat(n.auth.data.hassUrl,"\n\n").concat(n.localize("ui.panel.config.backup.emergency_kit_file.encryption_key"),"\n").concat(t,"\n\n").concat(n.localize("ui.panel.config.backup.emergency_kit_file.more_info",{link:(0,p.o)(n,"/more-info/backup-emergency-kit")})))}(n,t),function(n,t){return"home_assistant_backup_emergency_kit_".concat(t?"".concat(t,"_"):"").concat((0,m.GH)(new Date,n.locale,n.config).replace(",","").replace(" ","_"),".txt")}(n,e))},X=(0,l.g)((0,s.a)(new Date,4),45),K=(0,l.g)((0,s.a)(new Date,5),45),Q=(0,d.A)(function(n,t,e){if((0,f.A)(e))return(0,h.fU)(e,n,t);if("string"==typeof e&&e){var a=e.split(":"),i=(0,l.g)((0,s.a)(new Date,parseInt(a[0])),parseInt(a[1]));return(0,h.fU)(i,n,t)}return"".concat((0,h.fU)(X,n,t)," - ").concat((0,h.fU)(K,n,t))}),V="application/x-tar",$={file:void 0};a()}catch(nn){a(nn)}})},26581:function(n,t,e){e.d(t,{r:function(){return o},y:function(){return r}});var a=e(61397),i=e(50264),r=(e(69085),function(){var n=(0,i.A)((0,a.A)().m(function n(t){return(0,a.A)().w(function(n){for(;;)if(0===n.n)return n.a(2,t.callWS({type:"hassio/update/config/info"}))},n)}));return function(t){return n.apply(this,arguments)}}()),o=function(){var n=(0,i.A)((0,a.A)().m(function n(t,e){return(0,a.A)().w(function(n){for(;;)if(0===n.n)return n.a(2,t.callWS(Object.assign({type:"hassio/update/config/update"},e)))},n)}));return function(t,e){return n.apply(this,arguments)}}()},56588:function(n,t,e){e.a(n,async function(n,a){try{e.r(t),e.d(t,{DialogLabsPreviewFeatureEnable:function(){return z}});var i,r,o,c,u=e(72153),l=e(61397),s=e(50264),d=e(44734),f=e(43080),m=e(69683),h=e(6454),p=(e(52675),e(89463),e(28706),e(40445)),g=e(96196),v=e(77845),_=e(36312),y=e(98975),w=e(1087),k=e(18350),b=(e(91380),e(17308),e(2846),e(59646),e(31420)),A=e(26581),x=n([k,b,y]);[k,b,y]=x.then?(await x)():x;var z=function(n){function t(){var n;(0,d.A)(this,t);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=(0,m.A)(this,t,[].concat(a)))._createBackup=!1,n}return(0,h.A)(t,n),(0,f.A)(t,[{key:"showDialog",value:(c=(0,s.A)((0,l.A)().m(function n(t){return(0,l.A)().w(function(n){for(;;)switch(n.n){case 0:this._params=t,this._createBackup=!1,this._fetchBackupConfig(),(0,_.x)(this.hass,"hassio")&&this._fetchUpdateBackupConfig();case 1:return n.a(2)}},n,this)})),function(n){return c.apply(this,arguments)})},{key:"closeDialog",value:function(){var n;return null===(n=this._dialog)||void 0===n||n.close(),!0}},{key:"_dialogClosed",value:function(){this._params=void 0,this._backupConfig=void 0,this._createBackup=!1,(0,w.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"_fetchBackupConfig",value:(a=(0,s.A)((0,l.A)().m(function n(){var t,e,a;return(0,l.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,(0,b.Xm)(this.hass);case 1:t=n.v,e=t.config,this._backupConfig=e,n.n=3;break;case 2:n.p=2,a=n.v,console.error(a);case 3:return n.a(2)}},n,this,[[0,2]])})),function(){return a.apply(this,arguments)})},{key:"_fetchUpdateBackupConfig",value:(e=(0,s.A)((0,l.A)().m(function n(){var t,e;return(0,l.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,(0,A.y)(this.hass);case 1:t=n.v,this._createBackup=t.core_backup_before_update,n.n=3;break;case 2:n.p=2,e=n.v,console.error(e);case 3:return n.a(2)}},n,this,[[0,2]])})),function(){return e.apply(this,arguments)})},{key:"_computeCreateBackupTexts",value:function(){if(!this._backupConfig||!this._backupConfig.automatic_backups_configured||!this._backupConfig.create_backup.password||0===this._backupConfig.create_backup.agent_ids.length)return{title:this.hass.localize("ui.panel.config.labs.create_backup.manual"),description:this.hass.localize("ui.panel.config.labs.create_backup.manual_description")};var n=this._backupConfig.last_completed_automatic_backup?new Date(this._backupConfig.last_completed_automatic_backup):null,t=new Date;return{title:this.hass.localize("ui.panel.config.labs.create_backup.automatic"),description:n?this.hass.localize("ui.panel.config.labs.create_backup.automatic_description_last",{relative_time:(0,y.K)(n,this.hass.locale,t,!0)}):this.hass.localize("ui.panel.config.labs.create_backup.automatic_description_none")}}},{key:"_createBackupChanged",value:function(n){this._createBackup=n.target.checked}},{key:"_handleCancel",value:function(){this.closeDialog()}},{key:"_handleConfirm",value:function(){this._params&&this._params.onConfirm(this._createBackup),this.closeDialog()}},{key:"render",value:function(){if(!this._params)return g.s6;var n=this._computeCreateBackupTexts();return(0,g.qy)(i||(i=(0,u.A)([' <ha-md-dialog open @closed="','"> <span slot="headline"> ',' </span> <div slot="content"> <p> ',' </p> </div> <div slot="actions"> ',' <div> <ha-button appearance="plain" @click="','"> ',' </ha-button> <ha-button appearance="filled" variant="brand" @click="','"> '," </ha-button> </div> </div> </ha-md-dialog> "])),this._dialogClosed,this.hass.localize("ui.panel.config.labs.enable_title"),this.hass.localize("component.".concat(this._params.preview_feature.domain,".preview_features.").concat(this._params.preview_feature.preview_feature,".enable_confirmation"))||this.hass.localize("ui.panel.config.labs.enable_confirmation"),n?(0,g.qy)(r||(r=(0,u.A)([' <ha-md-list> <ha-md-list-item> <span slot="headline">',"</span> ",' <ha-switch slot="end" .checked="','" @change="','"></ha-switch> </ha-md-list-item> </ha-md-list> '])),n.title,n.description?(0,g.qy)(o||(o=(0,u.A)([' <span slot="supporting-text"> '," </span> "])),n.description):g.s6,this._createBackup,this._createBackupChanged):g.s6,this._handleCancel,this.hass.localize("ui.common.cancel"),this._handleConfirm,this.hass.localize("ui.panel.config.labs.enable"))}}]);var e,a,c}(g.WF);z.styles=(0,g.AH)(c||(c=(0,u.A)(["ha-md-dialog{--dialog-content-padding:var(--ha-space-6)}p{margin:0;color:var(--secondary-text-color)}div[slot=actions]{display:flex;flex-direction:column;padding:0}ha-md-list{background:0 0;--md-list-item-leading-space:var(--ha-space-6);--md-list-item-trailing-space:var(--ha-space-6);margin:0;padding:0;border-top:var(--ha-border-width-sm) solid var(--divider-color)}div[slot=actions]>div{display:flex;justify-content:flex-end;gap:var(--ha-space-2);padding:var(--ha-space-4) var(--ha-space-6)}"]))),(0,p.__decorate)([(0,v.MZ)({attribute:!1})],z.prototype,"hass",void 0),(0,p.__decorate)([(0,v.wk)()],z.prototype,"_params",void 0),(0,p.__decorate)([(0,v.wk)()],z.prototype,"_backupConfig",void 0),(0,p.__decorate)([(0,v.wk)()],z.prototype,"_createBackup",void 0),(0,p.__decorate)([(0,v.P)("ha-md-dialog")],z.prototype,"_dialog",void 0),z=(0,p.__decorate)([(0,v.EM)("dialog-labs-preview-feature-enable")],z),a()}catch(C){a(C)}})},33668:function(n,t,e){e.d(t,{h:function(){return r},R:function(){return i}});var a=e(37177),i=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=document.createElement("a");e.target="_blank",e.href=n,e.download=t,e.style.display="none",document.body.appendChild(e),e.dispatchEvent(new MouseEvent("click")),document.body.removeChild(e)},r=function(n){var t;return!function(n){return!!n.auth.external&&a.n}(n)||!(null===(t=n.auth.external)||void 0===t||!t.config.downloadFileSupported)}},37177:function(n,t,e){e.d(t,{n:function(){return a}});e(27495),e(90906);var a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=7901.467bebaebbb08db8.js.map