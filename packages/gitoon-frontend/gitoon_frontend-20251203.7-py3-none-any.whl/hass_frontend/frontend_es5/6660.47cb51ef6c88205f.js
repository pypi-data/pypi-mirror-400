"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["6660"],{76538:function(e,a,i){var t,r,o,n,s,l,d=i(72153),c=i(44734),h=i(43080),u=i(69683),p=i(6454),f=(i(28706),i(40445)),g=i(96196),v=i(77845),m=function(e){function a(){var e;(0,c.A)(this,a);for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return(e=(0,u.A)(this,a,[].concat(t))).subtitlePosition="below",e.showBorder=!1,e}return(0,p.A)(a,e),(0,h.A)(a,[{key:"render",value:function(){var e=(0,g.qy)(t||(t=(0,d.A)(['<div class="header-title"> <slot name="title"></slot> </div>']))),a=(0,g.qy)(r||(r=(0,d.A)(['<div class="header-subtitle"> <slot name="subtitle"></slot> </div>'])));return(0,g.qy)(o||(o=(0,d.A)([' <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-content"> ',' </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> '])),"above"===this.subtitlePosition?(0,g.qy)(n||(n=(0,d.A)(["","",""])),a,e):(0,g.qy)(s||(s=(0,d.A)(["","",""])),e,a))}}],[{key:"styles",get:function(){return[(0,g.AH)(l||(l=(0,d.A)([":host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:center;padding:0 var(--ha-space-1);box-sizing:border-box}.header-content{flex:1;padding:10px var(--ha-space-1);display:flex;flex-direction:column;justify-content:center;min-height:var(--ha-space-12);min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-title{height:var(--ha-dialog-header-title-height,calc(var(--ha-font-size-xl) + var(--ha-space-1)));font-size:var(--ha-font-size-xl);line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-medium);color:var(--ha-dialog-header-title-color,var(--primary-text-color))}.header-subtitle{font-size:var(--ha-font-size-m);line-height:var(--ha-line-height-normal);color:var(--ha-dialog-header-subtitle-color,var(--secondary-text-color))}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:0 var(--ha-space-2)}}.header-navigation-icon{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}"])))]}}])}(g.WF);(0,f.__decorate)([(0,v.MZ)({type:String,attribute:"subtitle-position"})],m.prototype,"subtitlePosition",void 0),(0,f.__decorate)([(0,v.MZ)({type:Boolean,reflect:!0,attribute:"show-border"})],m.prototype,"showBorder",void 0),m=(0,f.__decorate)([(0,v.EM)("ha-dialog-header")],m)},91380:function(e,a,i){i.d(a,{O:function(){return w},jB:function(){return k}});var t,r,o=i(72153),n=i(44734),s=i(43080),l=i(69683),d=i(6454),c=i(61397),h=i(7739),u=i(50264),p=(i(16280),i(28706),i(23792),i(69085),i(26099),i(3362),i(47764),i(62953),i(40445)),f=i(76974),g=i(5101),v=i(68649),m=i(96196),y=i(77845),_=void 0;f.l.addInitializer(function(){var e=(0,u.A)((0,c.A)().m(function e(a){var i,t,r;return(0,c.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a.updateComplete;case 1:(i=a).dialog.prepend(i.scrim),i.scrim.style.inset=0,i.scrim.style.zIndex=0,t=i.getOpenAnimation,r=i.getCloseAnimation,i.getOpenAnimation=function(){var e,a,i=t.call(_);return i.container=[].concat((0,h.A)(null!==(e=i.container)&&void 0!==e?e:[]),(0,h.A)(null!==(a=i.dialog)&&void 0!==a?a:[])),i.dialog=[],i},i.getCloseAnimation=function(){var e,a,i=r.call(_);return i.container=[].concat((0,h.A)(null!==(e=i.container)&&void 0!==e?e:[]),(0,h.A)(null!==(a=i.dialog)&&void 0!==a?a:[])),i.dialog=[],i};case 2:return e.a(2)}},e)}));return function(a){return e.apply(this,arguments)}}());var b=function(e){function a(){var e;return(0,n.A)(this,a),(e=(0,l.A)(this,a)).disableCancelAction=!1,e._polyfillDialogRegistered=!1,e.addEventListener("cancel",e._handleCancel),"function"!=typeof HTMLDialogElement&&(e.addEventListener("open",e._handleOpen),r||(r=i.e("98017").then(i.bind(i,44984)))),void 0===e.animate&&(e.quick=!0),void 0===e.animate&&(e.quick=!0),e}return(0,d.A)(a,e),(0,s.A)(a,[{key:"_handleOpen",value:(o=(0,u.A)((0,c.A)().m(function e(a){var i,t;return(0,c.A)().w(function(e){for(;;)switch(e.n){case 0:if(a.preventDefault(),!this._polyfillDialogRegistered){e.n=1;break}return e.a(2);case 1:return this._polyfillDialogRegistered=!0,this._loadPolyfillStylesheet("/static/polyfills/dialog-polyfill.css"),t=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("dialog"),e.n=2,r;case 2:e.v.default.registerDialog(t),this.removeEventListener("open",this._handleOpen),this.show();case 3:return e.a(2)}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"_loadPolyfillStylesheet",value:(t=(0,u.A)((0,c.A)().m(function e(a){var i,t=this;return(0,c.A)().w(function(e){for(;;)if(0===e.n)return(i=document.createElement("link")).rel="stylesheet",i.href=a,e.a(2,new Promise(function(e,r){var o;i.onload=function(){return e()},i.onerror=function(){return r(new Error("Stylesheet failed to load: ".concat(a)))},null===(o=t.shadowRoot)||void 0===o||o.appendChild(i)}))},e)})),function(e){return t.apply(this,arguments)})},{key:"_handleCancel",value:function(e){if(this.disableCancelAction){var a;e.preventDefault();var i=null===(a=this.shadowRoot)||void 0===a?void 0:a.querySelector("dialog .container");void 0!==this.animate&&(null==i||i.animate([{transform:"rotate(-1deg)","animation-timing-function":"ease-in"},{transform:"rotate(1.5deg)","animation-timing-function":"ease-out"},{transform:"rotate(0deg)","animation-timing-function":"ease-in"}],{duration:200,iterations:2}))}}}]);var t,o}(f.l);b.styles=[g.R,(0,m.AH)(t||(t=(0,o.A)([":host{--md-dialog-container-color:var(--card-background-color);--md-dialog-headline-color:var(--primary-text-color);--md-dialog-supporting-text-color:var(--primary-text-color);--md-sys-color-scrim:#000000;--md-dialog-headline-weight:var(--ha-font-weight-normal);--md-dialog-headline-size:var(--ha-font-size-xl);--md-dialog-supporting-text-size:var(--ha-font-size-m);--md-dialog-supporting-text-line-height:var(--ha-line-height-normal);--md-divider-color:var(--divider-color)}:host([type=alert]){min-width:320px}@media all and (max-width:450px),all and (max-height:500px){:host(:not([type=alert])){min-width:var(--mdc-dialog-min-width,100vw);min-height:100%;max-height:100%;--md-dialog-container-shape:0}.container{margin-top:var(--safe-area-inset-top,var(--ha-space-0));margin-bottom:var(--safe-area-inset-bottom,var(--ha-space-0));margin-left:var(--safe-area-inset-left,var(--ha-space-0));margin-right:var(--safe-area-inset-right,var(--ha-space-0))}}::slotted(ha-dialog-header[slot=headline]){display:contents}slot[name=actions]::slotted(*){padding:var(--ha-space-4)}.scroller{overflow:var(--dialog-content-overflow,auto)}slot[name=content]::slotted(*){padding:var(--dialog-content-padding,var(--ha-space-6))}.scrim{z-index:10}"])))],(0,p.__decorate)([(0,y.MZ)({attribute:"disable-cancel-action",type:Boolean})],b.prototype,"disableCancelAction",void 0),b=(0,p.__decorate)([(0,y.EM)("ha-md-dialog")],b);var A=Object.assign(Object.assign({},v.T),{},{dialog:[[[{transform:"translateY(50px)"},{transform:"translateY(0)"}],{duration:500,easing:"cubic-bezier(.3,0,0,1)"}]],container:[[[{opacity:0},{opacity:1}],{duration:50,easing:"linear",pseudoElement:"::before"}]]}),x=Object.assign(Object.assign({},v.N),{},{dialog:[[[{transform:"translateY(0)"},{transform:"translateY(50px)"}],{duration:150,easing:"cubic-bezier(.3,0,0,1)"}]],container:[[[{opacity:"1"},{opacity:"0"}],{delay:100,duration:50,easing:"linear",pseudoElement:"::before"}]]}),w=function(){return window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?A:v.T},k=function(){return window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches?x:v.N}},2846:function(e,a,i){i.d(a,{G:function(){return v},J:function(){return g}});var t,r,o=i(44734),n=i(43080),s=i(69683),l=i(6454),d=i(72153),c=i(40445),h=i(97154),u=i(82553),p=i(96196),f=i(77845),g=(i(54276),[u.R,(0,p.AH)(t||(t=(0,d.A)([":host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}"])))]),v=function(e){function a(){return(0,o.A)(this,a),(0,s.A)(this,a,arguments)}return(0,l.A)(a,e),(0,n.A)(a,[{key:"renderRipple",value:function(){return"text"===this.type?p.s6:(0,p.qy)(r||(r=(0,d.A)(['<ha-ripple part="ripple" for="item" ?disabled="','"></ha-ripple>'])),this.disabled&&"link"!==this.type)}}])}(h.n);v.styles=g,v=(0,c.__decorate)([(0,f.EM)("ha-md-list-item")],v)},17308:function(e,a,i){var t,r=i(72153),o=i(43080),n=i(44734),s=i(69683),l=i(6454),d=i(40445),c=i(49838),h=i(11245),u=i(96196),p=i(77845),f=function(e){function a(){return(0,n.A)(this,a),(0,s.A)(this,a,arguments)}return(0,l.A)(a,e),(0,o.A)(a)}(c.B);f.styles=[h.R,(0,u.AH)(t||(t=(0,r.A)([":host{--md-sys-color-surface:var(--card-background-color)}"])))],f=(0,d.__decorate)([(0,p.EM)("ha-md-list")],f)},54607:function(e,a,i){i.a(e,async function(e,t){try{i.r(a);var r,o,n,s,l,d,c,h,u,p,f=i(31432),g=i(78261),v=i(7739),m=i(72153),y=i(61397),_=i(50264),b=i(44734),A=i(43080),x=i(69683),w=i(6454),k=(i(28706),i(2008),i(23792),i(62062),i(44114),i(54554),i(18111),i(22489),i(61701),i(69085),i(26099),i(16034),i(3362),i(47764),i(62953),i(40445)),O=i(96196),M=i(77845),z=i(4937),L=i(89020),j=i(1087),q=i(18350),C=(i(76538),i(18198),i(88945),i(26300),i(91380),i(17308),i(2846),i(85938),i(67094),i(21489)),H=i(32250),I=i(14503),D=i(81619),E=e([q]);q=(E.then?(await E)():E)[0];var P="M21 11H3V9H21V11M21 13H3V15H21V13Z",R="__unassigned__",V=function(e){function a(){var e;(0,b.A)(this,a);for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return(e=(0,x.A)(this,a,[].concat(t)))._open=!1,e._saving=!1,e}return(0,w.A)(a,e),(0,A.A)(a,[{key:"showDialog",value:(t=(0,_.A)((0,y.A)().m(function e(a){return(0,y.A)().w(function(e){for(;;)switch(e.n){case 0:this._open=!0,this._computeHierarchy();case 1:return e.a(2)}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_computeHierarchy",value:function(){this._hierarchy=(0,L.cs)(Object.values(this.hass.floors),Object.values(this.hass.areas))}},{key:"closeDialog",value:function(){var e;null===(e=this._dialog)||void 0===e||e.close()}},{key:"_dialogClosed",value:function(){this._open=!1,this._hierarchy=void 0,this._saving=!1,(0,j.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){var e=this;if(!this._open||!this._hierarchy)return O.s6;var a=this._hierarchy.floors.length>0,i=this.hass.localize(a?"ui.panel.config.areas.dialog.reorder_floors_areas_title":"ui.panel.config.areas.dialog.reorder_areas_title");return(0,O.qy)(r||(r=(0,m.A)([' <ha-md-dialog open @closed="','"> <ha-dialog-header slot="headline"> <ha-icon-button slot="navigationIcon" .label="','" .path="','" @click="','"></ha-icon-button> <span slot="title" .title="','">','</span> </ha-dialog-header> <div slot="content" class="content"> <ha-sortable handle-selector=".floor-handle" draggable-selector=".floor" @item-moved="','" invert-swap> <div class="floors"> '," </div> </ha-sortable> ",' </div> <div slot="actions"> <ha-button @click="','" appearance="plain"> ',' </ha-button> <ha-button @click="','" .disabled="','"> '," </ha-button> </div> </ha-md-dialog> "])),this._dialogClosed,this.hass.localize("ui.common.close"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this.closeDialog,i,i,this._floorMoved,(0,z.u)(this._hierarchy.floors,function(e){return e.id},function(a){return e._renderFloor(a)}),this._renderUnassignedAreas(),this.closeDialog,this.hass.localize("ui.common.cancel"),this._save,this._saving,this.hass.localize("ui.common.save"))}},{key:"_renderFloor",value:function(e){var a=this,i=this.hass.floors[e.id];return i?(0,O.qy)(o||(o=(0,m.A)([' <div class="floor"> <div class="floor-header"> <ha-floor-icon .floor="','"></ha-floor-icon> <span class="floor-name">','</span> <ha-svg-icon class="floor-handle" .path="','"></ha-svg-icon> </div> <ha-sortable handle-selector=".area-handle" draggable-selector="ha-md-list-item" @item-moved="','" @item-added="','" group="areas" .floor="','"> <ha-md-list> '," </ha-md-list> </ha-sortable> </div> "])),i,i.name,P,this._areaMoved,this._areaAdded,e.id,e.areas.length>0?e.areas.map(function(e){return a._renderArea(e)}):(0,O.qy)(n||(n=(0,m.A)(['<p class="empty"> '," </p>"])),this.hass.localize("ui.panel.config.areas.dialog.empty_floor"))):O.s6}},{key:"_renderUnassignedAreas",value:function(){var e=this,a=this._hierarchy.floors.length>0;return(0,O.qy)(s||(s=(0,m.A)([' <div class="floor unassigned"> ',' <ha-sortable handle-selector=".area-handle" draggable-selector="ha-md-list-item" @item-moved="','" @item-added="','" group="areas" .floor="','"> <ha-md-list> '," </ha-md-list> </ha-sortable> </div> "])),a?(0,O.qy)(l||(l=(0,m.A)(['<div class="floor-header"> <span class="floor-name"> '," </span> </div>"])),this.hass.localize("ui.panel.config.areas.dialog.other_areas")):O.s6,this._areaMoved,this._areaAdded,R,this._hierarchy.areas.length>0?this._hierarchy.areas.map(function(a){return e._renderArea(a)}):(0,O.qy)(d||(d=(0,m.A)(['<p class="empty"> '," </p>"])),this.hass.localize("ui.panel.config.areas.dialog.empty_unassigned")))}},{key:"_renderArea",value:function(e){var a=this.hass.areas[e];return a?(0,O.qy)(c||(c=(0,m.A)([' <ha-md-list-item .sortableData="','"> ',' <span slot="headline">','</span> <ha-svg-icon class="area-handle" slot="end" .path="','"></ha-svg-icon> </ha-md-list-item> '])),a,a.icon?(0,O.qy)(h||(h=(0,m.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),a.icon):(0,O.qy)(u||(u=(0,m.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),"M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z"),a.name,P):O.s6}},{key:"_floorMoved",value:function(e){if(e.stopPropagation(),this._hierarchy){var a=e.detail,i=a.oldIndex,t=a.newIndex,r=(0,v.A)(this._hierarchy.floors),o=r.splice(i,1),n=(0,g.A)(o,1)[0];r.splice(t,0,n),this._hierarchy=Object.assign(Object.assign({},this._hierarchy),{},{floors:r})}}},{key:"_areaMoved",value:function(e){if(e.stopPropagation(),this._hierarchy){var a=e.currentTarget.floor,i=e.detail,t=i.oldIndex,r=i.newIndex,o=a===R?null:a;if(null===o){var n=(0,v.A)(this._hierarchy.areas),s=n.splice(t,1),l=(0,g.A)(s,1)[0];n.splice(r,0,l),this._hierarchy=Object.assign(Object.assign({},this._hierarchy),{},{areas:n})}else this._hierarchy=Object.assign(Object.assign({},this._hierarchy),{},{floors:this._hierarchy.floors.map(function(e){if(e.id===o){var a=(0,v.A)(e.areas),i=a.splice(t,1),n=(0,g.A)(i,1)[0];return a.splice(r,0,n),Object.assign(Object.assign({},e),{},{areas:a})}return e})})}}},{key:"_areaAdded",value:function(e){if(e.stopPropagation(),this._hierarchy){var a=e.currentTarget.floor,i=e.detail,t=i.data,r=i.index,o=a===R?null:a,n=this._hierarchy.areas.filter(function(e){return e!==t.area_id});null===o&&n.splice(r,0,t.area_id),this._hierarchy=Object.assign(Object.assign({},this._hierarchy),{},{floors:this._hierarchy.floors.map(function(e){if(e.id===o){var a=(0,v.A)(e.areas);return a.splice(r,0,t.area_id),Object.assign(Object.assign({},e),{},{areas:a})}return Object.assign(Object.assign({},e),{},{areas:e.areas.filter(function(e){return e!==t.area_id})})}),areas:n})}}},{key:"_computeFloorChanges",value:function(){if(!this._hierarchy)return[];var e,a=[],i=(0,f.A)(this._hierarchy.floors);try{for(i.s();!(e=i.n()).done;){var t,r=e.value,o=(0,f.A)(r.areas);try{for(o.s();!(t=o.n()).done;){var n,s,l=t.value,d=null!==(n=null===(s=this.hass.areas[l])||void 0===s?void 0:s.floor_id)&&void 0!==n?n:null;r.id!==d&&a.push({areaId:l,floorId:r.id})}}catch(v){o.e(v)}finally{o.f()}}}catch(v){i.e(v)}finally{i.f()}var c,h=(0,f.A)(this._hierarchy.areas);try{for(h.s();!(c=h.n()).done;){var u,p,g=c.value;null!==(null!==(u=null===(p=this.hass.areas[g])||void 0===p?void 0:p.floor_id)&&void 0!==u?u:null)&&a.push({areaId:g,floorId:null})}}catch(v){h.e(v)}finally{h.f()}return a}},{key:"_save",value:(i=(0,_.A)((0,y.A)().m(function e(){var a,i,t,r,o,n=this;return(0,y.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this._hierarchy&&!this._saving){e.n=1;break}return e.a(2);case 1:return this._saving=!0,e.p=2,a=(0,L.Xz)(this._hierarchy),i=(0,L.Vu)(this._hierarchy),t=this._computeFloorChanges(),r=t.map(function(e){var a=e.areaId,i=e.floorId;return(0,C.gs)(n.hass,a,{floor_id:i})}),e.n=3,Promise.all(r);case 3:return e.n=4,(0,C.WT)(this.hass,a);case 4:return e.n=5,(0,H.Rj)(this.hass,i);case 5:this.closeDialog(),e.n=7;break;case 6:e.p=6,o=e.v,(0,D.P)(this,{message:o.message||this.hass.localize("ui.panel.config.areas.dialog.reorder_failed")}),this._saving=!1;case 7:return e.a(2)}},e,this,[[2,6]])})),function(){return i.apply(this,arguments)})}],[{key:"styles",get:function(){return[I.RF,I.nA,(0,O.AH)(p||(p=(0,m.A)(["ha-md-dialog{min-width:600px;max-height:90%;--dialog-content-padding:8px 24px}@media all and (max-width:600px),all and (max-height:500px){ha-md-dialog{--md-dialog-container-shape:0;min-width:100%;min-height:100%}}.floors{display:flex;flex-direction:column;gap:16px}.floor{border:1px solid var(--divider-color);border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));overflow:hidden}.floor.unassigned{margin-top:16px}.floor-header{display:flex;align-items:center;padding:12px 16px;background-color:var(--secondary-background-color);gap:12px}.floor-name{flex:1;font-weight:var(--ha-font-weight-medium)}.floor-handle{cursor:grab;color:var(--secondary-text-color)}ha-md-list{padding:0;--md-list-item-leading-space:16px;--md-list-item-trailing-space:16px;display:flex;flex-direction:column}ha-md-list-item{--md-list-item-one-line-container-height:48px;--md-list-item-container-shape:0}ha-md-list-item.sortable-ghost{border-radius:calc(var(--ha-card-border-radius,var(--ha-border-radius-lg)) - 1px);box-shadow:inset 0 0 0 2px var(--primary-color)}.area-handle{cursor:grab;color:var(--secondary-text-color)}.empty{text-align:center;color:var(--secondary-text-color);font-style:italic;margin:0;padding:12px 16px;order:1}ha-md-list:has(ha-md-list-item) .empty{display:none}.content{padding-top:16px;padding-bottom:16px}"])))]}}]);var i,t}(O.WF);(0,k.__decorate)([(0,M.MZ)({attribute:!1})],V.prototype,"hass",void 0),(0,k.__decorate)([(0,M.wk)()],V.prototype,"_open",void 0),(0,k.__decorate)([(0,M.wk)()],V.prototype,"_hierarchy",void 0),(0,k.__decorate)([(0,M.wk)()],V.prototype,"_saving",void 0),(0,k.__decorate)([(0,M.P)("ha-md-dialog")],V.prototype,"_dialog",void 0),V=(0,k.__decorate)([(0,M.EM)("dialog-areas-floors-order")],V),t()}catch(F){t(F)}})}}]);
//# sourceMappingURL=6660.47cb51ef6c88205f.js.map