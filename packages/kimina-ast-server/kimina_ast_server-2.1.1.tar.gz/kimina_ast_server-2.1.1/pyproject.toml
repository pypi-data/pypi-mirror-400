[project]
name = "kimina-ast-server"
version = "2.1.1"
authors = [
  { name = "Kimi Team - Project Numina"},
  { email = "contact@projectnumina.com" },
]
description = "Kimina Lean Server - FastAPI server for checking Lean 4 code at scale"
readme = "README-server.md"
requires-python = ">=3.9"
classifiers = [
  "Programming Language :: Python :: 3",
  "Operating System :: OS Independent",
  "License :: OSI Approved :: MIT License"
]
license = "MIT"
license-files = ["LICEN[CS]E*"]
dependencies = [
    "fastapi>=0.115.13",
    "uvicorn>=0.34.3",
    "prisma>=0.15.0",
    "psutil>=7.0.0",
    "google-cloud-logging>=3.12.1",
    "rich>=14.0.0",
    "loguru>=0.7.3",
    "pydantic-settings>=2.10.0",
    "python-dotenv>=1.1.0",
    "kimina-ast-client>=0.2.2",
]

[project.scripts]
kimina-ast-server = "server.__main__:main"

[project.urls]
Homepage = "https://github.com/project-numina/kimina-lean-server"
Issues = "https://github.com/project-numina/kimina-lean-server/issues"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.wheel]
packages = ["server"]
include = [
    "setup.sh",       # Include setup.sh from repo root
    "prisma/**",      # Include prisma schema
    "server/prisma/**",
]

[tool.hatch.build.targets.sdist]
include = [
    "server/**",
    "setup.sh",
    "prisma/**",
    "README-server.md",
]

