[package]
name = "pywincode"
version = "0.1.0"
edition = "2021"
rust-version = "1.75"
description = "Python bindings for the wincode serialization library with zerocopy support"
license = "MIT"
readme = "README.md"
repository = "https://github.com/LecherousCthulhu/pywincode"
keywords = ["serialization", "bincode", "zerocopy", "python", "pyo3"]
categories = ["encoding", "api-bindings"]

[lib]
name = "pywincode"
crate-type = ["cdylib"]

[dependencies]
pyo3 = { version = "0.24", features = ["extension-module"] }
wincode = "0.2"
zerocopy = { version = "0.8", features = ["derive"] }
thiserror = "2.0"

[dev-dependencies]
proptest = "1.5"

[profile.release]
lto = true
codegen-units = 1
strip = true

[lints.rust]
unsafe_code = "warn"

[lints.clippy]
pedantic = { level = "warn", priority = -1 }
nursery = { level = "warn", priority = -1 }
# Allowed everywhere (tests use these extensively)
unwrap_used = "allow"
expect_used = "allow"
# Allow for PyO3 compatibility
unnecessary_wraps = "allow"
missing_const_for_fn = "allow"
needless_pass_by_value = "allow"
# Allow for readability in tests
unreadable_literal = "allow"
approx_constant = "allow"
single_char_pattern = "allow"
