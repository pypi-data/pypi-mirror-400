import{j as e,r as c,L as n,s as m}from"./vendor-tanstack-BVzzyDEt.js";import{aU as d,D as x,I as f,a3 as r,B as p,a as h,b as o,bz as b,G as j,aJ as v,du as g,bt as y}from"./index-BJkJ93Lr.js";import{u as N}from"./use-get-artifacts-flow-task-runs-BxDyYvEa.js";import{L as w}from"./lazy-markdown-CwRqR_1U.js";import{az as k,aA as _,aB as C,aC as T,aD as z,aE as M}from"./vendor-radix-CTAic6HB.js";import"./vendor-react-Bce9NwRC.js";import"./vendor-recharts-Mwm2qLZp.js";import"./vendor-forms-BN3tpxM2.js";import"./vendor-date-2jFo9aCm.js";function A({className:t,...s}){return e.jsx(k,{"data-slot":"menubar",className:d("bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs",t),...s})}function L({...t}){return e.jsx(_,{"data-slot":"menubar-menu",...t})}function B({...t}){return e.jsx(M,{"data-slot":"menubar-portal",...t})}function D({className:t,...s}){return e.jsx(C,{"data-slot":"menubar-trigger",className:d("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none",t),...s})}function E({className:t,align:s="start",alignOffset:a=-4,sideOffset:i=8,...u}){return e.jsx(B,{children:e.jsx(T,{"data-slot":"menubar-content",align:s,alignOffset:a,sideOffset:i,className:d("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] overflow-hidden rounded-md border p-1 shadow-md",t),...u})})}function I({className:t,inset:s,variant:a="default",...i}){return e.jsx(z,{"data-slot":"menubar-item","data-inset":s,"data-variant":a,className:d("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}const R=({artifactKey:t,pageHeader:s})=>{const a=c.useCallback(()=>{navigator.clipboard.writeText(t)},[t]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{artifactKey:t}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{id:"artifacts-guide",label:"Documentation"}),e.jsx(A,{children:e.jsxs(L,{children:[e.jsx(D,{className:"px-1",children:e.jsx(f,{id:"EllipsisVertical"})}),e.jsx(E,{children:e.jsx(I,{onClick:a,children:"Copy Id"})})]})})]})]}),s&&e.jsxs("div",{className:"",children:[e.jsx(r,{variant:"h2",className:"my-4 font-bold prose lg:prose-xl",children:e.jsx(w,{children:s})}),e.jsx("hr",{})]})]})},S=({artifactKey:t})=>e.jsx("div",{className:"flex items-center ",children:e.jsx(p,{children:e.jsxs(h,{children:[e.jsx(n,{to:"/artifacts",children:e.jsx(o,{className:"text-xl font-bold text-blue-700 hover:underline",children:"Artifacts"})}),e.jsx(b,{children:"/"}),e.jsx(o,{className:"text-xl font-bold text-foreground",children:t})]})})}),F=({artifact:t})=>{const s=c.useMemo(()=>t.id?.split("-")[0],[t.id]);return e.jsxs(j,{"data-testid":`timeline-card-${t.id}`,className:"flex flex-col p-4 m-2 transition-transform hover:translate-x-2 grow",children:[e.jsx(n,{to:"/artifacts/artifact/$id",params:{id:t.id??""},children:e.jsx(r,{variant:"body",className:"font-bold text-blue-700 hover:underline",children:s})}),t.flow_run&&e.jsxs(r,{variant:"bodySmall",children:["Flow run:"," ",e.jsx(n,{className:"text-blue-700 hover:underline",to:"/runs/flow-run/$id",params:{id:t.flow_run_id??""},children:t.flow_run?.name})]}),t.task_run&&e.jsxs(r,{variant:"bodySmall",children:["Task run:"," ",e.jsx(n,{className:"text-blue-700 hover:underline",to:"/runs/task-run/$id",params:{id:t.task_run_id??""},children:t.task_run?.name})]})]})},$=({artifact:t})=>{const[s,a]=v(t.created??"","dateTime").split(" at ");return e.jsxs("div",{"data-testid":`timeline-row-${t.id}`,className:"flex",children:[e.jsxs("div",{className:"flex flex-col items-end justify-items-start pt-4",style:{width:"128px"},children:[e.jsx(r,{variant:"body",children:a}),e.jsx(r,{variant:"bodySmall",className:"text-muted-foreground",children:s})]}),e.jsx("div",{className:"w-10 flex flex-col",children:e.jsx("div",{className:"w-5 h-full border-r border-gray-200",children:e.jsx("div",{className:"size-4 rounded-full bg-white my-5 mx-auto border-2",style:{margin:"20px calc(50% + 2px)"}})})}),e.jsx("div",{className:"grow mt-1",children:e.jsx(F,{artifact:t})})]})},P=({artifacts:t})=>e.jsxs("div",{children:[t.map(s=>e.jsx($,{artifact:s},s.id)),e.jsxs("div",{className:"flex border-b",children:[e.jsx("div",{className:"flex flex-col items-end justify-items-start pt-4",style:{width:"128px",height:"88px"}}),e.jsx("div",{className:"w-10 flex flex-col",children:e.jsx("div",{className:"w-5 h-full border-r border-gray-200 pt-3",children:e.jsx("div",{className:"size-8 rounded-full bg-white my-5 mx-auto border-2 flex justify-center items-center",style:{margin:"20px calc(50% - 6px)"},children:e.jsx("div",{className:"size-4 rounded-full border-2 border-black relative"})})})}),e.jsx("div",{style:{padding:"33px 0 0 5px"},children:e.jsxs(r,{variant:"bodyLarge",children:["Created ",e.jsx("span",{className:"font-bold",children:t[0].key})]})})]})]}),H=({artifactKey:t,artifacts:s})=>e.jsxs("div",{children:[e.jsx(R,{artifactKey:t,pageHeader:s[0]?.description??void 0}),e.jsx(P,{artifacts:s})]}),l=t=>({artifacts:{operator:"and_",key:{like_:t}},sort:"CREATED_DESC",offset:0});function X(){const{key:t}=g.useParams(),{data:s}=m(y(l(t))),a=N(l(t));return e.jsx("div",{children:e.jsx(H,{artifactKey:t,artifacts:a??s})})}export{X as component};
//# sourceMappingURL=key._key-NUwOXCWS.js.map
