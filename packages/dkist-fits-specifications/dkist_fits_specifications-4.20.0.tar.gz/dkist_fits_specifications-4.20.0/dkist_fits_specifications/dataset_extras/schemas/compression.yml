dsextra:
  section_214: compression
  copy: true
  required: false
  title: Compression
  summary: Keys added when the data is RICE compressed as described in FITS 4.0 Section 10.
  long_description: |
    This table contains the keys describing tiled image compression.

    Also included in this table are the keys used to describe a FITS binary table, as these are only used in DKIST data when using tiled image compression.
---
ZIMAGE: {}
ZTENSION: {}
ZPCOUNT: {}
ZGCOUNT: {}
ZQUANTIZ: {}
ZCMPTYPE: {}
ZBITPIX: {}
ZNAXIS: {}
ZNAXIS<n>: {}
ZTILE<n>: {}
ZHECKSUM: {}
ZDATASUM: {}
ZSIMPLE: {}
ZEXTEND: {}
# The z index here is to differentiate it from the i index used in PCi_j.
# This z index is not NAXIS it can be any number and there is no key which tells
# you how many of them there are, it's just a free "number of compression
# parameters".
# In practice for RICE compression it seems to be equal to ZNAXIS, but the
# specifications repo expands the schema to match the highest number in all the
# ZVAL keys
ZNAME<z>: {}
ZVAL<z>: {}

# FITS Binary Table keys
# Included here and not in the fits table to make it clear we only use these for compressed data.
TFIELDS: {}
TFORM<f>: {}
TTYPE<f>: {}
THEAP: {}
ZBLANK: {}
