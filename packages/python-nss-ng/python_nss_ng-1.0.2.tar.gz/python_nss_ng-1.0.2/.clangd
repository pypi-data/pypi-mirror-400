# SPDX-License-Identifier: MPL-2.0
# SPDX-FileCopyrightText: 2025 The Linux Foundation

# Clangd configuration for python-nss-ng
# This helps editors like Zed find Python headers and NSS libraries

CompileFlags:
  Add:
    # Python include paths (adjust based on system)
    - -I/Library/Frameworks/Python.framework/Versions/3.11/include/python3.11
    - -I/Library/Frameworks/Python.framework/Versions/3.12/include/python3.12
    - -I/Library/Frameworks/Python.framework/Versions/3.13/include/python3.13
    - -I/opt/homebrew/opt/python@3.11/Frameworks/Python.framework/Versions/3.11/include/python3.11
    - -I/opt/homebrew/opt/python@3.12/Frameworks/Python.framework/Versions/3.12/include/python3.12
    - -I/opt/homebrew/opt/python@3.13/Frameworks/Python.framework/Versions/3.13/include/python3.13
    - -I/usr/include/python3.11
    - -I/usr/include/python3.12
    - -I/usr/include/python3.13

    # NSS/NSPR include paths (common locations)
    - -I/opt/homebrew/include/nss
    - -I/opt/homebrew/include/nspr
    - -I/usr/local/include/nss
    - -I/usr/local/include/nspr
    - -I/usr/include/nss
    - -I/usr/include/nspr
    - -I/usr/include/nss3
    - -I/usr/include/nspr4

    # Standard C settings
    - -std=c11
    - -Wno-unused-parameter
    - -Wno-missing-field-initializers

  Remove:
    # Remove problematic flags that might cause issues
    - -W*
    - -f*

Diagnostics:
  ClangTidy:
    Add:
      - modernize-*
      - bugprone-*
    Remove:
      - modernize-use-trailing-return-type
  UnusedIncludes: None
  MissingIncludes: None

InlayHints:
  Enabled: No
  ParameterNames: No
  DeducedTypes: No

Index:
  Background: Build
