from pyomo.common.collections import ComponentMap as ComponentMap
from pyomo.common.deprecation import deprecated as deprecated
from pyomo.common.env import CtypesEnviron as CtypesEnviron
from pyomo.common.tempfiles import TempfileManager as TempfileManager
from pyomo.contrib.pynumero.interfaces.ampl_nlp import AslNLP as AslNLP
from pyomo.contrib.pynumero.interfaces.nlp import NLP as NLP
from pyomo.core.base.suffix import SuffixFinder as SuffixFinder
from pyomo.opt import WriterFactory as WriterFactory
from pyomo.solvers.amplfunc_merge import amplfunc_merge as amplfunc_merge

from ..sparse.block_matrix import BlockMatrix as BlockMatrix
from .external_grey_box import ExternalGreyBoxBlock as ExternalGreyBoxBlock

class PyomoNLP(AslNLP):
    def __init__(self, pyomo_model, nl_file_options=None) -> None: ...
    @property
    def symbol_map(self): ...
    def pyomo_model(self): ...
    def get_pyomo_objective(self): ...
    def get_pyomo_variables(self): ...
    def get_pyomo_constraints(self): ...
    def get_pyomo_equality_constraints(self): ...
    def get_pyomo_inequality_constraints(self): ...
    def variable_names(self): ...
    def primals_names(self): ...
    def constraint_names(self): ...
    def equality_constraint_names(self): ...
    def inequality_constraint_names(self): ...
    def get_primal_indices(self, pyomo_variables): ...
    def get_constraint_indices(self, pyomo_constraints): ...
    def get_equality_constraint_indices(self, constraints): ...
    def get_inequality_constraint_indices(self, constraints): ...
    def get_obj_scaling(self): ...
    def get_primals_scaling(self): ...
    def get_constraints_scaling(self): ...
    def extract_subvector_grad_objective(self, pyomo_variables): ...
    def extract_subvector_constraints(self, pyomo_constraints): ...
    def extract_submatrix_jacobian(self, pyomo_variables, pyomo_constraints): ...
    def extract_submatrix_hessian_lag(self, pyomo_variables_rows, pyomo_variables_cols): ...
    def load_state_into_pyomo(self, bound_multipliers=None) -> None: ...

class PyomoGreyBoxNLP(NLP):
    def __init__(self, pyomo_model) -> None: ...
    def n_primals(self): ...
    def n_constraints(self): ...
    def n_eq_constraints(self): ...
    def n_ineq_constraints(self): ...
    def nnz_jacobian(self): ...
    def nnz_jacobian_eq(self): ...
    def nnz_hessian_lag(self): ...
    def primals_lb(self): ...
    def primals_ub(self): ...
    def constraints_lb(self): ...
    def constraints_ub(self): ...
    def init_primals(self): ...
    def init_duals(self): ...
    def init_duals_eq(self): ...
    def create_new_vector(self, vector_type): ...
    def set_primals(self, primals) -> None: ...
    def get_primals(self): ...
    def set_duals(self, duals) -> None: ...
    def get_duals(self): ...
    def set_duals_eq(self, duals) -> None: ...
    def get_duals_eq(self) -> None: ...
    def set_obj_factor(self, obj_factor) -> None: ...
    def get_obj_factor(self): ...
    def get_obj_scaling(self): ...
    def get_primals_scaling(self): ...
    def get_constraints_scaling(self): ...
    def evaluate_objective(self): ...
    def evaluate_grad_objective(self, out=None): ...
    def evaluate_constraints(self, out=None): ...
    def evaluate_eq_constraints(self, out=None) -> None: ...
    def evaluate_jacobian(self, out=None): ...
    def evaluate_hessian_lag(self, out=None): ...
    def report_solver_status(self, status_code, status_message) -> None: ...
    def variable_names(self): ...
    def primals_names(self): ...
    def constraint_names(self): ...
    def pyomo_model(self): ...
    def get_pyomo_objective(self): ...
    def get_pyomo_variables(self): ...
    def get_pyomo_constraints(self) -> None: ...
    def load_state_into_pyomo(self, bound_multipliers=None) -> None: ...

class _ExternalGreyBoxModelHelper:
    def __init__(self, ex_grey_box_block, vardata_to_idx, con_offset) -> None: ...
    def set_primals(self, primals) -> None: ...
    def set_duals(self, duals) -> None: ...
    def n_residuals(self): ...
    def get_residual_scaling(self): ...
    def evaluate_residuals(self): ...
    def evaluate_jacobian(self): ...
    def evaluate_hessian(self): ...
