[package]
name = "ply2splat"
version.workspace = true
edition.workspace = true
license.workspace = true
repository.workspace = true
description.workspace = true
readme = "README.md"
keywords.workspace = true
categories.workspace = true
exclude.workspace = true

[features]
default = ["cli", "parallel"]
parallel = ["dep:rayon"]
cli = ["dep:clap", "dep:indicatif"]


[dependencies]
ply-rs = "0.1"
anyhow = "1.0"
bytemuck = { version = "1.14", features = ["derive"] }
rayon = { version = "1.8", optional = true }
clap = { version = "4.4", features = ["derive"], optional = true }
indicatif = { version = "0.18.3", optional = true }

[dev-dependencies]
tempfile = "3.8"
assert_cmd = "2.0"
predicates = "3.0"
reqwest = { version = "0.12.24", features = ["blocking", "rustls-tls"] }
sha2 = "0.10"
hex = "0.4"

[lib]
name = "ply2splat"
path = "src/lib.rs"

[[bin]]
name = "ply2splat"
path = "src/bin/ply2splat.rs"
required-features = ["cli"]
