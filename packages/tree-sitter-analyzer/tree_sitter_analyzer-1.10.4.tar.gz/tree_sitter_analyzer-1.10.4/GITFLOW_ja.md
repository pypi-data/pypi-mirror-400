# GitFlow ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ (æ—¥æœ¬èªžèª¬æ˜Ž)

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€`tree-sitter-analyzer` ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ GitFlow ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã‚’ Mermaid å›³è¡¨ã¨æ—¥æœ¬èªžã§èª¬æ˜Žã—ã¾ã™ã€‚

## GitFlow ãƒ•ãƒ­ãƒ¼å›³

```mermaid
gitGraph
    commit id: "Initial commit"
    branch develop
    commit id: "dev-1"

    branch feature/my-feature
    commit id: "feat-1"
    commit id: "feat-2"

    checkout develop
    merge feature/my-feature id: "merge-feat"

    branch release/v1.0.0
    commit id: "release-prep"

    checkout main
    merge release/v1.0.0 tag: "v1.0.0"

    checkout develop
    merge release/v1.0.0

    checkout main
    branch hotfix/critical-fix
    commit id: "fix-bug"

    checkout main
    merge hotfix/critical-fix tag: "v1.0.1"

    checkout develop
    merge hotfix/critical-fix
```

## ãƒ–ãƒ©ãƒ³ãƒæ§‹é€ 

### ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒ

- **`main`**: æœ¬ç•ªç’°å¢ƒå¯¾å¿œã®ã‚³ãƒ¼ãƒ‰ã€‚å¸¸ã«æœ€æ–°ã®å®‰å®šç‰ˆã‚’å«ã¿ã¾ã™ã€‚ã„ã¤ã§ã‚‚ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ãªçŠ¶æ…‹ã‚’ä¿ã¡ã¾ã™ã€‚
- **`develop`**: æ©Ÿèƒ½çµ±åˆãƒ–ãƒ©ãƒ³ãƒã€‚æœ€æ–°ã®é–‹ç™ºå¤‰æ›´ã‚’å«ã¿ã€ã™ã¹ã¦ã®æ©Ÿèƒ½é–‹ç™ºã®èµ·ç‚¹ã¨ãªã‚Šã¾ã™ã€‚

### ã‚µãƒãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒ

- **`feature/*`**: æ©Ÿèƒ½é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒã€‚
    - **èµ·ç‚¹**: `develop`
    - **ãƒžãƒ¼ã‚¸å…ˆ**: `develop`
    - **å‘½å**: `feature/descriptive-name` (ä¾‹: `feature/user-authentication`)
- **`release/*`**: ãƒªãƒªãƒ¼ã‚¹æº–å‚™ãƒ–ãƒ©ãƒ³ãƒã€‚æ–°ã—ã„æœ¬ç•ªç‰ˆã®æº–å‚™ã«ä½¿ç”¨ã—ã€è»½å¾®ãªãƒã‚°ä¿®æ­£ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆãªã©ãƒªãƒªãƒ¼ã‚¹å‘ã‘ã‚¿ã‚¹ã‚¯ã®ã¿ã‚’è¡Œã„ã¾ã™ã€‚
    - **èµ·ç‚¹**: `develop`
    - **ãƒžãƒ¼ã‚¸å…ˆ**: `main` ã¨ `develop`
    - **å‘½å**: `release/v1.2.0`
- **`hotfix/*`**: ç·Šæ€¥æœ¬ç•ªãƒã‚°ä¿®æ­£ãƒ–ãƒ©ãƒ³ãƒã€‚æœ¬ç•ªç’°å¢ƒã®é‡è¦ãªå•é¡Œã‚’è¿…é€Ÿã«ä¿®æ­£ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚
    - **èµ·ç‚¹**: `main`
    - **ãƒžãƒ¼ã‚¸å…ˆ**: `main` ã¨ `develop`
    - **å‘½å**: `hotfix/critical-bug-fix`

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. æ©Ÿèƒ½é–‹ç™º (Feature Development)

1.  **`develop` ã‹ã‚‰ `feature` ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ**: 
    ```bash
    git fetch origin
    git checkout -b feature/your-feature-name origin/develop
    ```
2.  **æ©Ÿèƒ½é–‹ç™º**ã‚’è¡Œã„ã€å®šæœŸçš„ã«ã‚³ãƒŸãƒƒãƒˆã—ã¾ã™ã€‚
3.  **é–‹ç™ºå®Œäº†å¾Œ**ã€`feature` ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã€`develop` ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ (Pull Request) ã‚’ä½œæˆã—ã¾ã™ã€‚
4.  ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (CI) ãƒã‚§ãƒƒã‚¯ãŒé€šéŽå¾Œã€**`develop` ã«ãƒžãƒ¼ã‚¸**ã—ã¾ã™ã€‚

### 2. ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ (Release Process)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯è‡ªå‹•åŒ–ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ã‚’æŽ¨å¥¨ã—ã¦ã„ã¾ã™ãŒã€æ‰‹å‹•ãƒ—ãƒ­ã‚»ã‚¹ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

1.  **`develop` ã‹ã‚‰ `release` ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ**: 
    ```bash
    git fetch origin
    git checkout -b release/v1.0.0 origin/develop
    ```
2.  **ãƒªãƒªãƒ¼ã‚¹æº–å‚™**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®æ›´æ–°ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆãªã©ã€‚
    ```bash
    # pyproject.toml ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’æ›´æ–°
    # server_version ã‚’æ›´æ–°
    # __init__.py ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’åŒæœŸ
    uv run python scripts/sync_version_minimal.py

    # ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆæ•°çµ±è¨ˆã‚’å–å¾—ï¼š
    # ãƒ†ã‚¹ãƒˆæ•°: uv run python -m pytest --collect-only -q | findstr /C:"collected"
    # æ³¨æ„ï¼šã‚«ãƒãƒ¬ãƒƒã‚¸ã¯Codecovè‡ªå‹•ãƒãƒƒã‚¸ã‚’ä½¿ç”¨ã€æ‰‹å‹•æ›´æ–°ä¸è¦

    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ï¼š
    # - README.md ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã¨ãƒ†ã‚¹ãƒˆæ•°ã‚’æ›´æ–°
    # - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒãƒƒã‚¸ã€ãƒ†ã‚¹ãƒˆãƒãƒƒã‚¸ã‚’æ›´æ–°ï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸ãƒãƒƒã‚¸ã¯Codecovè‡ªå‹•æ›´æ–°ï¼‰
    # - "æœ€æ–°å“è³ªæˆæžœ"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‚ç…§ã‚’æ›´æ–°
    # - ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‚ç…§ã‚’æ›´æ–°
    # - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®ãã®ä»–ã™ã¹ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‚ç…§ã‚’æ›´æ–°
    # - README_zh.md ã¨ README_ja.md ã®ç¿»è¨³ç‰ˆã‚’æ›´æ–°
    # - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å¤‰æ›´ãŒã‚ã‚‹å ´åˆã€GITFLOW_zh.md ã¨ GITFLOW_ja.md ã‚’æ›´æ–°
    # - CHANGELOG.md ã®ãƒªãƒªãƒ¼ã‚¹è©³ç´°ã‚’æ›´æ–°
    ```
3.  **`release` ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ PyPI ãƒªãƒªãƒ¼ã‚¹ã‚’ãƒˆãƒªã‚¬ãƒ¼**:
    ```bash
    git checkout release/v1.0.0
    git push origin release/v1.0.0
    ```
4.  **PyPI ãƒªãƒªãƒ¼ã‚¹å®Œäº†ã‚’å¾…æ©Ÿãƒ»æ¤œè¨¼**:
    ```bash
    # è‡ªå‹•åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã® PyPI ãƒªãƒªãƒ¼ã‚¹å®Œäº†ã‚’å¾…æ©Ÿ
    # GitHub Actions ãƒšãƒ¼ã‚¸ã§ãƒªãƒªãƒ¼ã‚¹çŠ¶æ³ã‚’ç›£è¦–å¯èƒ½
    # PyPI ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæ­£å¸¸ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã‹ã‚’æ¤œè¨¼ï¼š
    # pip install tree-sitter-analyzer==1.0.0 --dry-run
    ```
5.  **PyPI ãƒªãƒªãƒ¼ã‚¹æˆåŠŸå¾Œã€`main` ã¨ `develop` ã«ãƒžãƒ¼ã‚¸**:
    ```bash
    # main ãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆã¦ãƒžãƒ¼ã‚¸
    git checkout main
    git merge release/v1.0.0
    git tag -a v1.0.0 -m "Release v1.0.0" # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã‚’ä»˜ä¸Ž
    git push origin main --tags

    # develop ãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆã¦ãƒžãƒ¼ã‚¸
    git checkout develop
    git merge release/v1.0.0
    git push origin develop
    ```
6.  **GitHub Release ã‚’ä½œæˆ**:
    ```bash
    # ä¸€æ™‚çš„ãªãƒªãƒªãƒ¼ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼ˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨è¨˜å·ã‚¨ãƒ©ãƒ¼ã‚’å›žé¿ï¼‰
    cat > release_message.md << 'EOF'
    ## v1.7.2 - ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›æœ€é©åŒ–ã¨ROOãƒ«ãƒ¼ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

    ### ðŸŽ¯ æ–°æ©Ÿèƒ½
    - **ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›æœ€é©åŒ–**: MCPæ¤œç´¢ãƒ„ãƒ¼ãƒ«ã«`suppress_output`ã¨`output_file`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ ã€ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»ã‚’å¤§å¹…å‰Šæ¸›
    - **è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆæ¤œå‡º**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã«åŸºã¥ã„ã¦ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ï¼ˆJSON/Markdownï¼‰ã‚’è‡ªå‹•é¸æŠž
    - **ROOãƒ«ãƒ¼ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: tree-sitter-analyzer MCPæœ€é©åŒ–ä½¿ç”¨ã‚¬ã‚¤ãƒ‰ã‚’æ–°è¦è¿½åŠ 

    ### ðŸ“Š å“è³ªæŒ‡æ¨™
    - ãƒ†ã‚¹ãƒˆæ•°: 2675å€‹ã®ãƒ†ã‚¹ãƒˆï¼ˆ100%ãƒ‘ã‚¹ï¼‰
    - ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸: 78.85%
    - æ–°æ©Ÿèƒ½: ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›æœ€é©åŒ–ã«ã‚ˆã‚Šã€AIå¯¾è©±ã®ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»ã‚’å¤§å¹…å‰Šæ¸›

    ### ðŸ”§ æŠ€è¡“æ”¹å–„
    - å¤§åž‹æ¤œç´¢çµæžœã®ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›æ™‚ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚ºã‚’æœ€å¤§99%å‰Šæ¸›
    - å¾Œæ–¹äº’æ›æ€§ã‚’ç¶­æŒã€æ—¢å­˜æ©Ÿèƒ½ã®ä½¿ç”¨ã«å½±éŸ¿ãªã—
    - ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›æœ€é©åŒ–æ©Ÿèƒ½ã®æ¤œè¨¼ã‚’å«ã‚€å®Œå…¨ãªãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
    EOF

    # gh CLI ã‚’ä½¿ç”¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã‚’ä½œæˆ
    gh release create v1.7.2 \
        --title "Release v1.7.2: File Output Optimization and ROO Rules Documentation" \
        --notes-file release_message.md \
        --target main

    # ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
    rm release_message.md
    ```
7.  **`release` ãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤**:
    ```bash
    # ãƒ­ãƒ¼ã‚«ãƒ«ãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤
    git branch -d release/v1.0.0
    # ãƒªãƒ¢ãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤
    git push origin --delete release/v1.0.0
    ```

**é‡è¦èª¬æ˜Ž**: ã“ã®ãƒ•ãƒ­ãƒ¼ã¯ã€ŒPyPIå„ªå…ˆã€æˆ¦ç•¥ã‚’æŽ¡ç”¨ã—ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªãƒªãƒ¼ã‚¹æˆåŠŸå¾Œã«mainãƒ–ãƒ©ãƒ³ãƒã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã¯å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãŒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒåˆ©ç”¨ã§ããªã„ãƒªã‚¹ã‚¯ã‚’å›žé¿ã—ã¾ã™ã€‚

### 3. ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ (Hotfix Process)

1.  **`main` ã‹ã‚‰ `hotfix` ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ**: 
    ```bash
    git fetch origin
    git checkout -b hotfix/critical-bug-fix origin/main
    ```
2.  **ãƒã‚°ã‚’ä¿®æ­£**ã—ã¦ã‚³ãƒŸãƒƒãƒˆã—ã¾ã™ã€‚
3.  **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°**:
    ```bash
    # pyproject.toml ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’æ›´æ–° (ä¾‹: 1.0.0 -> 1.0.1)
    # server_version ã‚’æ›´æ–°
    # __init__.py ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’åŒæœŸ
    uv run python scripts/sync_version_minimal.py

    # ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆæ•°ã¨ã‚«ãƒãƒ¬ãƒƒã‚¸çµ±è¨ˆã‚’å–å¾—ï¼š
    # ãƒ†ã‚¹ãƒˆæ•°: uv run python -m pytest --collect-only -q | findstr /C:"collected"
    # ã‚«ãƒãƒ¬ãƒƒã‚¸: uv run python -m pytest --cov=tree_sitter_analyzer --cov-report=term-missing --cov-report=json -x -q | findstr "TOTAL"

    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ï¼š
    # - CHANGELOG.md ã«ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹è©³ç´°ã‚’è¿½åŠ 
    # - README.md ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã€ãƒ†ã‚¹ãƒˆæ•°ã€ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’æ›´æ–°
    # - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒãƒƒã‚¸ã€ãƒ†ã‚¹ãƒˆãƒãƒƒã‚¸ã€ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒãƒƒã‚¸ã‚’æ›´æ–°
    # - "æœ€æ–°å“è³ªæˆæžœ"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‚ç…§ã‚’æ›´æ–°
    # - ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‚ç…§ã‚’æ›´æ–°
    # - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®ãã®ä»–ã™ã¹ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‚ç…§ã‚’æ›´æ–°
    # - README_zh.md ã¨ README_ja.md ã®ç¿»è¨³ç‰ˆã‚’æ›´æ–°
    # - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å¤‰æ›´ãŒã‚ã‚‹å ´åˆã€GITFLOW_zh.md ã¨ GITFLOW_ja.md ã‚’æ›´æ–°
    ```
4.  **`hotfix` ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ PyPI ãƒªãƒªãƒ¼ã‚¹ã‚’ãƒˆãƒªã‚¬ãƒ¼**:
    ```bash
    git checkout hotfix/critical-bug-fix
    git push origin hotfix/critical-bug-fix
    ```
5.  **PyPI ãƒªãƒªãƒ¼ã‚¹å®Œäº†ã‚’å¾…æ©Ÿãƒ»æ¤œè¨¼**:
    ```bash
    # è‡ªå‹•åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã® PyPI ãƒªãƒªãƒ¼ã‚¹å®Œäº†ã‚’å¾…æ©Ÿ
    # GitHub Actions ãƒšãƒ¼ã‚¸ã§ãƒªãƒªãƒ¼ã‚¹çŠ¶æ³ã‚’ç›£è¦–å¯èƒ½
    # PyPI ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæ­£å¸¸ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã‹ã‚’æ¤œè¨¼ï¼š
    # pip install tree-sitter-analyzer==1.0.1 --dry-run
    ```
6.  **PyPI ãƒªãƒªãƒ¼ã‚¹æˆåŠŸå¾Œã€`main` ã¨ `develop` ã«ãƒžãƒ¼ã‚¸**:
    ```bash
    # main ãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆã¦ãƒžãƒ¼ã‚¸
    git checkout main
    git merge hotfix/critical-bug-fix
    git tag -a v1.0.1 -m "Hotfix v1.0.1" # ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã‚’ä»˜ä¸Ž
    git push origin main --tags

    # develop ãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆã¦ãƒžãƒ¼ã‚¸
    git checkout develop
    git merge hotfix/critical-bug-fix
    git push origin develop
    ```
7.  **GitHub Release ã‚’ä½œæˆ**:
    ```bash
    # ä¸€æ™‚çš„ãªãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒªãƒªãƒ¼ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
    cat > hotfix_release_message.md << 'EOF'
    ## v1.0.1 - ç·Šæ€¥ä¿®æ­£

    ### ðŸ› ä¿®æ­£å†…å®¹
    - é‡è¦ãªæœ¬ç•ªç’°å¢ƒå•é¡Œã‚’ä¿®æ­£
    - ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å®šæ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’å‘ä¸Š

    ### ðŸ“Š å“è³ªæŒ‡æ¨™
    - ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒé€šéŽ
    - ç·Šæ€¥ä¿®æ­£ã®æ¤œè¨¼å®Œäº†

    ### âš¡ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆèª¬æ˜Ž
    - ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ç·Šæ€¥ä¿®æ­£ã®ãŸã‚ã€æœ¬ç•ªç’°å¢ƒã¸ã®å³åº§ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’æŽ¨å¥¨
    - å®Œå…¨ãªãƒ†ã‚¹ãƒˆæ¤œè¨¼æ¸ˆã¿
    EOF

    # gh CLI ã‚’ä½¿ç”¨ã—ã¦ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒªãƒªãƒ¼ã‚¹ã‚’ä½œæˆ
    gh release create v1.0.1 \
        --title "Hotfix v1.0.1: Critical Production Fix" \
        --notes-file hotfix_release_message.md \
        --target main

    # ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
    rm hotfix_release_message.md
    ```
8.  **`hotfix` ãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤**:
    ```bash
    # ãƒ­ãƒ¼ã‚«ãƒ«ãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤
    git branch -d hotfix/critical-bug-fix
    # ãƒªãƒ¢ãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤
    git push origin --delete hotfix/critical-bug-fix
    ```

**é‡è¦èª¬æ˜Ž**: ã“ã®hotfixãƒ•ãƒ­ãƒ¼ã‚‚åŒæ§˜ã«ã€ŒPyPIå„ªå…ˆã€æˆ¦ç•¥ã‚’æŽ¡ç”¨ã—ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªãƒªãƒ¼ã‚¹æˆåŠŸå¾Œã«mainãƒ–ãƒ©ãƒ³ãƒã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã§ã€ç·Šæ€¥ä¿®æ­£ã‚³ãƒ¼ãƒ‰ã¯å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãŒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒåˆ©ç”¨ã§ããªã„ãƒªã‚¹ã‚¯ã‚’å›žé¿ã—ã¾ã™ã€‚

**æ³¨æ„**: å®Ÿéš›ã®è‡ªå‹•åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚‹ã¨ã€hotfixãƒ–ãƒ©ãƒ³ãƒ**ã¯**è‡ªå‹•çš„ã«PyPIãƒªãƒªãƒ¼ã‚¹ã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¾ã™ã€‚ãŸã ã—ã€ã“ã‚Œã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç«¶åˆã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€hotfixãƒ–ãƒ©ãƒ³ãƒã‚’ä½¿ç”¨ã™ã‚‹å‰ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚’æŽ¨å¥¨ã—ã¾ã™ã€‚

## è‡ªå‹•åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ (Authority CI/CD Pipeline)

`tree-sitter-analyzer` ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚°ãƒ¬ãƒ¼ãƒ‰ã® CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ç§ãŸã¡ã®ã€ŒAuthority Pipelineã€ã¯ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚ŒãŸå†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«åŸºã¥ã„ã¦æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€ã™ã¹ã¦ã®ãƒªãƒªãƒ¼ã‚¹ãŒæœ€é«˜æ°´æº–ã®å“è³ªã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã‚’æº€ãŸã™ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚

### ðŸ—ï¸ ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ**: ã™ã¹ã¦ã®ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã¯ `reusable-*.yml` ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã‚«ãƒ—ã‚»ãƒ«åŒ–ã•ã‚Œã€ä¸€è²«æ€§ã‚’ç¢ºä¿ã—ã¦ã„ã¾ã™ã€‚
- **çµ±ä¸€ã•ã‚ŒãŸå“è³ªã‚²ãƒ¼ãƒˆ (Unified Quality Gate)**: `ci.yml` å†…ã®é›†ç´„ãƒã‚¤ãƒ³ãƒˆãŒã€ãƒ–ãƒ©ãƒ³ãƒã®å¥å…¨æ€§ã«é–¢ã™ã‚‹å”¯ä¸€ã®ä¿¡é ¼ã§ãã‚‹æƒ…å ±æºã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚
- **ç’°å¢ƒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã¯ GitHub Environments ã‚’é€šã˜ã¦ç®¡ç†ã•ã‚Œã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒåˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚
- **é«˜ã„å¯è¦–æ€§**: é«˜åº¦ãªã‚¹ãƒ†ãƒƒãƒ—ã‚µãƒžãƒªãƒ¼ã«ã‚ˆã‚Šã€ãƒ†ã‚¹ãƒˆçµæžœã€ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ã®å³æ™‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒæä¾›ã•ã‚Œã¾ã™ã€‚

### ðŸ›¡ï¸ ã‚³ã‚¢ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### 1. çµ±ä¸€CIã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ (`ci.yml`)
ã™ã¹ã¦ã®ãƒ—ãƒƒã‚·ãƒ¥ã¨ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã‚’ä¸¦è¡Œã—ã¦èª¿æ•´ã—ã¾ã™ï¼š
- **å“è³ªãƒã‚§ãƒƒã‚¯**: Ruff (Linting)ã€MyPy (é™çš„è§£æž)ã€Bandit (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£) ã®åŒæ™‚å®Ÿè¡Œã€‚
- **ãƒ†ã‚¹ãƒˆãƒžãƒˆãƒªãƒƒã‚¯ã‚¹**: å®Œå…¨ãªã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  (Linux, Windows, macOS) ãŠã‚ˆã³ãƒžãƒ«ãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³Pythonãƒ†ã‚¹ãƒˆã€‚
- **ãƒ“ãƒ«ãƒ‰æ¤œè¨¼**: Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ§‹é€ çš„æ¤œè¨¼ã€‚
- **Quality Gate**: æœ€çµ‚çš„ãªé›†ç´„ã‚¸ãƒ§ãƒ–ã€‚**ã“ã‚ŒãŒãƒ–ãƒ©ãƒ³ãƒä¿è­·ãƒ«ãƒ¼ãƒ«ã§è¦æ±‚ã•ã‚Œã‚‹å”¯ä¸€ã®ãƒã‚§ãƒƒã‚¯ã§ã™ã€‚**

#### 2. Develop è‡ªå‹•åŒ– (`develop-automation.yml`)
æ©Ÿèƒ½ã®ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿ƒé€²ã—ã¾ã™ï¼š
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã®å®Œå…¨æ€§ã‚’æ¤œè¨¼ã€‚
- æ¨™æº–åŒ–ã•ã‚ŒãŸ `main` ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è‡ªå‹•ä½œæˆã€‚

#### 3. Release & Hotfix ãƒ‡ãƒªãƒãƒªãƒ¼ (`release-automation.yml`, `hotfix-automation.yml`)
æœ¬ç•ªå¯¾å¿œã‚³ãƒ¼ãƒ‰ã®å®‰å…¨ãªãƒ‡ãƒªãƒãƒªãƒ¼ã‚’å‡¦ç†ã—ã¾ã™ï¼š
- ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ç¶²ç¾…çš„ãªæ¤œè¨¼ã‚’å®Ÿè¡Œã€‚
- **è‡ªå‹•åŒ–ã•ã‚ŒãŸ PyPI ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ**: æ¤œè¨¼æ¸ˆã¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å®‰å…¨ã«å…¬é–‹ã€‚
- å¤‰æ›´ã‚’ `main` ãŠã‚ˆã³ `develop` ã«ãƒžãƒ¼ã‚¸ã—ã¦ GitFlow ã‚µã‚¤ã‚¯ãƒ«ã‚’å®Œäº†ã€‚

---

*ç§ãŸã¡ã® Authority Pipeline ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å±Šãå‰ã«ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰è¡ŒãŒãƒ†ã‚¹ãƒˆã•ã‚Œã€æ¤œè¨¼ã•ã‚Œã€ä¿è­·ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚*
