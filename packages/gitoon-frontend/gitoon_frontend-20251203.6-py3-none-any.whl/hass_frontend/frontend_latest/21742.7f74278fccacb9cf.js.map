{"version":3,"file":"21742.7f74278fccacb9cf.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251203.6/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.6/src/common/util/parse-aspect-ratio.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.6/src/panels/lovelace/cards/hui-map-card.ts"],"names":["COLORS_COUNT","getColorByIndex","index","style","colorIndex","getPropertyValue","getGraphColorByIndex","themeColor","theme2hex","getAllGraphColors","memoizeOne","Array","from","length","_","newArgs","lastArgs","parseOrThrow","num","parsed","parseFloat","isNaN","Error","parseAspectRatio","input","endsWith","w","h","slice","arr","replace","split","_err","DEFAULT_HOURS_TO_SHOW","DEFAULT_ZOOM","HuiMapCard","LitElement","_getAllEntities","hass","this","personSources","Set","locationEntities","Object","values","states","forEach","entity","attributes","push","entity_id","computeStateDomain","source","add","filter","has","setConfig","config","show_all","entities","geo_location_sources","isArray","_config","_configEntities","processConfigEntities","_mapEntities","_getMapEntities","_clusterMarkers","cluster","getCardSize","aspect_ratio","ratio","ar","toFixed","Math","floor","Number","getConfigElement","document","createElement","getStubConfig","entitiesFallback","type","findEntities","theme_mode","render","nothing","_error","html","localize","message","code","isDarkMode","dark_mode","themes","darkMode","themeMode","title","default_zoom","_getHistoryPaths","_stateHistory","auto_fit","fit_zones","mdiGoogleCirclesCommunities","mdiDotsHexagon","_toggleClusterMarkers","mdiImageFilterCenterFocus","_resetFocus","shouldUpdate","changedProps","size","oldHass","get","hasConfigOrEntitiesChanged","hasConfigChanged","willUpdate","super","deepEqual","_getSourceEntities","connectedCallback","hasUpdated","_subscribeHistory","disconnectedCallback","_unsubscribeHistory","isComponentLoaded","_subscribed","hours_to_show","subscribeHistoryStatesTimeWindow","combinedHistory","map","catch","err","undefined","then","unsub","updated","_computePadding","root","shadowRoot","getElementById","ignoreAspectRatio","layout","paddingBottom","height","_map","fitMap","unpause_autofit","_getColor","entityId","color","_colorDict","computedStyles","getComputedStyle","_colorIndex","sourceObjs","geoEntities","allSource","find","s","stateObj","sourceObj","computeDomain","label_mode","attribute","unit","focus","entityConf","name","getGridOptions","columns","rows","min_columns","min_rows","args","history","paths","keys","entityStates","points","entityState","latitude","a","longitude","p","point","timestamp","Date","lu","entityConfig","e","computeStateName","fullDatetime","gradualOpacity","styles","css"],"mappings":"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"}