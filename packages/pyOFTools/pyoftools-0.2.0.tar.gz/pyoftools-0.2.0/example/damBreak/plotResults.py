# Import required libraries for data analysis and plotting
from pathlib import Path

import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns

# Set the path to the directory containing the output CSV files
filepath = Path(__file__).parent

# --- Plot volume of water over time ---
# Read the CSV file generated by postProcess.py for total water volume
vol_alpha = pd.read_csv(filepath / "postProcessing/vol_alpha.csv")
# Plot time series of integrated water volume
sns.lineplot(data=vol_alpha, x="time", y="alpha_water_volIntegrate")
plt.xlabel("Time [s]")
plt.ylabel("Volume of water [mÂ³]")
plt.title("Volume of water over time")
plt.grid()

# --- Plot mass distribution along width over time ---
# Read the CSV file for mass distribution along x-direction (width)
mass_width = pd.read_csv(filepath / "postProcessing/mass.csv")
# Map bin group numbers to human-readable ranges
mass_width["group"] = mass_width["group"].map(
    {1: "0-0.146m", 2: "0.146-0.292m", 3: "0.292-0.438m", 4: "0.438-0.584m"}
)
# Plot time series of integrated mass for each width bin
plt.figure()
sns.lineplot(data=mass_width, x="time", y="rho_volIntegrate", hue="group")
plt.xlabel("Time [s]")
plt.ylabel("Mass of water [kg]")
plt.title("Mass of water over time (width bins)")
plt.grid()

# --- Plot mass distribution along height over time ---
# Read the CSV file for mass distribution along y-direction (height)
mass_height = pd.read_csv(filepath / "postProcessing/mass_dist_height.csv")
# Map bin group numbers to human-readable ranges
mass_height["group"] = mass_height["group"].map(
    {1: "0-0.146m", 2: "0.146-0.292m", 3: "0.292-0.438m", 4: "0.438-0.584m"}
)
# Plot time series of integrated mass for each height bin
plt.figure()
sns.lineplot(data=mass_height, x="time", y="rho_volIntegrate", hue="group")
plt.xlabel("Time [s]")
plt.ylabel("Mass of water [kg]")
plt.title("Mass of water over time (height bins)")
plt.grid()

# Show all plots
plt.show()
