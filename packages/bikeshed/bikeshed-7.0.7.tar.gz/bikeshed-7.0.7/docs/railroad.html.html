<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Bikeshed Documentation</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet"></style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="no-ref p-name" id="title">Bikeshed Documentation</h1>
   <h2 class="no-num no-ref no-toc" id="profile-and-date">Living Standard,
    <time class="dt-updated" datetime="2026-01-05">5 January 2026</time></h2>
   <div data-fill-with="spec-metadata"></div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"></p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract"></div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="multipage-table-of-contents" id="toc"></nav>
  <main>
   <p>A <strong>railroad diagram</strong> is a particular way of visually representing a structure roughly equivalent to regular expressions, or simple grammars.  They tend to be more readable and easier to grok than their equivalents written in terse regexps, and smaller than their equivalents written in explicit parsers.</p>
   <p>Here’s an example of a railroad diagram, this one describing the syntax of valid IDENT tokens in CSS:</p>
   <div class="railroad">
    <svg class="railroad-diagram" height="207" viewBox="0 0 478.0 207" width="478.0">
     <g transform="translate(.5 .5)">
      <g>
       <path d="M20 51v20m10 -20v20m-10 -10h20"></path>
      </g>
      <path d="M40 61h10"></path>
      <g>
       <path d="M50 61h0.0"></path>
       <path d="M50.0 61h10"></path>
       <g>
        <path d="M60.0 61h1.25"></path>
        <path d="M416.75 61h1.25"></path>
        <path d="M61.25 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
        <g class="terminal">
         <path d="M81.25 31h139.25"></path>
         <path d="M257.5 31h139.25"></path>
         <rect height="22" rx="10" ry="10" width="37" x="220.5" y="20"></rect>
         <text x="239" y="35">--</text>
        </g>
        <path d="M396.75 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
        <path d="M61.25 61h20"></path>
        <g>
         <path d="M81.25 61h0.0"></path>
         <path d="M396.75 61h0.0"></path>
         <g>
          <path d="M81.25 61h0.0"></path>
          <path d="M149.75 61h0.0"></path>
          <path d="M81.25 61h20"></path>
          <g>
           <path d="M101.25 61h28.5"></path>
          </g>
          <path d="M129.75 61h20"></path>
          <path d="M81.25 61a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path>
          <g class="terminal">
           <path d="M101.25 81h0.0"></path>
           <path d="M129.75 81h0.0"></path>
           <rect height="22" rx="10" ry="10" width="28.5" x="101.25" y="70"></rect>
           <text x="115.5" y="85">-</text>
          </g>
          <path d="M129.75 81a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path>
         </g>
         <g>
          <path d="M149.75 61h0.0"></path>
          <path d="M396.75 61h0.0"></path>
          <path d="M149.75 61h20"></path>
          <g class="non-terminal">
           <path d="M169.75 61h0.0"></path>
           <path d="M376.75 61h0.0"></path>
           <rect height="22" width="207" x="169.75" y="50"></rect>
           <text x="273.25" y="65">a-z A-Z _ or non-ASCII</text>
          </g>
          <path d="M376.75 61h20"></path>
          <path d="M149.75 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
          <g class="non-terminal">
           <path d="M169.75 91h68.0"></path>
           <path d="M308.75 91h68.0"></path>
           <rect height="22" width="71" x="237.75" y="80"></rect>
           <text x="273.25" y="95">escape</text>
          </g>
          <path d="M376.75 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
         </g>
        </g>
        <path d="M396.75 61h20"></path>
       </g>
       <path d="M418.0 61a10 10 0 0 1 10 10v29a10 10 0 0 1 -10 10h-358.0a10 10 0 0 0 -10 10v8a10 10 0 0 0 10 10"></path>
       <g>
        <path d="M60.0 138h0.0"></path>
        <path d="M418.0 138h0.0"></path>
        <path d="M60.0 138a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path>
        <g>
         <path d="M80.0 118h318.0"></path>
        </g>
        <path d="M398.0 118a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path>
        <path d="M60.0 138h20"></path>
        <g>
         <path d="M80.0 138h0.0"></path>
         <path d="M398.0 138h0.0"></path>
         <path d="M80.0 138h10"></path>
         <g>
          <path d="M90.0 138h0.0"></path>
          <path d="M388.0 138h0.0"></path>
          <path d="M90.0 138h20"></path>
          <g class="non-terminal">
           <path d="M110.0 138h0.0"></path>
           <path d="M368.0 138h0.0"></path>
           <rect height="22" width="258" x="110" y="127"></rect>
           <text x="239" y="142">a-z A-Z 0-9 _ - or non-ASCII</text>
          </g>
          <path d="M368.0 138h20"></path>
          <path d="M90.0 138a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"></path>
          <g class="non-terminal">
           <path d="M110.0 168h93.5"></path>
           <path d="M274.5 168h93.5"></path>
           <rect height="22" width="71" x="203.5" y="157"></rect>
           <text x="239" y="172">escape</text>
          </g>
          <path d="M368.0 168a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"></path>
         </g>
         <path d="M388.0 138h10"></path>
         <path d="M90.0 138a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10"></path>
         <g>
          <path d="M90.0 187h298.0"></path>
         </g>
         <path d="M388.0 187a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10"></path>
        </g>
        <path d="M398.0 138h20"></path>
       </g>
       <path d="M418.0 138h10"></path>
       <path d="M428.0 138h0.0"></path>
      </g>
      <path d="M428.0 138h10"></path>
      <path d="M 438.0 138 h 20 m -10 -10 v 20 m 10 -20 v 20"></path>
     </g>
    </svg>
   </div>
   <p>Bikeshed supports the automatic generation of railroad diagrams from a simplified DSL.  To use, simply embed a diagram description in a <code class="highlight"><c- p>&lt;</c-><c- f>pre</c-> <c- e>class</c-><c- o>=</c-><c- s>'railroad'</c-><c- p>></c-></code> element - it’ll get replaced by an appropriate <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-svg" id="ref-for-elementdef-svg①">svg</a></code> element.</p>
   <h3 class="heading settled" data-level="14.1" id="railroad-lang"><span class="secno">14.1. </span><span class="content">The Diagram Language</span><a class="self-link" href="#railroad-lang"></a></h3>
   <p>Diagrams are described by a custom DSL that somewhat resembles Python.</p>
   <p>A railroad diagram consists of a number of nested elements, each of which may contain multiple children.  Each element is specified as a command followed by a colon, possibly followed by additional data (the prelude), and the element’s children indented on following lines, like:</p>
<pre class="highlight">T: /*
ZeroOrMore:
  N: anything but * followed by /
T: */
</pre>
   <p>This draws the following diagram:</p>
   <div class="railroad">
    <svg class="railroad-diagram" height="80" viewBox="0 0 512.0 80" width="512.0">
     <g transform="translate(.5 .5)">
      <g>
       <path d="M20 30v20m10 -20v20m-10 -10h20"></path>
      </g>
      <path d="M40 40h10"></path>
      <g class="terminal">
       <path d="M50 40h0.0"></path>
       <path d="M87.0 40h0.0"></path>
       <rect height="22" rx="10" ry="10" width="37" x="50" y="29"></rect>
       <text x="68.5" y="44">/*</text>
      </g>
      <path d="M87.0 40h10"></path>
      <g>
       <path d="M97.0 40h0.0"></path>
       <path d="M415.0 40h0.0"></path>
       <path d="M97.0 40a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"></path>
       <g>
        <path d="M117.0 20h278.0"></path>
       </g>
       <path d="M395.0 20a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"></path>
       <path d="M97.0 40h20"></path>
       <g>
        <path d="M117.0 40h0.0"></path>
        <path d="M395.0 40h0.0"></path>
        <path d="M117.0 40h10"></path>
        <g class="non-terminal">
         <path d="M127.0 40h0.0"></path>
         <path d="M385.0 40h0.0"></path>
         <rect height="22" width="258" x="127" y="29"></rect>
         <text x="256" y="44">anything but * followed by /</text>
        </g>
        <path d="M385.0 40h10"></path>
        <path d="M127.0 40a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10"></path>
        <g>
         <path d="M127.0 60h258.0"></path>
        </g>
        <path d="M385.0 60a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10"></path>
       </g>
       <path d="M395.0 40h20"></path>
      </g>
      <path d="M415.0 40h10"></path>
      <g class="terminal">
       <path d="M425.0 40h0.0"></path>
       <path d="M462.0 40h0.0"></path>
       <rect height="22" rx="10" ry="10" width="37" x="425" y="29"></rect>
       <text x="443.5" y="44">*/</text>
      </g>
      <path d="M462.0 40h10"></path>
      <path d="M 472.0 40 h 20 m -10 -10 v 20 m 10 -20 v 20"></path>
     </g>
    </svg>
   </div>
   <p>The top-level elements are assumed to be a sequence of elements in the diagram.
Inside of a diagram, any of the elements may be used.
Elements are split into two groups: containers and text.</p>
   <p>The containers hold other elements, and modify their semantics:</p>
   <ul>
    <ul>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-sequence">Sequence</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-and">And</dfn>, <dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-seq">Seq</dfn>) - used for sequences of elements which must all be selected in order.  Like concatenation in regexes. Takes 1 or more children.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-stack">Stack</dfn> - A sequence that arranges its children vertically. Useful for preventing diagrams from becoming excessively wide. Takes 1 or more children.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-choice">Choice</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-or">Or</dfn>) - used for a choice between elements.  Like the <code class="highlight">|</code> character in regexes.  Takes 1 or more children.  Optionally, the "default" index may be provided in the prelude (defaulting to 0).</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-optional">Optional</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-opt">Opt</dfn>)- used for an element that’s optional.  Like the <code class="highlight">?</code> character in regexes.  Takes 1 child.  Optionally, the word <code class="highlight">skip</code> may be provided in the prelude to indicate that this term is skipped by default.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-oneormore">OneOrMore</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-plus">Plus</dfn>)- used for an element that can be chosen one or more times.  Like the <code class="highlight">+</code> character in regexes.
Takes 1 or 2 children: the first child is the element being repeated, and the optional second child is an element repeated between repetitions.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-zeroormore">ZeroOrMore</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-star">Star</dfn>) - same as <a data-link-type="dfn" href="#railroad-oneormore" id="ref-for-railroad-oneormore">OneOrMore</a>, but allows the element to be chosen zero times as well (skipped entirely).  Like the <code class="highlight">*</code> character in regexes.
Like <a data-link-type="dfn" href="#railroad-optional" id="ref-for-railroad-optional">Optional</a>, the keyword <code class="highlight">skip</code> may be provided in the prelude to indicate that the "default option" is to skip it (repeat 0 times).</p>
    </ul>
    <p>The text elements only contain text, not other elements.  Their values are given in their preludes.</p>
    <ul>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-terminal">Terminal</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-t">T</dfn>) - represents a "terminal" in the grammar, something that can’t be expanded any more.  Generally represents literal text.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-nonterminal">NonTerminal</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-n">N</dfn>) - represents a "non-terminal" in the grammar, something that can be expanded further.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-comment">Comment</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-c">C</dfn>) - represents a comment in the railroad diagram, to aid in reading or provide additional information.  This is often used as the repetition value of a <a data-link-type="dfn" href="#railroad-oneormore" id="ref-for-railroad-oneormore①">OneOrMore</a> or <a data-link-type="dfn" href="#railroad-zeroormore" id="ref-for-railroad-zeroormore">ZeroOrMore</a> to provide information about the repetitions, like how many are allowed.</p>
     <li data-md>
      <p><dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-skip">Skip</dfn> (<dfn class="dfn-paneled" data-dfn-for="railroad" data-dfn-type="dfn" data-export id="railroad-s">S</dfn>) - represents nothing, an empty option.  This is rarely necessary to use explicitly, as containers like <a data-link-type="dfn" href="#railroad-optional" id="ref-for-railroad-optional①">Optional</a> use it automatically, but it’s occasionally useful when writing out a <a data-link-type="dfn" href="#railroad-choice" id="ref-for-railroad-choice">Choice</a> element where one option is to do nothing.</p>
    </ul>
   </ul>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-num no-ref" id="conformance">
    Conformance</h2>
   <p>
            Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification.

        </p>
   <p>
            All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-biblio-type="normative" data-link-type="biblio" data-lt="RFC2119">[RFC2119]</a>

        </p>
   <p>
            Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code nohighlight>class="example"</code>, like this:

        </p>
   <div class="example" id="example-example">
            This is an example of an informative example.
        </div>
   <p>
            Informative notes begin with the word “Note”
            and are set apart from the normative text with <code nohighlight>class="note"</code>, like this:

        </p>
   <p class="note">
            Note, this is an informative note.</p>
   <wpt title="Tests relating to the content of this specification
                    may be documented in “Tests” blocks.
                    Any such block is non-normative."></wpt>
  </div>
<script></script>