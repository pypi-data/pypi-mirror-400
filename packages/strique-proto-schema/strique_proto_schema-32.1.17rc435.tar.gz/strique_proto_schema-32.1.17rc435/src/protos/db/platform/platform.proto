syntax = "proto3";

package strique.model.db.platform;

import "constants/currencies/currency.proto";
import "db/platform/platform_type.proto";
import "google/protobuf/timestamp.proto";
import "db/catalog/catalog_enums.proto";

option java_outer_classname = "PlatformProto";
option java_package = "com.strique.model.db.platform";

// Next Id: 58
// A protobuf to store Platform object.
message Platform {
  // Unique id of the Ad account
  string ad_account_id = 1;

  // Name of the Ad account
  string ad_account_name = 2;

  // Type of the Platform
  PlatformType platform_type = 3;

  enum PlatformStatus {
    STATUS_UNKNOWN = 0;
    STATUS_INACTIVE = 1;
    STATUS_ACTIVE = 2;
    STATUS_AUTH_REQUIRED = 3;
    STATUS_AUTH_COMPLETED = 4;
    STATUS_BACK_FILL_INITIATED = 5;
    STATUS_DATA_LAGGING = 6;
    STATUS_PLATFORM_ACCOUNT_ERROR = 7;
    STATUS_ACTIVE_WITH_WARNING = 8;
    STATUS_STORE_DELETED = 9;
  }
  // Status of the Platform for reporting
  PlatformStatus status = 4;

  // Status of the platform for catalog
  optional PlatformStatus catalog_status = 27;

  // Store id for the given platform. It is a foreign key from the Store table.
  string store_id = 5;

  // Access Token for the Platform
  string access_token = 6;

  // Refresh Token for the Platform
  optional string refresh_token = 7;

  // Access token validity in epoch
  uint64 access_token_validity = 8;

  // Refresh token validity in epoch
  optional uint64 refresh_token_validity = 9;

  // Connection ID for the Platform. This could be email id or phone number etc of the person who has connected the Ad account.
  string connection_id = 10;

  // Currency selected for the Platform
  optional constants.Currency currency = 11;

  // timezone for the platform
  optional string timezone = 12;

  // date for last successful data fetching
  google.protobuf.Timestamp last_successful_data_fetch = 13;

  // date for first data fetching
  google.protobuf.Timestamp first_data_fetch = 14;

  // web property for google analytics
  optional string ga_web_property = 15;

  optional string google_ads_manager_id = 16;

  optional string magento_consumer_key = 17;

  optional string magento_consumer_secret = 18;

  optional string magento_access_token_secret = 19;

  optional bool is_shipping_validation_completed = 28;

  optional bool is_domain_verification_completed = 29;

  optional bool is_program_activation_completed = 30;

  optional string gmc_mca_account_id = 23;

  optional string merchant_center_website = 24;

  optional string primary_target_country = 25;

  optional string content_language = 26;

  optional bool is_all_products_need_to_be_submitted_in_feed = 31;

  repeated string collection_ids = 32;

  optional bool is_defualt_product_title = 33;

  optional bool is_first_variant_only = 34;

  optional bool append_variant_name_to_product_title = 35;

  optional string default_google_product_category = 36;

  optional catalog.AgeGroup  default_age_group = 37;

  optional catalog.Gender default_gender = 38;

  optional catalog.ProductCondition default_product_condition = 39;

  optional bool checkout_link_template = 40;

  optional bool with_sale_price = 41;

  optional bool append_utm_tags_to_url = 42;

  optional string utm_source = 43;

  optional string utm_medium = 44;

  optional string utm_campaign = 45;

  optional bool meta_advanced_matching_field = 46;

  optional string meta_catalog_business_id = 47;

  optional string meta_catalog_id = 48;

  optional string country_short_code = 49;

  optional bool submit_variant_with_gtin = 50;

  optional string primary_domain = 51;

  optional string meta_catalog_business_name = 52;

  optional string meta_catalog_name = 53;

  optional bool is_feed_quality_other_data_source_connected = 54;

  google.protobuf.Timestamp lastAnalyticsDataFetchDate = 55;

  google.protobuf.Timestamp last_successful_catalog_data_fetch = 56;

  google.protobuf.Timestamp last_data_archival_date = 57;

  reserved 20, 21, 22;
}
