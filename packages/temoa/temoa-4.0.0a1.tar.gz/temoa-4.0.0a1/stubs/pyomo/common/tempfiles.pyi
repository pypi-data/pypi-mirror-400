import types

from _typeshed import Incomplete
from pyomo.common.dependencies import attempt_import as attempt_import
from pyomo.common.dependencies import pyutilib_available as pyutilib_available
from pyomo.common.deprecation import deprecated as deprecated
from pyomo.common.deprecation import deprecation_warning as deprecation_warning
from pyomo.common.errors import TempfileContextError as TempfileContextError
from pyomo.common.multithread import MultiThreadWrapperWithMain as MultiThreadWrapperWithMain

deletion_errors_are_fatal: bool
logger: Incomplete
pyutilib_tempfiles: Incomplete
_: Incomplete

class TempfileManagerClass:
    tempdir: Incomplete
    def __init__(self) -> None: ...
    def __del__(self) -> None: ...
    def shutdown(self, remove: bool = True) -> None: ...
    def context(self): ...
    def create_tempfile(self, suffix=None, prefix=None, text: bool = False, dir=None): ...
    def create_tempdir(self, suffix=None, prefix=None, dir=None): ...
    def add_tempfile(self, filename, exists: bool = True): ...
    def clear_tempfiles(self, remove: bool = True) -> None: ...
    def sequential_files(self, ctr: int = 0) -> None: ...
    def unique_files(self) -> None: ...
    def new_context(self): ...
    def push(self): ...
    def pop(self, remove: bool = True): ...
    def __enter__(self): ...
    def __exit__(
        self,
        exc_type: type[BaseException] | None,
        exc_val: BaseException | None,
        exc_tb: types.TracebackType | None,
    ) -> None: ...

class TempfileContext:
    manager: Incomplete
    tempfiles: Incomplete
    tempdir: Incomplete
    os: Incomplete
    shutil: Incomplete
    def __init__(self, manager) -> None: ...
    def __del__(self) -> None: ...
    def __enter__(self): ...
    def __exit__(
        self,
        exc_type: type[BaseException] | None,
        exc_val: BaseException | None,
        exc_tb: types.TracebackType | None,
    ) -> None: ...
    def mkstemp(self, suffix=None, prefix=None, dir=None, text: bool = False): ...
    def mkdtemp(self, suffix=None, prefix=None, dir=None): ...
    def gettempdir(self): ...
    def gettempdirb(self): ...
    def gettempprefix(self): ...
    def gettempprefixb(self): ...
    def create_tempfile(self, suffix=None, prefix=None, text: bool = False, dir=None): ...
    def create_tempdir(self, suffix=None, prefix=None, dir=None): ...
    def add_tempfile(self, filename, exists: bool = True) -> None: ...
    def release(self, remove: bool = True) -> None: ...

TempfileManager: TempfileManagerClass
