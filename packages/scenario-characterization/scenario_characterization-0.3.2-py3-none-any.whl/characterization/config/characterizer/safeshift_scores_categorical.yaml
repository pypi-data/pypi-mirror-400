# @package _global_
defaults:
  - default.yaml

processor:
  _target_: characterization.processors.scores_processor.ScoresProcessor
  config:
    output_path: ${paths.output_paths.scores_cache_path}

characterizer:
  _target_: characterization.scorer.safeshift_scorer.SafeShiftScorer
  config:
    individual_score_function: simple
    interaction_score_function: simple

    score_clip:
      min: 0.0
      max: 16.0

    # NOTE: if weights are not specified here, will use default values from FeatureWeights in schemas/detections.py.
    weights:
      # Individual features
      speed: 1.0
      speed_limit_diff: 1.0
      acceleration: 1.0
      deceleration: 1.0
      jerk: 1.0
      waiting_period: 1.0

      # Individual features from Unitraj
      trajectory_type: 0.1
      kalman_difficulty: 1.0

      # Interaction features
      collision: 4.0
      mttcp: 3.0
      thw: 1.0
      ttc: 2.0
      drac: 2.0

    # Detections here are in percentile categories
    # 1: 1, 10: 2, 75: 3, 90: 4, 95: 5, 99: 6, 100: 7
    detections:
      speed: 8
      speed_limit_diff: 8
      acceleration: 8
      deceleration: 8
      jerk: 8
      waiting_period: 8
      kalman_difficulty: 8

      collision: 1
      mttcp: 8
      thw: 8
      ttc: 8
      drac: 8
