interactions:
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": [{"text":
      "\n# Apples are tasty\n\nBy Hadley Wickham\nApples are delicious and tasty and
      I like to eat them.\nExcept for red delicious, that is. They are NOT delicious.\n",
      "type": "text", "cache_control": {"type": "ephemeral", "ttl": "5m"}}]}], "model":
      "claude-haiku-4-5-20251001", "stream": false, "system": [{"type": "text", "text":
      "[empty string]", "cache_control": {"type": "ephemeral", "ttl": "5m"}}], "tool_choice":
      {"type": "tool", "name": "_structured_tool_call"}, "tools": [{"name": "_structured_tool_call",
      "input_schema": {"type": "object", "properties": {"data": {"description": "Summary
      of the article", "properties": {"title": {"type": "string"}, "author": {"type":
      "string"}}, "required": ["title", "author"], "type": "object", "additionalProperties":
      false}}}, "description": "Extract structured data"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '826'
      Content-Type:
      - application/json
      Host:
      - api.anthropic.com
      X-Stainless-Async:
      - 'false'
      anthropic-version:
      - '2023-06-01'
      x-stainless-read-timeout:
      - '600'
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"model":"claude-haiku-4-5-20251001","id":"msg_018FouQmP8cB4csqwzr7aGt9","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01BKS4eTmX24bZwLdZ2bzRzH","name":"_structured_tool_call","input":{"data":{"title":"Apples
        are tasty","author":"Hadley Wickham"}}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":753,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":60,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 9b6c9046e89e4e6a-DEN
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Wed, 31 Dec 2025 20:35:29 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '4000000'
      anthropic-ratelimit-input-tokens-remaining:
      - '4000000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-12-31T20:35:28Z'
      anthropic-ratelimit-output-tokens-limit:
      - '800000'
      anthropic-ratelimit-output-tokens-remaining:
      - '800000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-12-31T20:35:29Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-12-31T20:35:28Z'
      anthropic-ratelimit-tokens-limit:
      - '4800000'
      anthropic-ratelimit-tokens-remaining:
      - '4800000'
      anthropic-ratelimit-tokens-reset:
      - '2025-12-31T20:35:28Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '541'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '563'
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": [{"text":
      "\n# Apples are tasty\n\nBy Hadley Wickham\nApples are delicious and tasty and
      I like to eat them.\nExcept for red delicious, that is. They are NOT delicious.\n",
      "type": "text"}]}, {"role": "assistant", "content": [{"text": "{\"title\":\"Apples
      are tasty\",\"author\":\"Hadley Wickham\"}", "type": "text"}]}, {"role": "user",
      "content": [{"text": "\n# Apples are tasty\n\nBy Hadley Wickham\nApples are
      delicious and tasty and I like to eat them.\nExcept for red delicious, that
      is. They are NOT delicious.\n", "type": "text", "cache_control": {"type": "ephemeral",
      "ttl": "5m"}}]}], "model": "claude-haiku-4-5-20251001", "stream": false, "system":
      [{"type": "text", "text": "[empty string]", "cache_control": {"type": "ephemeral",
      "ttl": "5m"}}], "tool_choice": {"type": "tool", "name": "_structured_tool_call"},
      "tools": [{"name": "_structured_tool_call", "input_schema": {"type": "object",
      "properties": {"data": {"description": "Summary of the article", "properties":
      {"title": {"type": "string"}, "author": {"type": "string"}}, "required": ["title",
      "author"], "type": "object", "additionalProperties": false}}}, "description":
      "Extract structured data"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1160'
      Content-Type:
      - application/json
      Host:
      - api.anthropic.com
      X-Stainless-Async:
      - 'false'
      anthropic-version:
      - '2023-06-01'
      x-stainless-read-timeout:
      - '600'
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"model":"claude-haiku-4-5-20251001","id":"msg_01FhdEeK3eWx8HvSrSTirSqX","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WfbpyAgQxJZ76VHXh6EMZN","name":"_structured_tool_call","input":{"data":{"title":"Apples
        are tasty","author":"Hadley Wickham"}}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":829,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":54,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 9b6c904bfd64a3cc-DEN
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Wed, 31 Dec 2025 20:35:30 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '4000000'
      anthropic-ratelimit-input-tokens-remaining:
      - '4000000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-12-31T20:35:30Z'
      anthropic-ratelimit-output-tokens-limit:
      - '800000'
      anthropic-ratelimit-output-tokens-remaining:
      - '800000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-12-31T20:35:30Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-12-31T20:35:29Z'
      anthropic-ratelimit-tokens-limit:
      - '4800000'
      anthropic-ratelimit-tokens-remaining:
      - '4800000'
      anthropic-ratelimit-tokens-reset:
      - '2025-12-31T20:35:30Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '541'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '1113'
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": [{"text":
      "\n# Apples are tasty\n\nBy Hadley Wickham\nApples are delicious and tasty and
      I like to eat them.\nExcept for red delicious, that is. They are NOT delicious.\n",
      "type": "text"}]}, {"role": "assistant", "content": [{"text": "{\"title\":\"Apples
      are tasty\",\"author\":\"Hadley Wickham\"}", "type": "text"}]}, {"role": "user",
      "content": [{"text": "\n# Apples are tasty\n\nBy Hadley Wickham\nApples are
      delicious and tasty and I like to eat them.\nExcept for red delicious, that
      is. They are NOT delicious.\n", "type": "text"}]}, {"role": "assistant", "content":
      [{"text": "{\"title\":\"Apples are tasty\",\"author\":\"Hadley Wickham\"}",
      "type": "text"}]}, {"role": "user", "content": [{"text": "Generate the name
      and age of a random person.", "type": "text", "cache_control": {"type": "ephemeral",
      "ttl": "5m"}}]}], "model": "claude-haiku-4-5-20251001", "stream": false, "system":
      [{"type": "text", "text": "[empty string]", "cache_control": {"type": "ephemeral",
      "ttl": "5m"}}], "tool_choice": {"type": "tool", "name": "_structured_tool_call"},
      "tools": [{"name": "_structured_tool_call", "input_schema": {"type": "object",
      "properties": {"data": {"properties": {"name": {"type": "string"}, "age": {"type":
      "integer"}}, "required": ["name", "age"], "type": "object", "additionalProperties":
      false}}}, "description": "Extract structured data"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1334'
      Content-Type:
      - application/json
      Host:
      - api.anthropic.com
      X-Stainless-Async:
      - 'false'
      anthropic-version:
      - '2023-06-01'
      x-stainless-read-timeout:
      - '600'
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"model":"claude-haiku-4-5-20251001","id":"msg_01C2jMVW8cDPFSpVQfSwZ2CW","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01BMikkxjwrerR95ckaCRgSt","name":"_structured_tool_call","input":{"data":{"name":"Emily
        Chen","age":34}}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":855,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":44,"service_tier":"standard"}}'
    headers:
      CF-RAY:
      - 9b6c90548a59e653-DEN
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Wed, 31 Dec 2025 20:35:31 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '4000000'
      anthropic-ratelimit-input-tokens-remaining:
      - '4000000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-12-31T20:35:31Z'
      anthropic-ratelimit-output-tokens-limit:
      - '800000'
      anthropic-ratelimit-output-tokens-remaining:
      - '800000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-12-31T20:35:31Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-12-31T20:35:30Z'
      anthropic-ratelimit-tokens-limit:
      - '4800000'
      anthropic-ratelimit-tokens-remaining:
      - '4800000'
      anthropic-ratelimit-tokens-reset:
      - '2025-12-31T20:35:31Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '517'
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '691'
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 4096, "messages": [{"role": "user", "content": [{"text":
      "\n# Apples are tasty\n\nBy Hadley Wickham\nApples are delicious and tasty and
      I like to eat them.\nExcept for red delicious, that is. They are NOT delicious.\n",
      "type": "text"}]}, {"role": "assistant", "content": [{"text": "{\"title\":\"Apples
      are tasty\",\"author\":\"Hadley Wickham\"}", "type": "text"}]}, {"role": "user",
      "content": [{"text": "\n# Apples are tasty\n\nBy Hadley Wickham\nApples are
      delicious and tasty and I like to eat them.\nExcept for red delicious, that
      is. They are NOT delicious.\n", "type": "text"}]}, {"role": "assistant", "content":
      [{"text": "{\"title\":\"Apples are tasty\",\"author\":\"Hadley Wickham\"}",
      "type": "text"}]}, {"role": "user", "content": [{"text": "Generate the name
      and age of a random person.", "type": "text"}]}, {"role": "assistant", "content":
      [{"text": "{\"name\":\"Emily Chen\",\"age\":34}", "type": "text"}]}, {"role":
      "user", "content": [{"text": "What is the name of the person?", "type": "text",
      "cache_control": {"type": "ephemeral", "ttl": "5m"}}]}], "model": "claude-haiku-4-5-20251001",
      "stream": true, "system": [{"type": "text", "text": "[empty string]", "cache_control":
      {"type": "ephemeral", "ttl": "5m"}}], "tools": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1187'
      Content-Type:
      - application/json
      Host:
      - api.anthropic.com
      X-Stainless-Async:
      - 'false'
      anthropic-version:
      - '2023-06-01'
      x-stainless-read-timeout:
      - '600'
      x-stainless-timeout:
      - NOT_GIVEN
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: 'event: message_start

        data: {"type":"message_start","message":{"model":"claude-haiku-4-5-20251001","id":"msg_0151Qof1JPFmJfXrsbQPNb1R","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":197,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}}             }


        event: content_block_start

        data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}      }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"The"}           }


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        name"}      }


        event: ping

        data: {"type": "ping"}


        event: content_block_delta

        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"
        of the person is Emily Chen."}             }


        event: content_block_stop

        data: {"type":"content_block_stop","index":0        }


        event: message_delta

        data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":197,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":12}         }


        event: message_stop

        data: {"type":"message_stop"    }


        '
    headers:
      CF-RAY:
      - 9b6c905a6c74e73b-DEN
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Wed, 31 Dec 2025 20:35:32 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-ratelimit-input-tokens-limit:
      - '4000000'
      anthropic-ratelimit-input-tokens-remaining:
      - '4000000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-12-31T20:35:31Z'
      anthropic-ratelimit-output-tokens-limit:
      - '800000'
      anthropic-ratelimit-output-tokens-remaining:
      - '800000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-12-31T20:35:31Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-12-31T20:35:31Z'
      anthropic-ratelimit-tokens-limit:
      - '4800000'
      anthropic-ratelimit-tokens-remaining:
      - '4800000'
      anthropic-ratelimit-tokens-reset:
      - '2025-12-31T20:35:31Z'
      cf-cache-status:
      - DYNAMIC
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      x-envoy-upstream-service-time:
      - '409'
    status:
      code: 200
      message: OK
version: 1
