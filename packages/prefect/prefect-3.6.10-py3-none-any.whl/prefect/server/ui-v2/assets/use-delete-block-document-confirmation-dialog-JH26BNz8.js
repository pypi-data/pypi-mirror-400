import{j as e,L as g,G as D}from"./vendor-tanstack-BVzzyDEt.js";import{r as f,s as w,q as x,I as y,t as j,u as C,v as m,w as s,c$ as B}from"./index-BJkJ93Lr.js";import{u as v}from"./use-delete-confirmation-dialog-DDTCxOIv.js";const N=({blockDocument:n,onDelete:a})=>{const t=u=>{navigator.clipboard.writeText(u),s.success("Copied to clipboard!")},{id:c,name:r}=n;return e.jsxs(f,{children:[e.jsx(w,{asChild:!0,children:e.jsxs(x,{variant:"outline",className:"size-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(y,{id:"MoreVertical",className:"size-4"})]})}),e.jsxs(j,{align:"end",children:[e.jsx(C,{children:"Actions"}),r&&e.jsx(m,{onClick:()=>t(r),children:"Copy Name"}),e.jsx(g,{to:"/blocks/block/$id/edit",params:{id:c},children:e.jsx(m,{children:"Edit"})}),e.jsx(m,{onClick:a,children:"Delete"})]})]})},E=()=>{const n=D(),[a,t]=v(),{deleteBlockDocument:c,mutateAsync:r}=B();return[a,(o,{shouldNavigate:h=!1,onSuccess:p=()=>{}}={})=>{if(Array.isArray(o)){const d=async()=>{try{await Promise.all(o.map(l=>r(l))),s.success("Blocks deleted"),h&&n({to:"/blocks"})}catch(l){const k=l instanceof Error?l.message:"Unknown error while deleting block.";s.error(k),console.error(k)}},i=o.length>1?`Are you sure you want to delete these ${o.length} selected blocks?`:"Are you sure you want to delete this selected block?";t({title:"Delete Blocks",description:i,onConfirm:()=>{d(),p()}})}else t({title:"Delete Block",description:`Are you sure you want to delete ${o.name?o.name:"this block"}?`,onConfirm:()=>{c(o.id,{onSuccess:()=>{s.success("Block deleted"),h&&n({to:"/blocks"}),p()},onError:d=>{const i=d.message||"Unknown error while deleting block.";s.error(i),console.error(i)}})}})}]};export{N as B,E as u};
//# sourceMappingURL=use-delete-block-document-confirmation-dialog-JH26BNz8.js.map
