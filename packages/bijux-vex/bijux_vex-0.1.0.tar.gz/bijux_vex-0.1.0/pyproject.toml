[build-system]
requires = ["hatchling>=1.24.2", "hatch-vcs>=0.4"]
build-backend = "hatchling.build"

[project]
name = "bijux-vex"
description = "bijux-vex: contract-driven vector execution runtime with explicit determinism semantics."
readme = "README.md"
requires-python = ">=3.11,<4"
license = { text = "MIT" }
authors = [{ name = "Bijan Mousavi", email = "mousavi.bijan@gmail.com" }]
keywords = ["vector", "determinism", "bijux", "vex", "execution"]
dynamic = ["version"]
classifiers = [
  "Development Status :: 4 - Beta",
  "License :: OSI Approved :: MIT License",
  "Intended Audience :: Developers",
  "Natural Language :: English",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3.14",
  "Topic :: Software Development :: Libraries",
  "Topic :: Security",
]

dependencies = [
  "pydantic>=2.12,<3.0",
  "typer>=0.21,<0.22",
  "fastapi>=0.128,<0.129",
]

[project.optional-dependencies]
api = [
  "fastapi>=0.128,<0.129",
  "uvicorn>=0.30.1,<1.0",
  "schemathesis>=4.0,<5.0",
]
llm = [
]
dev = [
  "types-PyYAML>=6.0.12,<7.0",
  "types-orjson>=3.6.0,<4.0",
  "types-colorama>=0.0.14,<1.0",
  "types-psutil>=6.0.0,<7.0",
  "typing-extensions>=4.5.0,<5.0",
  "types-pexpect>=4.9.0,<5.0",

  "pytest>=8.4.1,<9.0",
  "pytest-cov>=6.2.1,<7.0",
  "pytest-asyncio>=1.0.0,<2.0",
  "pytest-timeout>=2.4.0,<3.0",
  "pytest-rerunfailures>=13.0,<14.0",
  "pytest-benchmark>=4.0.0,<5.0",
  "hypothesis>=6.103.0,<7.0",
  "hypothesis-jsonschema>=0.23.0,<1.0",
  "pexpect>=4.8.0,<5.0",

  "ruff>=0.6.8,<1.0",
  "mypy>=1.11.2,<2.0",
  "pytype>=2024.10.11",
  "codespell>=2.3.0,<3.0",
  "pyright[nodejs]>=1.1.320,<2.0",
  "pydocstyle>=6.2.1,<7.0",
  "radon>=6.0.0",

  "vulture>=2.7,<3.0",
  "deptry>=0.10.0,<1.0",
  "reuse>=4.0.0,<6.0.0",
  "interrogate>=1.7.0,<2.0",

  "build>=1.0.3,<2.0",
  "bandit>=1.7.10,<2.0",
  "pip-audit>=2.7.3,<3.0",
  "commitizen>=4.0.0,<5.0",

  "mkdocs>=1.6.1,<2.0",
  "mkdocs-material>=9.5.39,<10.0",
  "mkdocstrings[python]>=0.26.1,<1.0",
  "mkdocs-git-revision-date-localized-plugin>=1.2.0,<2.0",
  "mkdocs-include-markdown-plugin",
  "mkdocs-gen-files",
  "mkdocs-literate-nav",
  "mkdocs-redirects>=1.2,<2.0",
  "mkdocs-minify-plugin>=0.7,<1.0",
  "mkdocs-glightbox>=0.3,<1.0",
  "mkdocs-material[imaging]>=9.5.39,<10.0",

  "prance>=25.4.0.0",
  "openapi-spec-validator>=0.7.1,<1.0",
  "schemathesis>=4.0,<5.0",
  "anyio>=4.4.0,<5.0",
  "uvicorn>=0.30.1,<1.0",

  "pre-commit>=4.0",
  "twine>=6.1.0,<7.0",
  "towncrier>=23.0,<25.0",

  "cyclonedx-bom>=4.6.0",
]

[project.urls]
Homepage = "https://bijux.github.io/bijux-vex/"
Repository = "https://github.com/bijux/bijux-vex"
Documentation = "https://bijux.github.io/bijux-vex/"
Issues = "https://github.com/bijux/bijux-vex/issues"

[tool.hatch.version]
source = "vcs"
raw-options = { local_scheme = "dirty-tag", version_scheme = "guess-next-dev" }

[tool.hatch.build.hooks.vcs]
version-file = "src/bijux_vex/_version.py"

[tool.hatch.build.targets.wheel]
packages = ["src/bijux_vex"]
include = ["src/bijux_vex/py.typed"]

[tool.hatch.build.targets.sdist]
include = ["src/bijux_vex/py.typed"]

[tool.towncrier]
package = "bijux_vex"
package_dir = "src"
filename = "CHANGELOG.md"
directory = "changelog.d"
issue_format = "#{issue}"
start_string = "# Changelog\n\nAll notable changes to this project are documented here. This file is generated via towncrier; do not edit by hand.\n\n"
title_format = "## {version} ({project_date})"
underlines = ["", ""]
template = ""
types = [
  { directory = "feature", name = "Features", showcontent = true },
  { directory = "bugfix", name = "Bugfixes", showcontent = true },
  { directory = "internal", name = "Internal", showcontent = true },
]

[tool.pytest.ini_options]
testpaths = ["tests"]
addopts = "-ra"
