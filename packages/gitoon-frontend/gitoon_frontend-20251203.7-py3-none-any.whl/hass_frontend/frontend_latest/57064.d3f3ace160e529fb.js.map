{"version":3,"file":"57064.d3f3ace160e529fb.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/common/color/colors.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/common/util/xss.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/components/chart/ha-sankey-chart.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/components/chips/ha-assist-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/components/trace/hat-graph-const.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/mixins/mobile-aware-mixin.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/resources/echarts/components/sankey/sankey-layout.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/resources/echarts/components/sankey/sankey-view.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/resources/echarts/components/sankey/sankey-path.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/resources/echarts/components/sankey/install.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/util/is_mobile.ts","https://raw.githubusercontent.com/home-assistant/frontend/20251203.7/src/util/text.ts"],"names":["COLORS_COUNT","getColorByIndex","index","style","colorIndex","getPropertyValue","getGraphColorByIndex","themeColor","theme2hex","getAllGraphColors","memoizeOne","Array","from","length","_","newArgs","lastArgs","filterXSS","html","xss","whiteList","stripIgnoreTag","stripIgnoreTagBody","OVERFLOW_MARGIN","FONT_SIZE","NODE_GAP","LABEL_DISTANCE","HaSankeyChart","LitElement","render","options","grid","top","bottom","left","right","tooltip","trigger","formatter","this","_renderTooltip","appendTo","document","body","_createData","data","_sizeController","value","width","SankeyChart","_processLinks","nodes","rawLinks","accountedIn","Map","accountedOut","links","forEach","link","sourceNode","find","n","id","source","targetNode","target","sourceAccounted","get","targetAccounted","sourceRemaining","targetRemaining","Math","min","set","push","_findParentIndex","sections","parent","l","offset","i","section","findIndex","args","vertical","ResizeController","callback","entries","contentRect","params","valueFormatter","node","marker","label","filteredNodes","filter","indexes","Set","map","sort","depthMap","nodesWithIndex","a","b","aParentIndex","bParentIndex","labelSpace","NODE_SIZE","type","flat","itemStyle","color","depth","draggable","orient","nodeWidth","nodeGap","lineStyle","opacity","curveness","layoutIterations","animationDuration","position","distance","minMargin","overflow","labelLayout","longestWord","text","split","reduce","longest","current","wordWidth","measureTextWidth","availableWidth","rect","fontSize","align","dy","availableHeight","height","labelRect","lineHeight","emphasis","focus","styles","css","attribute","Boolean","String","HaAssistChip","AssistChip","renderOutline","filled","super","getContainerClasses","active","renderPrimaryContent","renderLeadingIcon","renderTrailingIcon","sharedStyles","elevatedStyles","reflect","SPACING","BRANCH_HEIGHT","StatisticMeanType","STATISTIC_TYPES","VOLUME_UNITS","getRecorderInfo","conn","sendMessagePromise","getStatisticIds","hass","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","undefined","calendar","first_weekday","firstWeekday","locale","substring","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","unit_class","clearStatistics","calculateStatisticSumGrowth","values","growth","change","calculateStatisticsSumGrowth","stats","totalGrowth","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","entity","states","computeStateName","name","getDisplayUnit","unit","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","MobileAwareMixin","superClass","MobileAwareClass","connectedCallback","_unsubMql","listenMediaQuery","matches","_isMobileSize","disconnectedCallback","_isMobileClient","isMobileClient","isPassThroughNode","MIN_SIZE","sankeyLayout","ecModel","_api","eachSeriesByType","seriesModel","refContainer","createBoxLayoutReference","graph","getGraph","edges","getLayout","depths","hostGraph","getRawDataItem","dataIndex","passThroughNodes","edge","passThroughNodeIds","sourceInfo","getNodeDepthInfo","node1","targetInfo","node2","edgeValue","edgeItem","edgeData","getEdgeValue","passThroughSections","sourceDepthIndex","targetDepthIndex","slice","getPassThroughSections","depthIndex","sourceId","targetId","passThrough","createPassThroughNode","processEdgeForPassThrough","generatePassThroughNodes","processedNodes","sectionSize","sectionDepthSize","calculateSectionDimensions","nodesPerSection","groupNodesBySection","sortedNodesPerSection","sortedSections","sortedNodes","aIsPassthrough","bIsPassthrough","prevDepth","prevSection","aSourceIndex","bSourceIndex","nextDepth","nextSection","aTargetIndex","bTargetIndex","sortNodesInSections","globalValueToSizeRatio","sectionNodes","x","y","dx","size","createSectionNodes","availableSpace","totalValue","acc","sizedNodes","valueToSizeRatio","sectionValueToSizeRatio","setNodeSizes","totalSize","max","floor","sum","emptySpace","positionNodesInSection","flatMap","processNodes","coords","breadth","breadthSize","depthSize","getCoordinateSystem","curveType","setLayout","applyNodeDimensions","outEdges","edgeSize","applyEdgeSizes","inEdges","sortEdgesByTargetPosition","positionOutEdges","passthroughPoints","nodeId","passthroughNode","generatePassThroughPoints","targets","positionInEdges","applyLayout","layoutSankey","prevValueToSizeRatio","deficitHeight","result","SankeyView","EchartsSankeyView","api","getData","eachEdge","edgeLayout","getModel","echartsCurve","getItemGraphicEl","buildPath","ctx","shape","moveTo","lastPoint","points","point","prevPoint","bezierCurveTo","lineTo","closePath","dirtyShape","install","registers","registerLayout","registerChartView","test","navigator","userAgent","textMeasureCanvas","fontFamily","createElement","context","getContext","font","textMetrics","measureText","ceil","actualBoundingBoxRight","actualBoundingBoxLeft"],"mappings":"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"}