Metadata-Version: 2.4
Name: aiogram-part
Version: 1.0.1
Summary: Professional CLI scaffolding tool for aiogram 3.x Telegram bots
Author-email: Sattorbek <sattorpro@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/sattorproduction/aiogram-part
Project-URL: Documentation, https://github.com/sattorproduction/aiogram-part#readme
Project-URL: Repository, https://github.com/sattorproduction/aiogram-part
Project-URL: Issues, https://github.com/sattorproduction/aiogram-part/issues
Keywords: aiogram,telegram,bot,cli,scaffolding,generator
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Code Generators
Classifier: Topic :: Software Development :: Libraries :: Application Frameworks
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: click>=8.1.0
Requires-Dist: rich>=13.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Dynamic: license-file

# ğŸ¤– Aiogram Part

**Professional CLI scaffolding tool for Telegram bots with aiogram 3.x**

5 daqiqada production-ready bot yarating! Database, Redis, Testing, Deployment - hammasi tayyor! ğŸš€

[![PyPI version](https://badge.fury.io/py/aiogram-part.svg)](https://badge.fury.io/py/aiogram-part)
[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![Aiogram 3.22.0](https://img.shields.io/badge/aiogram-3.22.0-blue.svg)](https://github.com/aiogram/aiogram)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

---

## âš¡ Quick Start

```bash
# Install
pip install aiogram-part

# Create bot with database (SQLite/PostgreSQL/MySQL)
mkdir my-bot && cd my-bot
aiogram-part init-project --with-db --type postgresql

# Setup
cp .env.example .env  # Edit BOT_TOKEN
make install          # Install dependencies

# Run
make run             # Or: docker-compose up -d
```

**Tayyor!** Bot ishlayapti! âœ…

---

## ğŸ¯ Features

| Feature | Description | Commands |
|---------|-------------|----------|
| ğŸ—ï¸ **Clean Architecture** | Scoped handlers (user/admin), services, filters | 20+ commands |
| ğŸ—„ï¸ **Database** | SQLite/PostgreSQL/MySQL + Aerich migrations | `init-project --with-db --type` |
| âš¡ **Redis** | Caching & FSM storage with fallback | Auto-configured |
| ğŸ³ **Docker** | Database-specific docker-compose | `docker-compose up` |
| ğŸ§ª **Testing** | pytest + fixtures + test generator | `aiogram-part test` |
| ğŸ” **Health Check** | Environment validator with auto-fix | `aiogram-part check --fix` |
| ğŸ“Š **Statistics** | Project metrics with Rich tables | `aiogram-part stats` |
| ğŸŒ **Webhook** | Setup & status commands | `aiogram-part webhook` |
| ğŸš€ **Deployment** | Systemd service generator | `aiogram-part deploy` |
| ğŸ“ **Logging** | Rotating logs with levels | Built-in |
| ğŸŒ **i18n** | Multi-language with Babel | `aiogram-part i18n` |
| ğŸ”’ **Type Safe** | Pydantic settings + OOP keyboards | All templates |
---

## ğŸ“¦ Commands

### ğŸš€ **Project Initialization**

```bash
# Basic project
aiogram-part init-project

# With database (choose type)
aiogram-part init-project --with-db --type sqlite      # SQLite (default)
aiogram-part init-project --with-db --type postgresql  # PostgreSQL + Docker
aiogram-part init-project --with-db --type mysql       # MySQL + Docker
```

Creates 38+ directories, 41+ files: handlers, services, filters, keyboards, middlewares, models, tests, Docker configs.

---

### ğŸ¯ **Code Generators**

#### **Handlers** - Command, Message, Callback

```bash
aiogram-part handler user command start          # /start command
aiogram-part handler admin command stats         # Admin-only command
aiogram-part handler user message photo          # Photo messages
aiogram-part handler user callback confirm       # Callback handler
```

Creates: `handlers/{users|admins}/{commands|messages|callbacks}/name.py` + auto-registers router

#### **Models** - Database models with Tortoise ORM

```bash
aiogram-part model User                          # Model only
aiogram-part model Product --with-crud           # Model + CRUD operations
```

Creates: `database/models/name.py` + optional `database/crud/name.py`

#### **Keyboards** - OOP Builder pattern

```bash
aiogram-part keyboard --scope user --build-keyboard inline menu
aiogram-part keyboard --scope admin --build-keyboard reply settings --str-params status
aiogram-part keyboard --scope common --build-keyboard inline language \
  --str-params lang --int-params user_id
```

Creates: `keyboards/{users|admins|common}/name.py` with Builder pattern class

#### **Filters** - Custom filters

```bash
# Common filters (IsAdmin, IsPremium, etc)
aiogram-part filter --scope common --type common admin

# Callback filters (structured button data)
aiogram-part filter --scope user --type callback product \
  --str-params action --int-params product_id
```

Creates: `filters/{users|admins|common}/{common|callback}/name.py`

#### **Middlewares** - Request interceptors

```bash
aiogram-part middleware --scope user throttling --types message
aiogram-part middleware --scope admin logger --types all
aiogram-part middleware --scope common auth --types message callback_query
```

Creates: `middlewares/{users|admins|common}/name.py`

#### **Services** - Business logic layer

```bash
aiogram-part service --scope user payment        # User payment service
aiogram-part service --scope admin analytics     # Admin analytics
aiogram-part service --scope common notification # Common notification
```

Creates: `services/{users|admins|common}/name.py` with service class

#### **States** - FSM state machines

```bash
aiogram-part state Registration                  # User registration flow
aiogram-part state OrderCheckout                 # Checkout process
```

Creates: `states/name.py` with StatesGroup

#### **Validators** - Input validation

```bash
aiogram-part validator phone --type regex        # Phone number regex
aiogram-part validator email --type custom       # Custom email validator
```

Creates: `utils/validators/name.py`

#### **Enums** - Database enums

```bash
aiogram-part enum UserRole --values admin --values user --values moderator
aiogram-part enum OrderStatus --values pending --values completed
```

Creates: `database/enums/name.py` with enum class

---

### ğŸ—„ï¸ **Database Management** (Aerich - Prisma-like)

```bash
aiogram-part db migrate              # Initialize migrations
aiogram-part db update model         # Auto-detect model changes
aiogram-part db upgrade              # Apply migrations
aiogram-part db downgrade            # Rollback migration
aiogram-part db history              # View migration history
aiogram-part db heads                # Show current version
aiogram-part db reset                # Reset database
aiogram-part db generate description # Generate custom migration
aiogram-part db inspect              # Inspect database schema
```

---

### ğŸ§ª **Testing & Quality**

#### **Test Generator**

```bash
aiogram-part test --type handler start           # Handler test
aiogram-part test --type service payment         # Service test
aiogram-part test --type generic utils           # Generic test
```

Creates: `tests/{handlers|services}/test_name.py` with pytest fixtures

#### **Environment Checker**

```bash
aiogram-part check                               # Check project health
aiogram-part check --fix                         # Auto-fix issues
```

Checks: dependencies, .env file, migrations, Python version

#### **Project Statistics**

```bash
aiogram-part stats                               # Rich table with metrics
```

Shows: handlers, services, models, filters, middlewares, states, files, LOC

---

### ğŸŒ **Deployment & Operations**

#### **Webhook Management**

```bash
aiogram-part webhook setup https://bot.example.com  # Configure webhook
aiogram-part webhook status                          # Check status
```

#### **Systemd Service**

```bash
aiogram-part deploy --user botuser --python /path/to/python3
```

Generates systemd service file for Linux servers

#### **Multi-language Support**

```bash
aiogram-part i18n                                # Setup i18n + Babel
```

Creates: `locales/` + middleware + Makefile commands

---

## ğŸ“ Project Structure

```
bot/
â”œâ”€â”€ handlers/
â”‚   â”œâ”€â”€ users/                # User handlers
â”‚   â”‚   â”œâ”€â”€ commands/         # /start, /help
â”‚   â”‚   â”œâ”€â”€ messages/         # Text, photo messages
â”‚   â”‚   â””â”€â”€ callbacks/        # Callback queries
â”‚   â”œâ”€â”€ admins/              # Admin-only handlers
â”‚   â””â”€â”€ errors/              # Error handlers
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ users/               # User business logic
â”‚   â”œâ”€â”€ admins/              # Admin business logic
â”‚   â””â”€â”€ common/              # Shared services
â”œâ”€â”€ filters/
â”‚   â”œâ”€â”€ users/               # User filters
â”‚   â”œâ”€â”€ admins/              # Admin filters
â”‚   â””â”€â”€ common/              # Shared filters
â”œâ”€â”€ keyboards/
â”‚   â”œâ”€â”€ users/               # User keyboards (OOP)
â”‚   â”œâ”€â”€ admins/              # Admin keyboards
â”‚   â””â”€â”€ common/              # Shared keyboards
â”œâ”€â”€ middlewares/
â”‚   â”œâ”€â”€ users/               # User middlewares
â”‚   â”œâ”€â”€ admins/              # Admin middlewares
â”‚   â””â”€â”€ common/              # Global middlewares
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ models/              # Tortoise ORM models
â”‚   â”œâ”€â”€ crud/                # CRUD operations
â”‚   â”œâ”€â”€ enums/               # Database enums
â”‚   â””â”€â”€ migrations/          # Aerich migrations
â”œâ”€â”€ states/                  # FSM states
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ validators/          # Input validators
â”‚   â”œâ”€â”€ decorators/          # Custom decorators
â”‚   â””â”€â”€ formatters/          # Data formatters
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ handlers/            # Handler tests
â”‚   â”œâ”€â”€ services/            # Service tests
â”‚   â””â”€â”€ conftest.py          # pytest fixtures
â”œâ”€â”€ core/                    # Bot initialization
â”œâ”€â”€ config/                  # Settings & logging
â”œâ”€â”€ locales/                 # i18n translations
â”œâ”€â”€ docker-compose.yml       # Database + Redis
â”œâ”€â”€ Dockerfile               # Bot container
â”œâ”€â”€ Makefile                 # Dev commands
â””â”€â”€ .env.example             # Environment template
```

---

## ğŸ’¡ Quick Examples

### E-commerce Bot
```bash
aiogram-part init-project --with-db --type postgresql
aiogram-part model Product --with-crud
aiogram-part model Order --with-crud
aiogram-part enum OrderStatus --values pending --values paid --values shipped
aiogram-part service --scope user payment
aiogram-part handler user command catalog
aiogram-part keyboard --scope user --build-keyboard inline products --int-params page
aiogram-part filter --scope user --type callback product --str-params action --int-params product_id
aiogram-part test --type handler catalog
```

### Multi-language Bot
```bash
aiogram-part init-project --with-db
aiogram-part i18n
aiogram-part model User --with-crud
aiogram-part state Registration
aiogram-part handler user command start
aiogram-part keyboard --scope common --build-keyboard inline language --int-params user_id
aiogram-part validator phone --type regex
make translate
```

### Admin Panel Bot
```bash
aiogram-part init-project --with-db
aiogram-part filter --scope common --type common admin
aiogram-part handler admin command stats
aiogram-part handler admin command users
aiogram-part service --scope admin analytics
aiogram-part keyboard --scope admin --build-keyboard inline admin_panel
aiogram-part test --type service analytics
```

More examples: [EXAMPLES.md](EXAMPLES.md)

---

## ğŸ› ï¸ Development Workflow

```bash
# Setup
make install          # Install dependencies
make dev             # Install dev tools

# Development
make run             # Run bot locally
make test            # Run tests
aiogram-part check   # Health check
aiogram-part stats   # View project stats

# Database
aiogram-part db update model    # Detect changes
aiogram-part db upgrade         # Apply migrations
aiogram-part db history         # View history

# Production
aiogram-part webhook setup https://bot.example.com
aiogram-part deploy --user botuser
docker-compose up -d
```

---

## ğŸ³ Docker Deployment

```bash
# SQLite (no external database needed)
docker-compose up -d

# PostgreSQL (recommended for production)
aiogram-part init-project --with-db --type postgresql
cp .env.example .env
docker-compose up -d  # Starts bot + postgres + redis

# View logs
docker-compose logs -f bot
```

---

## ğŸ“š Documentation

- ğŸ“– [Full README](README.md) - Complete documentation
- ğŸ’¡ [Examples](EXAMPLES.md) - Real bot examples
- â“ [FAQ](FAQ.md) - Common questionsğŸ“„ License

MIT Â© [Sattorbek](https://github.com/yourusername)

---

## ğŸ”— Links

- ğŸ“¦ [PyPI](https://pypi.org/project/aiogram-part/)
- ğŸ™ [GitHub](https://github.com/sattorproduction/aiogram-part)
- ğŸ“š [Aiogram Docs](https://docs.aiogram.dev/)

---

<div align="center">

**[â­ Star on GitHub](https://github.com/sattorproduction/aiogram-part)** â€¢ **[ğŸ“– Documentation](README.md)** â€¢ **[ğŸ’¡ Examples](EXAMPLES.md)**

Made with â¤ï¸ for aiogram community

</div>
