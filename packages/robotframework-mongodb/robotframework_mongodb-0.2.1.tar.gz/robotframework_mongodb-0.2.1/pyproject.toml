[tool.poetry]
name = "robotframework-mongodb"
version = "0.2.1"
description = "MongoDB test library for Robot Framework."
authors = ["MobyNl <markmoberts@gmail.com>"]
readme = "README.md"
license = "MIT"
repository = "https://github.com/MobyNl/robotframework-mongodblibrary"
homepage = "https://github.com/MobyNl/robotframework-mongodblibrary"
keywords = ["robotframework", "mongodb", "testing", "library"]
classifiers = [
    "Framework :: Robot Framework",
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent"
]
package-mode = true

packages = [
    { include = "MongoDBLibrary" }
]

[tool.poetry.dependencies]
python = ">=3.12,<3.14"
robotframework = "^7.3.2"
robotframework-pythonlibcore = "^4.4.1"
pymongo = "^4.13.2"
robotframework-assertion-engine = "^3.0.3"
pymongo-auth-aws = {version = "^1.3.0", optional = true}

[tool.poetry.dev-dependencies]
robotframework-robocop = "^6.5.1"
robotstatuschecker = "^4.1.1"


[tool.poetry.extras]
aws = ["pymongo-auth-aws"]

[tool.poetry.group.dev.dependencies]
pytest = "^8.4.1"
pytest-mock = "^3.14.1"
ruff = "^0.12.4"
black = "^25.1.0"
pytest-cov = "^6.2.1"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.ruff]
target-version = "py312"

[tool.ruff.lint]
extend-select = ["I"]  # imports
ignore = ["E731"]  # lambda assignment


[tool.ruff.lint.isort]
combine-as-imports = true
order-by-type = false

[tool.isort]
# isort is used after Ruff to sort "normal" imports so that multiline imports use
# the Hanging Grid Grouped mode. Files contained redundant import aliases denoting
# module/package API are excluded. For details about multiline modes see:
# https://pycqa.github.io/isort/docs/configuration/multi_line_output_modes.html
multi_line_output = 5
extend_skip = ["__init__.py", "src/robot/api/parsing.py"]
combine_as_imports = true
order_by_type = false
line_length = 140


[tool.robocop.lint]
ignore = [
    "missing-doc-test-case",
    "missing-doc-suite",
]
configure = [
    "line-too-long.line_length=140",
    "too-many-arguments.max_args=10",
]

[tool.robot]
log-level = "DEBUG"
extend-python-path = ["./atest/resources"]

[tool.robocop.format]
select = [
    "AddMissingEnd",
    "AlignKeywordsSection",
    "AlignSettingsSection",
    "AlignTemplatedTestCases",
    "AlignTestCasesSection",
    "AlignVariablesSection",
    "DiscardEmptySections",
    "IndentNestedKeywords",
    "InlineIf",
    "MergeAndOrderSections",
    "NormalizeAssignments",
    "NormalizeComments",
    "NormalizeNewLines",
    "NormalizeSectionHeaderName",
    "NormalizeSeparators",
    "NormalizeSettingName",
    "NormalizeTags",
    "OrderSettings",
    "OrderSettingsSection",
    "OrderTags",
    "RemoveEmptySettings",
    "RenameKeywords",
    "RenameTestCases",
    "RenameVariables",
    "ReplaceBreakContinue",
    "ReplaceEmptyValues",
    "ReplaceReturns",
    "ReplaceRunKeywordIf",
    "ReplaceWithVAR",
    "SmartSortKeywords",
    "SplitTooLongLine",
]
configure = [
    "AddMissingEnd.enabled=True",
    "AlignKeywordsSection.enabled=True",
    "AlignKeywordsSection.alignment_type=auto",
    "AlignSettingsSection.enabled=True",
    "AlignTemplatedTestCases.enabled=True",
    "AlignTestCasesSection.enabled=True",
    "AlignTestCasesSection.alignment_type=auto",
    "AlignVariablesSection.enabled=True",
    "DiscardEmptySections.enabled=True",
    "IndentNestedKeywords.enabled=True",
    "InlineIf.enabled=True",
    "MergeAndOrderSections.enabled=True",
    "NormalizeAssignments.enabled=True",
    "NormalizeAssignments.equal_sign_type_variables=remove",
    "NormalizeAssignments.equal_sign_type=remove",
    "NormalizeComments.enabled=True",
    "NormalizeNewLines.enabled=True",
    "NormalizeSectionHeaderName.enabled=True",
    "NormalizeSeparators.enabled=True",
    "NormalizeSettingName.enabled=True",
    "NormalizeTags.enabled=True",
    "OrderSettings.enabled=True",
    "OrderSettingsSection.enabled=True",
    "OrderSettingsSection.imports_order=library,resource,variables",
    "OrderTags.enabled=True",
    "RemoveEmptySettings.enabled=True",
    "RenameKeywords.enabled=True",
    "RenameTestCases.enabled=True",
    "RenameTestCases.capitalize_each_word=True",
    "RenameVariables.enabled=True",
    "RenameVariables.settings_section_case=upper",
    "RenameVariables.variables_section_case=upper",
    "RenameVariables.unknown_variables_case=upper",
    "ReplaceBreakContinue.enabled=True",
    "ReplaceEmptyValues.enabled=True",
    "ReplaceReturns.enabled=True",
    "ReplaceRunKeywordIf.enabled=True",
    "ReplaceWithVAR.enabled=True",
    "SmartSortKeywords.enabled=True",
    "SplitTooLongLine.enabled=True",
    "SplitTooLongLine.line_length=140",
]
