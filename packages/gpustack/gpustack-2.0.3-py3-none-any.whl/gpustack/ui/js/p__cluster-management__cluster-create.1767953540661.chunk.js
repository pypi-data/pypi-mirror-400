"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[304],{3453:function(e,t,n){n.d(t,{$R:function(){return b},QR:function(){return g}});var i,r=n(67825),o=n.n(r),a=n(26068),l=n.n(a),c=n(53649),s=n.n(c),u=n(2825),d=n(25408),p=n(75271),m=n(67585),f=n(52676),v=["styles"],h=m.ZP.div(i||(i=s()(["\n  max-height: ",";\n  overflow-y: auto;\n  width: 100%;\n"])),(function(e){var t=e.$maxHeight;return"number"==typeof t?"".concat(t,"px"):t})),g=function(e){var t=e.children,n=e.maxHeight,i=e.scrollbars,r=e.oppositeTheme,o=e.style,a=e.onScroll,c=p.useRef(null),s=(0,u.Z)({options:{scrollbars:i,oppositeTheme:r}}).initialize;return p.useEffect((function(){c.current&&s(c.current)}),[]),(0,f.jsx)(h,{ref:c,"data-overlayscrollbars-initialize":!0,className:"overlay-scroller-wrapper",$maxHeight:n||200,hidden:!1,onWheel:a,style:l()({paddingInlineStart:8,paddingInlineEnd:8},o),children:t})},b=function(e){var t=e.children,n=e.maxHeight,i=e.title,r=e.toolTipProps,a=e.scrollbars,c=e.oppositeTheme,s=r||{},u=s.styles,p=o()(s,v);return(0,f.jsx)(d.Z,l()(l()({styles:l()(l()({},u),{},{body:l()({paddingInline:0},null==u?void 0:u.body)}),title:i&&(0,f.jsx)(g,{scrollbars:l()(l()({},a),{},{theme:"os-theme-light"}),maxHeight:n,oppositeTheme:c,children:i})},p),{},{children:t}))};t.ZP=g},3108:function(e,t,n){n.d(t,{f:function(){return g},Z:function(){return b}});var i=n(91780),r=n(83843),o=n(17114),a=n(38913),l=n(67618),c=n(37565),s=n(53231),u=n(18843),d=n(79635),p=n(97014),m=n(75271),f=n(88256),v=n(52676),h=function(e){var t=e.left,n=e.right,i=e.marginBottom,r=void 0===i?0:i,o=e.marginTop,a=void 0===o?30:o,l=e.style,c=(0,m.useMemo)((function(){var e={};return e.marginBottom="".concat(r,"px"),e.marginTop="".concat(a,"px"),l&&Object.assign(e,l),e}),[r,a,l]);return(0,v.jsxs)("div",{className:"page-tools",style:c,children:[(0,v.jsx)("div",{className:"left",children:t}),(0,v.jsx)("div",{className:"right",children:n})]})},g=function(e){var t=e.handleInputChange,n=e.handleSelectChange,g=e.handleSearch,b=e.handleDeleteByBatch,$=void 0===b?null:b,S=e.handleClickPrimary,x=void 0===S?null:S,w=e.rowSelection,C=e.actionItems,y=void 0===C?[]:C,k=e.selectOptions,I=e.showSelect,T=e.buttonText,j=e.buttonIcon,E=e.actionType,Z=void 0===E?"button":E,_=e.marginBottom,z=void 0===_?10:_,P=(e.marginTop,e.inputHolder),R=e.selectHolder,D=e.right,M=(e.left,e.width),q=(0,s.useIntl)(),A=(0,m.useMemo)((function(){var e,t,n,l;return x||$?(0,v.jsxs)(u.Z,{size:20,children:[x?"dropdown"===Z?(0,v.jsx)(i.Z,{menu:{items:y,onClick:x},children:(0,v.jsx)(d.ZP,{icon:(0,v.jsx)(r.Z,{}),type:"primary",iconPosition:"end",children:T})}):(0,v.jsx)(d.ZP,{icon:null!=j?j:(0,v.jsx)(o.Z,{}),type:"primary",onClick:x,children:T}):null,$&&(0,v.jsx)(d.ZP,{icon:(0,v.jsx)(a.Z,{}),danger:!0,onClick:$,disabled:!(null!=w&&null!==(e=w.selectedRowKeys)&&void 0!==e&&e.length),children:(0,v.jsxs)("span",{children:[null==q||null===(t=q.formatMessage)||void 0===t?void 0:t.call(q,{id:"common.button.delete"}),(null==w||null===(n=w.selectedRowKeys)||void 0===n?void 0:n.length)>0&&(0,v.jsxs)("span",{children:["(",null==w||null===(l=w.selectedRowKeys)||void 0===l?void 0:l.length,")"]})]})})]}):null}),[y,Z,null==w?void 0:w.selectedRowKeys,x,q]);return(0,v.jsx)(h,{marginBottom:z,marginTop:0,left:(0,v.jsxs)(u.Z,{children:[(0,v.jsx)(p.Z,{prefix:(0,v.jsx)(l.Z,{style:{color:"var(--ant-color-text-placeholder)"}}),placeholder:P||q.formatMessage({id:"common.filter.name"}),style:{width:(null==M?void 0:M.input)||230},allowClear:!0,onChange:t}),I&&(0,v.jsx)(f.Z,{allowClear:!0,showSearch:!1,placeholder:R,style:{width:(null==M?void 0:M.select)||230},size:"large",onChange:n,options:k}),(0,v.jsx)(d.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:g,icon:(0,v.jsx)(c.Z,{})})]}),right:D||A})},b=h},7147:function(e,t,n){n.d(t,{$i:function(){return b},ZP:function(){return S}});var i=n(90228),r=n.n(i),o=n(26068),a=n.n(o),l=n(87999),c=n.n(l),s=n(48305),u=n.n(s);window.__GPUSTACK_WATCH_REQUEST_CLEAR__={watchIDValue:0,requestList:[]};var d=function(e){for(var t=window.__GPUSTACK_WATCH_REQUEST_CLEAR__.requestList,n=0;n<e;n++){var i,r,o;null===(i=t[n])||void 0===i||null===(r=(o=i).cancel)||void 0===r||r.call(o)}window.__GPUSTACK_WATCH_REQUEST_CLEAR__.requestList=t.slice(e)},p=n(91315),m=n(53231),f=n(88467),v=n(32699),h=n.n(v),g=n(75271),b=function(){return f.Z.CancelToken.source()},$=function(e,t,n){var i=e.slice(n.current);return n.current=t,i},S=function(){var e=window.__GPUSTACK_WATCH_REQUEST_CLEAR__.requestList,t=(0,g.useState)(3),i=u()(t,2),o=i[0],l=i[1],s=(0,g.useRef)(null),v=(0,g.useRef)({}),b=(0,g.useRef)(0),S=(0,g.useRef)(0),x=(0,g.useRef)(5),w={params:{},contentType:"json"},C=(0,g.useRef)(null),y=(0,g.useRef)(0),k=(0,g.useRef)(null),I=function(){b.current=0,S.current=0,y.current=0,l(3)},T=function(){var e=f.Z.CancelToken.source(),t=(window.__GPUSTACK_WATCH_REQUEST_CLEAR__.watchIDValue=window.__GPUSTACK_WATCH_REQUEST_CLEAR__.watchIDValue+1,window.__GPUSTACK_WATCH_REQUEST_CLEAR__.watchIDValue);return{id:t,token:e.token,cancel:function(){var n,i;e.cancel(),n=t,i=window.__GPUSTACK_WATCH_REQUEST_CLEAR__.requestList.filter((function(e){return e.id!==n})),window.__GPUSTACK_WATCH_REQUEST_CLEAR__.requestList=i}}},j=function(e){return h().map(e,(function(e){var t;e.type===p._W.DELETE&&(e.ids=null!==(t=e.data)&&void 0!==t&&t.id?[e.data.id]:[]);return e.collection=e.data?[e.data]:[],e}))},E=function(){var t=c()(r()().mark((function t(i){var o,u,p,v,h,g,w,C,E,Z,_;return r()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=i.url,v=i.handler,i.beforeReconnect,h=i.params,g=void 0===h?{}:h,w=i.contentType,C=void 0===w?"json":w,I(),null===(o=s.current)||void 0===o||null===(u=o.cancel)||void 0===u||u.call(o),s.current=T(),z=s.current,window.__GPUSTACK_WATCH_REQUEST_CLEAR__.requestList.push(z),e.length>=4&&d(e.length-4||1),"json"===C&&(null===(E=k.current)||void 0===E||E.terminate(),k.current=new Worker(new URL(n.p+n.u(8955),n.b)),k.current.onmessage=function(e){var t=e.data;if(t.length>0){var n=j(t);v(n)}}),t.prev=7,t.next=10,(0,m.request)(p,{params:a()(a()({},g),{},{watch:!0}),skipErrorHandler:!0,getResponse:!0,cancelToken:s.current.token,onDownloadProgress:function(e){return c()(r()().mark((function t(){var n,i,o,a;return r()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.currentTarget,i=n.response,o=n.readyState,l(o),b.current=e.loaded||0,S.current=e.total||0,"json"===C?(a=$(i,e.loaded,y),k.current.postMessage(a)):v(i);case 5:case"end":return t.stop()}}),t)})))()}});case 10:Z=t.sent,_=Z.request,l(null==_?void 0:_.readyState),x.current>0&&(x.current-=1),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(7),f.Z.isCancel(t.t0)||(l(4),x.current>0&&(x.current-=1));case 19:return t.abrupt("return",s.current);case 20:case"end":return t.stop()}var z}),t,null,[[7,16]])})));return function(e){return t.apply(this,arguments)}}();return(0,g.useEffect)((function(){var e=function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.cancel)||void 0===t||t.call(e)};return window.addEventListener("beforeunload",e),function(){var t,n;I(),v.current.beforeReconnect=null,null===(t=s.current)||void 0===t||null===(n=t.cancel)||void 0===n||n.call(t),clearTimeout(C.current),window.removeEventListener("beforeunload",e)}}),[]),(0,g.useEffect)((function(){var e,t;4===o&&x.current>0&&(null===(e=(t=v.current).beforeReconnect)||void 0===e||e.call(t),clearTimeout(C.current),C.current=setTimeout((function(){E(v.current)}),1e3*Math.pow(2,5-x.current)))}),[o]),{setChunkRequest:function(e){return v.current=a()(a()({},w),e),x.current=5,clearTimeout(C.current),E(v.current),s},createAxiosToken:T}}},69547:function(e,t,n){var i=n(26068),r=n.n(i),o=n(15558),a=n.n(o),l=n(91315),c=n(75271);t.Z=function(e){var t=e.events,n=void 0===t?["CREATE","DELETE","UPDATE","INSERT"]:t,i=(0,c.useRef)(new Set),o=(0,c.useRef)(e.dataList||[]),s=(0,c.useRef)(null),u=e.limit||10;return(0,c.useEffect)((function(){o.current=a()(e.dataList||[])}),[e.dataList]),{updateChunkedList:function(t){var c,d,p,m=(null==t?void 0:t.collection)||[];null!=e&&e.computedID&&(m=null===(c=m)||void 0===c?void 0:c.map((function(t){var n;return t.id=null==e||null===(n=e.computedID)||void 0===n?void 0:n.call(e,t),t})));null!=e&&e.filterFun&&(m=null==t||null===(d=t.collection)||void 0===d?void 0:d.filter(null==e?void 0:e.filterFun));null!=e&&e.mapFun&&(m=null==t||null===(p=t.collection)||void 0===p?void 0:p.map(null==e?void 0:e.mapFun));var f,v,h,g=(null==t?void 0:t.ids)||[];if((null==t?void 0:t.type)===l._W.CREATE&&n.includes("CREATE")){var b,$=m.reduce((function(e,t){var n,i=null===(n=o.current)||void 0===n?void 0:n.findIndex((function(e){return e.id===t.id})),a=r()({},t);return-1===i?e.push(a):o.current[i]=a,e}),[]);o.current=[].concat(a()($),a()(o.current)).slice(0,u),null===(b=e.onCreate)||void 0===b||b.call(e,$)}(null==t?void 0:t.type)===l._W.DELETE&&n.includes("DELETE")&&(o.current=null===(f=o.current)||void 0===f?void 0:f.filter((function(e){return!(null!=g&&g.includes(e.id))})),function(e){i.current=new Set([].concat(a()(i.current),a()(e)))}(g),null===(v=e.setDataList)||void 0===v||v.call(e,a()(o.current),{deletedIds:a()(i.current)}));(null==t?void 0:t.type)===l._W.UPDATE&&n.includes("UPDATE")&&(null===(h=m)||void 0===h||h.forEach((function(t){var i,l=null===(i=o.current)||void 0===i?void 0:i.findIndex((function(e){return e.id===t.id})),c=r()({},t);if(l>-1)o.current[l]=c;else if(-1===l&&n.includes("INSERT")){var s;o.current=[c].concat(a()(o.current.slice(0,u-1))),null===(s=e.onCreate)||void 0===s||s.call(e,[c])}})));clearTimeout(s.current),s.current=setTimeout((function(){var t;null===(t=e.setDataList)||void 0===t||t.call(e,a()(o.current))}),200),null!=e&&e.callback&&(null==e||e.callback(o.current))},cacheDataListRef:o,deletedIdsRef:i}}},17488:function(e,t,n){var i,r=n(53649),o=n.n(r),a=n(92829),l=n(84825),c=(n(75271),n(67585)),s=n(52676),u=(0,c.ZP)(l.Z)(i||(i=o()(["\n  .ant-breadcrumb-link {\n    font-size: 16px;\n    font-weight: 500;\n    a {\n      background: unset;\n    }\n  }\n  .ant-breadcrumb-separator {\n    display: flex;\n    align-items: center;\n  }\n"])));t.Z=function(e){var t=e.items;return(0,s.jsx)(u,{separator:(0,s.jsx)(a.Z,{type:"icon-down2",rotate:-90}),items:t})}},32721:function(e,t,n){n.r(t),n.d(t,{default:function(){return ft}});var i=n(31759),r=n.n(i),o=n(90228),a=n.n(o),l=n(15558),c=n.n(l),s=n(335),u=n.n(s),d=n(87999),p=n.n(d),m=n(26068),f=n.n(m),v=n(82092),h=n.n(v),g=n(48305),b=n.n(g),$=n(53649),S=n.n($),x=n(32914),w=n(91315),C=n(17488),y=n(53231),k=n(26447),I=n(32699),T=n.n(I),j=n(75271),E=n(67585),Z=n(94213),_=n(92047),z=n(21433),P=n(89633),R=n(15409),D=n(82187),M=n.n(D),q=n(24965),A=n(82983),H=n(70840),W=n(97019),O=n(28114),N=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function L(e){return"string"==typeof e}var B=function(e){var t,n=e.className,i=e.prefixCls,r=e.style,o=e.active,a=e.status,l=e.iconPrefix,c=e.icon,s=(e.wrapperStyle,e.stepNumber),u=e.disabled,d=e.description,p=e.title,m=e.subTitle,f=e.progressDot,v=e.stepIcon,h=e.tailContent,g=e.icons,b=e.stepIndex,$=e.onStepClick,S=e.onClick,x=e.render,w=(0,W.Z)(e,N),C={};!!$&&!u&&(C.role="button",C.tabIndex=0,C.onClick=function(e){null==S||S(e),$(b)},C.onKeyDown=function(e){var t=e.which;t!==O.Z.ENTER&&t!==O.Z.SPACE||$(b)});var y,k,I,T,E=a||"wait",Z=M()("".concat(i,"-item"),"".concat(i,"-item-").concat(E),n,(t={},(0,H.Z)(t,"".concat(i,"-item-custom"),c),(0,H.Z)(t,"".concat(i,"-item-active"),o),(0,H.Z)(t,"".concat(i,"-item-disabled"),!0===u),t)),_=(0,A.Z)({},r),z=j.createElement("div",(0,q.Z)({},w,{className:Z,style:_}),j.createElement("div",(0,q.Z)({onClick:S},C,{className:"".concat(i,"-item-container")}),j.createElement("div",{className:"".concat(i,"-item-tail")},h),j.createElement("div",{className:"".concat(i,"-item-icon")},(I=M()("".concat(i,"-icon"),"".concat(l,"icon"),(y={},(0,H.Z)(y,"".concat(l,"icon-").concat(c),c&&L(c)),(0,H.Z)(y,"".concat(l,"icon-check"),!c&&"finish"===a&&(g&&!g.finish||!g)),(0,H.Z)(y,"".concat(l,"icon-cross"),!c&&"error"===a&&(g&&!g.error||!g)),y)),T=j.createElement("span",{className:"".concat(i,"-icon-dot")}),k=f?"function"==typeof f?j.createElement("span",{className:"".concat(i,"-icon")},f(T,{index:s-1,status:a,title:p,description:d})):j.createElement("span",{className:"".concat(i,"-icon")},T):c&&!L(c)?j.createElement("span",{className:"".concat(i,"-icon")},c):g&&g.finish&&"finish"===a?j.createElement("span",{className:"".concat(i,"-icon")},g.finish):g&&g.error&&"error"===a?j.createElement("span",{className:"".concat(i,"-icon")},g.error):c||"finish"===a||"error"===a?j.createElement("span",{className:I}):j.createElement("span",{className:"".concat(i,"-icon")},s),v&&(k=v({index:s-1,status:a,title:p,description:d,node:k})),k)),j.createElement("div",{className:"".concat(i,"-item-content")},j.createElement("div",{className:"".concat(i,"-item-title")},p,m&&j.createElement("div",{title:"string"==typeof m?m:void 0,className:"".concat(i,"-item-subtitle")},m)),d&&j.createElement("div",{className:"".concat(i,"-item-description")},d))));return x&&(z=x(z)||null),z},F=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function X(e){var t,n=e.prefixCls,i=void 0===n?"rc-steps":n,r=e.style,o=void 0===r?{}:r,a=e.className,l=(e.children,e.direction),c=void 0===l?"horizontal":l,s=e.type,u=void 0===s?"default":s,d=e.labelPlacement,p=void 0===d?"horizontal":d,m=e.iconPrefix,f=void 0===m?"rc":m,v=e.status,h=void 0===v?"process":v,g=e.size,b=e.current,$=void 0===b?0:b,S=e.progressDot,x=void 0!==S&&S,w=e.stepIcon,C=e.initial,y=void 0===C?0:C,k=e.icons,I=e.onChange,T=e.itemRender,E=e.items,Z=void 0===E?[]:E,_=(0,W.Z)(e,F),z="navigation"===u,P="inline"===u,R=P||x,D=P?"horizontal":c,O=P?void 0:g,N=R?"vertical":p,L=M()(i,"".concat(i,"-").concat(D),a,(t={},(0,H.Z)(t,"".concat(i,"-").concat(O),O),(0,H.Z)(t,"".concat(i,"-label-").concat(N),"horizontal"===D),(0,H.Z)(t,"".concat(i,"-dot"),!!R),(0,H.Z)(t,"".concat(i,"-navigation"),z),(0,H.Z)(t,"".concat(i,"-inline"),P),t)),X=function(e){I&&$!==e&&I(e)};return j.createElement("div",(0,q.Z)({className:L,style:o},_),Z.filter((function(e){return e})).map((function(e,t){var n=(0,A.Z)({},e),r=y+t;return"error"===h&&t===$-1&&(n.className="".concat(i,"-next-error")),n.status||(n.status=r===$?h:r<$?"finish":"wait"),P&&(n.icon=void 0,n.subTitle=void 0),!n.render&&T&&(n.render=function(e){return T(n,e)}),j.createElement(B,(0,q.Z)({},n,{active:r===$,stepNumber:r+1,stepIndex:r,key:r,prefixCls:i,iconPrefix:f,wrapperStyle:o,progressDot:R,stepIcon:w,icons:k,onStepClick:I&&X}))})))}X.Step=B;var U=X,K=n(54198),G=n(10664),Q=n(70354),V=n(2325),Y=n(25408),J=n(54359),ee=n(72850),te=n(45577),ne=n(84458);var ie=e=>{const{componentCls:t,customIconTop:n,customIconSize:i,customIconFontSize:r}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:n,width:i,height:i,fontSize:r,lineHeight:(0,J.bf)(i)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}};var re=e=>{const{componentCls:t}=e;return{[`${t}-horizontal`]:{[`${`${t}-item`}-tail`]:{transform:"translateY(-50%)"}}}};var oe=e=>{const{componentCls:t,inlineDotSize:n,inlineTitleColor:i,inlineTailColor:r}=e,o=e.calc(e.paddingXS).add(e.lineWidth).equal(),a={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:i}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${(0,J.bf)(o)} ${(0,J.bf)(e.paddingXXS)} 0`,margin:`0 ${(0,J.bf)(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${(0,J.bf)(e.calc(n).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:i,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(n).div(2).add(o).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:r}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${r}`}},a),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:r},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:r,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${r}`}},a),"&-error":a,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${(0,J.bf)(e.calc(n).div(2).equal())})`,top:0}},a),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:i}}}}}};var ae=e=>{const{componentCls:t,iconSize:n,lineHeight:i,iconSizeSM:r}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(n).div(2).add(e.controlHeightLG).equal(),padding:`0 ${(0,J.bf)(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(n).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:i}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(n).sub(r).div(2).add(e.controlHeightLG).equal()}}}}}};var le=e=>{const{componentCls:t,navContentMaxWidth:n,navArrowColor:i,stepsNavActiveColor:r,motionDurationSlow:o}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${o}`,[`${t}-item-content`]:{maxWidth:n},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},ee.vS),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${(0,J.bf)(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${i}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${i}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:r,transition:`width ${o}, inset-inline-start ${o}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${(0,J.bf)(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}};var ce=e=>{const{antCls:t,componentCls:n,iconSize:i,iconSizeSM:r,processIconColor:o,marginXXS:a,lineWidthBold:l,lineWidth:c,paddingXXS:s}=e,u=e.calc(i).add(e.calc(l).mul(4).equal()).equal(),d=e.calc(r).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:s,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:o}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:s,[`> ${n}-item-container > ${n}-item-tail`]:{top:a,insetInlineStart:e.calc(i).div(2).sub(c).add(s).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:s,paddingInlineStart:s}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:e.calc(r).div(2).sub(c).add(s).equal()},[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(i).div(2).add(s).equal()},[`${n}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${(0,J.bf)(u)} !important`,height:`${(0,J.bf)(u)} !important`}}},[`&${n}-small`]:{[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(r).div(2).add(s).equal()},[`${n}-item-icon ${t}-progress-inner`]:{width:`${(0,J.bf)(d)} !important`,height:`${(0,J.bf)(d)} !important`}}}}};var se=e=>{const{componentCls:t,descriptionMaxWidth:n,lineHeight:i,dotCurrentSize:r,dotSize:o,motionDurationSlow:a}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:i},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${(0,J.bf)(e.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${(0,J.bf)(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:o,height:o,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(o).div(2).equal(),paddingInlineEnd:0,lineHeight:(0,J.bf)(o),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${a}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(o).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(o).sub(r).div(2).equal(),width:r,height:r,lineHeight:(0,J.bf)(r),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(r).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(o).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(r).div(2).equal(),top:0,insetInlineStart:e.calc(o).sub(r).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(o).div(2).equal(),insetInlineStart:0,margin:0,padding:`${(0,J.bf)(e.calc(o).add(e.paddingXS).equal())} 0 ${(0,J.bf)(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(o).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(o).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(r).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(o).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}};var ue=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}};var de=e=>{const{componentCls:t,iconSizeSM:n,fontSizeSM:i,fontSize:r,colorTextDescription:o}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${(0,J.bf)(e.marginXS)}`,fontSize:i,lineHeight:(0,J.bf)(n),textAlign:"center",borderRadius:n},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:r,lineHeight:(0,J.bf)(n),"&::after":{top:e.calc(n).div(2).equal()}},[`${t}-item-description`]:{color:o,fontSize:r},[`${t}-item-tail`]:{top:e.calc(n).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:n,lineHeight:(0,J.bf)(n),transform:"none"}}}}};var pe=e=>{const{componentCls:t,iconSizeSM:n,iconSize:i}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:(0,J.bf)(i)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(i).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).add(i).equal())} 0 ${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(n).div(2).sub(e.lineWidth).equal(),padding:`${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).add(n).equal())} 0 ${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:(0,J.bf)(n)}}}}};const me=(e,t)=>{const n=`${t.componentCls}-item`,i=`${e}IconColor`,r=`${e}TitleColor`,o=`${e}DescriptionColor`,a=`${e}TailColor`,l=`${e}IconBorderColor`,c=`${e}DotColor`;return{[`${n}-${e} ${n}-icon`]:{backgroundColor:t[`${e}IconBgColor`],borderColor:t[l],[`> ${t.componentCls}-icon`]:{color:t[i],[`${t.componentCls}-icon-dot`]:{background:t[c]}}},[`${n}-${e}${n}-custom ${n}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[c]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-title`]:{color:t[r],"&::after":{backgroundColor:t[a]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-description`]:{color:t[o]},[`${n}-${e} > ${n}-container > ${n}-tail::after`]:{backgroundColor:t[a]}}},fe=e=>{const{componentCls:t,motionDurationSlow:n}=e,i=`${t}-item`,r=`${i}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[i]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${i}-container > ${i}-tail, > ${i}-container >  ${i}-content > ${i}-title::after`]:{display:"none"}}},[`${i}-container`]:{outline:"none","&:focus-visible":{[r]:Object.assign({},(0,ee.oN)(e))}},[`${r}, ${i}-content`]:{display:"inline-block",verticalAlign:"top"},[r]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:(0,J.bf)(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${i}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${n}`,content:'""'}},[`${i}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:(0,J.bf)(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${i}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${i}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},me("wait",e)),me("process",e)),{[`${i}-process > ${i}-container > ${i}-title`]:{fontWeight:e.fontWeightStrong}}),me("finish",e)),me("error",e)),{[`${i}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${i}-disabled`]:{cursor:"not-allowed"}})},ve=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},he=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,ee.Wf)(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),fe(e)),ve(e)),ie(e)),de(e)),pe(e)),re(e)),ae(e)),se(e)),le(e)),ue(e)),ce(e)),oe(e))}};var ge=(0,te.I$)("Steps",(e=>{const{colorTextDisabled:t,controlHeightLG:n,colorTextLightSolid:i,colorText:r,colorPrimary:o,colorTextDescription:a,colorTextQuaternary:l,colorError:c,colorBorderSecondary:s,colorSplit:u}=e,d=(0,ne.IX)(e,{processIconColor:i,processTitleColor:r,processDescriptionColor:r,processIconBgColor:o,processIconBorderColor:o,processDotColor:o,processTailColor:u,waitTitleColor:a,waitDescriptionColor:a,waitTailColor:u,waitDotColor:t,finishIconColor:o,finishTitleColor:r,finishDescriptionColor:a,finishTailColor:o,finishDotColor:o,errorIconColor:i,errorTitleColor:c,errorDescriptionColor:c,errorTailColor:u,errorIconBgColor:c,errorIconBorderColor:c,errorDotColor:c,stepsNavActiveColor:o,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:l,inlineTailColor:s});return[he(d)]}),(e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"unset",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}))),be=n(27727);var $e=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const Se=e=>{const{percent:t,size:n,className:i,rootClassName:r,direction:o,items:a,responsive:l=!0,current:c=0,children:s,style:u}=e,d=$e(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:p}=(0,Q.Z)(l),{getPrefixCls:m,direction:f,className:v,style:h}=(0,K.dj)("steps"),g=j.useMemo((()=>l&&p?"vertical":o),[p,o]),b=(0,G.Z)(n),$=m("steps",e.prefixCls),[S,x,w]=ge($),C="inline"===e.type,y=m("",e.iconPrefix),k=function(e,t){return e||function(e){return e.filter((e=>e))}((0,be.Z)(t).map((e=>{if(j.isValidElement(e)){const{props:t}=e;return Object.assign({},t)}return null})))}(a,s),I=C?void 0:t,T=Object.assign(Object.assign({},h),u),E=M()(v,{[`${$}-rtl`]:"rtl"===f,[`${$}-with-progress`]:void 0!==I},i,r,x,w),Z={finish:j.createElement(P.Z,{className:`${$}-finish-icon`}),error:j.createElement(R.Z,{className:`${$}-error-icon`})};return S(j.createElement(U,Object.assign({icons:Z},d,{style:T,current:c,size:b,items:k,itemRender:C?(e,t)=>e.description?j.createElement(Y.Z,{title:e.description},t):t:void 0,stepIcon:({node:e,status:t})=>{if("process"===t&&void 0!==I){const t="small"===b?32:40;return j.createElement("div",{className:`${$}-progress-icon`},j.createElement(V.Z,{type:"circle",percent:I,size:t,strokeWidth:4,format:()=>null}),e)}return e},direction:g,prefixCls:$,iconPrefix:y,className:E})))};Se.Step=U.Step;var xe,we,Ce=Se,ye=n(52676),ke=Ce.Step,Ie=E.ZP.div(xe||(xe=S()(["\n  width: min(1200px, 100%);\n  margin: 0 auto;\n  padding-block: 30px;\n  background-color: var(--ant-color-bg-container);\n  .ant-steps-item-description {\n    max-width: 300px !important;\n    color: var(--ant-color-text-description) !important;\n  }\n"]))),Te=function(e){var t=e.steps,n=e.currentStep,i=e.onChange;return(0,ye.jsx)(Ie,{children:(0,ye.jsx)(Ce,{current:n,size:"small",onChange:i,progressDot:!0,children:t.map((function(e){return(0,ye.jsx)(ke,{title:e.title,description:e.content},e.title)}))})})},je=n(30627),Ee=n(3923),Ze=n(79635),_e=E.ZP.span(we||(we=S()(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  font-weight: 700;\n  font-size: 16px;\n  padding-inline: 24px;\n  .text {\n    font-size: 20px;\n  }\n"]))),ze=function(e){var t=e.onPrevious,n=e.onNext,i=e.handleCancel,r=e.handleSubmit,o=e.showButtons,a=e.loading,l=(0,y.useIntl)();return(0,ye.jsx)(_e,{style:{height:64},children:(0,ye.jsxs)("div",{className:"flex-center gap-16",children:[o.previous&&(0,ye.jsx)(Ze.ZP,{type:"link",icon:(0,ye.jsx)(je.Z,{}),onClick:t,children:l.formatMessage({id:"common.button.prev"})}),o.next&&(0,ye.jsxs)(Ze.ZP,{type:"link",onClick:function(){n()},children:[l.formatMessage({id:"common.button.next"}),(0,ye.jsx)(Ee.Z,{})]}),o.skip&&(0,ye.jsx)(Ze.ZP,{type:"primary",onClick:i,children:l.formatMessage({id:"common.button.done"})}),o.save&&(0,ye.jsx)(Ze.ZP,{type:"primary",onClick:r,style:{minWidth:88},loading:a,children:l.formatMessage({id:"common.button.save"})})]})})},Pe=n(66374),Re=n(73940),De=n(10939),Me=[{label:"Docker",locale:!1,value:Re.dC.Docker,key:Re.dC.Docker,icon:j.cloneElement(De.Z.DockerOutlined,{style:{color:"var(--ant-blue-6)"}}),group:"clusters.create.provider.self"},{label:"Kubernetes",locale:!1,value:Re.dC.Kubernetes,key:Re.dC.Kubernetes,icon:j.cloneElement(De.Z.KubernetesFilled,{style:{color:"var(--ant-blue-6)"}}),group:"clusters.create.provider.self"},{label:"DigitalOcean",locale:!1,value:Re.dC.DigitalOcean,key:Re.dC.DigitalOcean,icon:j.cloneElement(De.Z.DigitalOcean,{style:{color:"var(--ant-blue-6)"}}),group:"clusters.create.provider.cloud"},{label:"AWS",locale:!1,disabled:!0,value:Re.dC.AWS,key:Re.dC.AWS,icon:De.Z.AWS,description:"cluster.provider.comingsoon",group:"clusters.create.provider.cloud"},{label:"Alibaba Cloud",locale:!1,disabled:!0,value:Re.dC.AliCloud,key:Re.dC.AliCloud,icon:De.Z.AliCloud,description:"cluster.provider.comingsoon",group:"clusters.create.provider.cloud"}],qe=n(66263);var Ae,He,We,Oe,Ne,Le,Be=n(51349),Fe=n(3108),Xe=n(31246),Ue=E.ZP.span(Ae||(Ae=S()(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 700;\n  font-size: 16px;\n  .text {\n    font-size: 20px;\n  }\n"]))),Ke=(0,j.forwardRef)((function(e,t){var n=(0,y.useIntl)(),i=e.provider,r=e.credentialList,o=e.action,a=e.currentData,l=(0,j.useRef)(null);return(0,j.useImperativeHandle)(t,(function(){var e,t,n;return{validateFields:null===(e=l.current)||void 0===e?void 0:e.validateFields,getFieldsValue:null===(t=l.current)||void 0===t?void 0:t.getFieldsValue,submit:null===(n=l.current)||void 0===n?void 0:n.submit}})),(0,ye.jsxs)("div",{children:[(0,ye.jsx)(Fe.Z,{marginBottom:16,left:(0,ye.jsx)(Ue,{children:n.formatMessage({id:"clusters.create.configBasic"})}),marginTop:0}),(0,ye.jsx)(Xe.Z,{provider:i,action:o,ref:l,credentialList:r,onFinish:function(e){},currentData:a})]})})),Ge=n(67825),Qe=n.n(Ge),Ve=n(53795),Ye=n.n(Ve),Je=n(17114),et=n(29032),tt=E.ZP.div(He||(He=S()(["\n  display: flex;\n  align-items: flex-start;\n  gap: 16px;\n"]))),nt=E.ZP.div(We||(We=S()(["\n  flex: 1;\n  margin-bottom: 16px;\n"]))),it=E.ZP.span(Oe||(Oe=S()(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 700;\n  font-size: 16px;\n  .text {\n    font-size: 20px;\n  }\n"]))),rt=(0,j.forwardRef)((function(e,t){var n=(0,y.useIntl)(),i=e.provider,r=e.action,o=e.currentData,l=(0,j.useRef)(0),c=(0,j.useRef)({}),s=(0,j.useState)(new Set([0])),u=b()(s,2),d=u[0],m=u[1],f=(0,j.useState)(new Map([[0,{name:"Pool-1"}]])),v=b()(f,2),h=v[0],g=v[1],$=function(e){},S=function(e){return e.map((function(e){return"fulfilled"===e.status?e.value:"rejected"===e.status&&(null===(t=e.reason)||void 0===t?void 0:t.values)||{};var t})).filter((function(e){return e}))},x=function(){var e=p()(a()().mark((function e(){var t,n,i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(Object.values(c.current)).map((function(e){return null==e?void 0:e.validateFields()})),e.next=3,Promise.allSettled(t);case 3:if(n=e.sent,-1===(i=n.findIndex((function(e){return"rejected"===e.status})))){e.next=8;break}return m((function(){return new Set([i])})),e.abrupt("return",Promise.reject({values:{worker_pools:S(n)}}));case 8:return e.abrupt("return",Promise.resolve({worker_pools:S(n)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){return{worker_pools:Object.values(c.current).map((function(e){return null==e?void 0:e.getFieldsValue()}))}};return(0,j.useImperativeHandle)(t,(function(){return{submit:function(){},validateFields:x,getFieldsValue:w}})),(0,j.useEffect)((function(){var e;o&&(e=(o.worker_pools||[]).map((function(e,t){return[t,e]})),g(new Map(e)))}),[o]),(0,ye.jsxs)("div",{children:[(0,ye.jsx)(Fe.Z,{marginBottom:22,marginTop:0,left:(0,ye.jsx)("span",{className:"flex-center gap-16",children:(0,ye.jsx)(it,{children:n.formatMessage({id:"clusters.workerpool.title"})})}),right:(0,ye.jsx)(Ze.ZP,{onClick:function(){var e=(l.current+=1,l.current);g((function(t){return new Map(t).set(e,{name:"Pool-".concat(e+1)})})),requestAnimationFrame((function(){m((function(t){return new Set([e])})),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}))},variant:"filled",color:"default",icon:(0,ye.jsx)(Je.Z,{}),children:n.formatMessage({id:"clusters.button.addNodePool"})})}),Array.from(h.keys()).map((function(e,t){return(0,ye.jsx)(tt,{children:(0,ye.jsx)(nt,{children:(0,ye.jsx)(et.Z,{name:"workerPoolForm_".concat(e),action:r,ref:function(t){t&&(c.current[e]=t)},collapseProps:{collapsible:!0,open:d.has(e),defaultOpen:d.has(e),onToggle:function(t){return function(e,t){m(e?function(e){return new Set([t])}:function(e){var n=new Set(e);return n.delete(t),n})}(t,e)}},showDelete:h.size>1,onFinish:$,provider:i,currentData:h.get(e),onDelete:function(){return function(e){if(1!==h.size){g((function(t){var n=new Map(t);return n.delete(e),n}));var t=c.current,n=(t[e],Qe()(t,[e].map(Ye())));c.current=n}}(e)}})})},e)}))]})})),ot=rt,at="BasicForm",lt="WorkerPoolForm",ct="ProviderCatalog",st="AddWorkerStep",ut=h()(h()(h()(h()({},at,Ke),lt,ot),ct,Pe.Z),st,Be.Z),dt=n(25383);var pt=E.ZP.div(Ne||(Ne=S()(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),mt=E.ZP.div(Le||(Le=S()(["\n  width: 600px;\n"]))),ft=function(){var e=(0,y.useIntl)(),t=function(){var e=(0,y.useIntl)(),t=(0,y.useNavigate)(),n=(0,dt.Z)((function(){t(-1)}));return(0,j.useMemo)((function(){return[{title:e.formatMessage({id:"clusters.create.selectProvider"}),content:"",showButtons:function(e){return{previous:!1,next:!0,save:!1,skip:!1}},defaultShow:!0,showForms:[],showModules:[ct],providers:[]},{title:e.formatMessage({id:"clusters.create.configBasic"}),content:"",showButtons:function(e){return{previous:!0,next:e===Re.dC.DigitalOcean,save:e!==Re.dC.DigitalOcean,skip:!1}},defaultShow:!0,showForms:[at],showModules:[],providers:[]},{title:e.formatMessage({id:"clusters.button.addNodePool"}),content:"",showButtons:function(e){return{previous:!0,next:!1,save:!0,skip:!1}},defaultShow:!1,showForms:[lt],showModules:[],providers:[Re.dC.DigitalOcean],beforeNext:n},{title:e.formatMessage({id:"resources.button.create"}),content:"",showButtons:function(e){return{previous:!1,next:!1,save:!1,skip:!0}},defaultShow:!1,showForms:[],showModules:[st],providers:[Re.dC.Docker]},{title:e.formatMessage({id:"clusters.button.register"}),content:"",showButtons:function(e){return{previous:!1,next:!1,save:!1,skip:!0}},defaultShow:!1,showForms:[],showModules:[st],providers:[Re.dC.Kubernetes]}]}),[n,e])}(),n=function(){var e=(0,j.useState)({}),t=b()(e,2),n=t[0],i=t[1],r=function(){var e=p()(a()().mark((function e(){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_.qn)();case 3:t=e.sent,i(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,j.useEffect)((function(){r()}),[]),{systemConfig:n}}(),i=n.systemConfig,o=(0,y.useSearchParams)(),l=b()(o,1)[0].get("action")||w.Kd.CREATE,s=(0,y.useNavigate)(),d=(0,k.KO)(x.q_),m=b()(d,2),v=m[0],g=m[1],$=(0,j.useState)([]),S=b()($,2),I=S[0],E=S[1],P=(0,j.useState)(0),R=b()(P,2),D=R[0],M=R[1],q=(0,j.useState)({token:"",image:"",server_url:"",cluster_id:0}),A=b()(q,2),H=A[0],W=A[1],O=(0,j.useState)({provider:Re.dC.Docker}),N=b()(O,2),L=N[0],B=N[1],F=(0,j.useState)({}),X=b()(F,2),U=X[0],K=X[1],G=(0,j.useState)(!1),Q=b()(G,2),V=Q[0],Y=Q[1],J=h()(h()({},at,(0,j.useRef)(null)),lt,(0,j.useRef)(null)),ee=(0,j.useMemo)((function(){return I.filter((function(e){return e.provider===L.provider}))}),[I,L.provider]),te=(0,j.useMemo)((function(){return L.provider?t.filter((function(e){var t;return null===(t=e.providers)||void 0===t||!t.length||e.providers.includes(L.provider)})).map((function(e,t){return f()(f()({},e),{},{disabled:l===w.Kd.CREATE})})):t.filter((function(e){return e.defaultShow}))}),[l,L.provider,t]),ne=function(){var e=p()(a()().mark((function e(){var t,n,i,r,o,l,s,d,p,m;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=te[D],!((null==(n=(null==t?void 0:t.showForms)||[])?void 0:n.length)>0)){e.next=16;break}return e.next=5,Promise.allSettled(n.map((function(e){var t;return null===(t=J[e].current)||void 0===t?void 0:t.validateFields()})));case 5:i=e.sent,r=new Map,i.forEach((function(e,t){if("rejected"===e.status){var i,o=(null===(i=e.reason)||void 0===i?void 0:i.values)||{};r.set(n[t],o)}else"fulfilled"===e.status&&r.set(n[t],e.value)})),o=f()({},U),l=u()(r.entries());try{for(l.s();!(s=l.n()).done;)d=b()(s.value,2),p=d[0],m=d[1],o[p]=m}catch(e){l.e(e)}finally{l.f()}if(K(o),i.every((function(e){return"fulfilled"===e.status}))){e.next=15;break}return e.abrupt("return",!1);case 15:return e.abrupt("return",Object.assign.apply(Object,[{}].concat(c()(Object.values(o)))));case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=p()(a()().mark((function e(t){var n,i,r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:if(!(n=e.sent)){e.next=10;break}return e.next=7,null==t?void 0:t(n);case 7:r=te[D],null===(i=r.beforeNext)||void 0===i||i.call(r),M((function(e){return Math.min(e+1,te.length-1)}));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),Y(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){var e=function(){var e=p()(a()().mark((function e(){var t,n,i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.gX)({page:-1});case 2:n=e.sent,i=null===(t=n.items)||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.id,provider:e.provider}})),E(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var re,oe,ae=(0,j.useMemo)((function(){var e=te[D];return null!=e&&e.showButtons?null==e?void 0:e.showButtons(L.provider):{}}),[D,te,L.provider]),le=function(){var e=p()(a()().mark((function e(){var t,n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_.ax)({page:1,perPage:10});case 3:if(1!==(t=e.sent).items.length){e.next=9;break}if((n=t.items[0]).is_default){e.next=9;break}return e.next=9,(0,_.p1)({id:n.id});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=p()(a()().mark((function e(t){var n,i,o;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f()(f()({},L),"object"===r()(t)?t:{}),Y(!0),e.next=4,(0,_.c0)({data:n});case 4:return i=e.sent,e.next=7,(0,_.zc)({id:i.id});case 7:return o=e.sent,Y(!1),W(f()(f()({},o),{},{cluster_id:i.id})),le(),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=p()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(ce);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){if(null!=v&&v.firstAddCluster)return g({firstAddCluster:!1,firstAddWorker:!1}),void s("/cluster-management/clusters/list");s(-1)},de=[{title:(0,ye.jsx)("a",{children:e.formatMessage({id:"clusters.title"})}),onClick:function(){return ue()}},{title:e.formatMessage({id:"common.button.create"})}];return(0,ye.jsxs)(Z.R,{footer:[(0,ye.jsx)(ze,{onPrevious:function(){K((function(e){for(var t=T().cloneDeep(e),n=0,i=Object.entries(J);n<i.length;n++){var r,o,a,l=b()(i[n],2),c=l[0],s=l[1],u=null==s||null===(r=s.current)||void 0===r||null===(o=(a=r).getFieldsValue)||void 0===o?void 0:o.call(a);u&&(t[c]=u)}return t})),M((function(e){return Math.max(e-1,0)}))},onNext:ie,handleCancel:ue,handleSubmit:se,loading:V,showButtons:ae},"buttons")],header:{title:(0,ye.jsx)(C.Z,{items:de})},children:[(0,ye.jsx)(Te,{steps:te,currentStep:D}),(0,ye.jsxs)("div",{style:{width:800,margin:"0 auto"},children:[0===D&&(0,ye.jsx)(Pe.Z,{dataList:Me,height:70,onSelect:function(e){e!==L.provider?(B({provider:e}),function(){K({});for(var e=0,t=Object.entries(J);e<t.length;e++){var n=b()(t[e],2),i=n[0];n[1],J[i]=j.createRef()}}(),ie()):ie()},clickable:!0,current:L.provider}),(0,ye.jsxs)(qe.l.Provider,{value:{formValues:U,systemConfig:i},children:[(re=te[D],oe=(null==re?void 0:re.showModules)||[],0===oe.length?null:oe.map((function(e){var t=ut[e];return t?(0,ye.jsx)(t,{actionSource:"page",stepList:L.provider===Re.dC.Docker?z.bc:z.fU,registrationInfo:H,provider:L.provider},e):null}))),(0,ye.jsx)(pt,{children:(0,ye.jsx)(mt,{children:function(){var e=te[D],t=(null==e?void 0:e.showForms)||[];return 0===t.length?null:t.map((function(e){var t=ut[e];return t?(0,ye.jsx)(t,{ref:J[e],action:l,provider:L.provider,credentialList:ee,currentData:U[e]},e):null}))}()})})]})]})]})}}}]);