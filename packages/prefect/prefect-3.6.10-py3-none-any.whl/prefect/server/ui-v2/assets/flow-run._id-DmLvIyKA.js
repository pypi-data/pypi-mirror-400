const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/flow-run-graph-C7hM0e5Q.js","assets/vendor-tanstack-BVzzyDEt.js","assets/vendor-react-Bce9NwRC.js","assets/vendor-graphs-DzwXylWd.js","assets/index-BJkJ93Lr.js","assets/vendor-radix-CTAic6HB.js","assets/vendor-recharts-Mwm2qLZp.js","assets/vendor-forms-BN3tpxM2.js","assets/vendor-date-2jFo9aCm.js","assets/index-t3SW0WbL.css"])))=>i.map(i=>d[i]);
import{j as e,r,s as R,I as pe,e as U,t as V,F as ge,G as je}from"./vendor-tanstack-BVzzyDEt.js";import{b3 as c,cb as fe,cc as ve,q as D,cd as ye,aU as J,bt as be,G as re,K as ne,c5 as Ne,I,w as N,bK as K,c4 as Se,c7 as _e,S as oe,d as ie,f as ce,h as q,e as we,bL as de,aD as Ce,az as W,U as ke,a3 as k,P as ue,ce as H,r as xe,s as me,t as he,v as F,a2 as G,cf as Q,a9 as B,aE as Fe,aA as X,as as De,a6 as Te,cg as Ae,ch as Ee,ci as Le,cj as Pe,ck as Ie,L as Y,cl as Re,B as Me,a as ze,b as Z,bq as Oe,bz as Ge,bB as Qe,bO as Ve,at as qe,au as Be,av as S,aw as _,cm as ee}from"./index-BJkJ93Lr.js";import{R as Ue,a as Je,u as $e,C as Ke}from"./index-DZTWMzXC.js";import{D as We}from"./delete-confirmation-dialog-Baib9xiM.js";import{u as He}from"./use-delete-confirmation-dialog-DDTCxOIv.js";import{A as Xe}from"./artifact-card-Cy3v2Lds.js";import{T as Ye,a as se}from"./toggle-group-B18EYoB-.js";import{S as Ze}from"./sort-filter-DGicLGS-.js";import{S as es,a as ss,F as as}from"./flow-runs-pagination-b0pvBxt9.js";import{T as ts,b as ls,a as rs}from"./task-runs-pagination-CnInzUKN.js";import{b as ns,f as os}from"./vendor-forms-BN3tpxM2.js";import"./vendor-react-Bce9NwRC.js";import"./vendor-radix-CTAic6HB.js";import"./vendor-recharts-Mwm2qLZp.js";import"./vendor-date-2jFo9aCm.js";import"./index-BCjE1NvU.js";import"./lazy-markdown-CwRqR_1U.js";const is=r.lazy(()=>fe(()=>import("./flow-run-graph-C7hM0e5Q.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(s=>({default:s.FlowRunGraph})));function cs(s){return e.jsx(r.Suspense,{fallback:e.jsx(c,{className:"h-[500px] w-full"}),children:e.jsx(is,{...s})})}class L extends r.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}render(){if(this.state.hasError){const{fallback:a}=this.props;return typeof a=="function"?a(this.state.error??new Error("Unknown error")):a}return this.props.children}}function P({error:s,onRetry:a,isRetrying:t}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"rounded-full bg-destructive/10 p-2 mb-3",children:e.jsx(ve,{className:"size-6 text-destructive"})}),e.jsxs("div",{className:"space-y-1 mb-4",children:[e.jsx("p",{className:"font-medium",children:s.message}),s.details&&e.jsx("p",{className:"text-xs text-muted-foreground max-w-sm",children:s.details})]}),a&&e.jsxs(D,{variant:"outline",size:"sm",onClick:a,disabled:t,className:"gap-2",children:[e.jsx(ye,{className:J("size-3",t&&"animate-spin")}),t?"Retrying...":"Retry"]})]})}const ds=({flowRun:s})=>{const[a,t]=r.useState("grid"),{data:h}=R(be({artifacts:{operator:"and_",flow_run_id:{any_:[s.id]},type:{not_any_:["result"]}},sort:"ID_DESC",offset:0}));return h.length===0?e.jsx(re,{children:e.jsx(ne,{className:"text-center",children:e.jsxs("p",{children:["This flow run did not produce any artifacts; for more information on creating artifacts, see the"," ",e.jsx("a",{href:"https://docs.prefect.io/v3/develop/artifacts",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500",children:"documentation"}),"."]})})}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(Ye,{type:"single",variant:"outline",value:a,onValueChange:n=>t(n),children:[e.jsx(se,{value:"grid","aria-label":"Grid view",children:e.jsx(Ne,{className:"w-4 h-4"})}),e.jsx(se,{value:"list","aria-label":"List view",children:e.jsx(Ue,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:J("grid",a==="grid"?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3":"grid-cols-1","gap-4"),"data-testid":"flow-run-artifacts-grid",children:h.map(n=>e.jsx(Xe,{artifact:n,compact:a==="list"},n.id))})]})};function b({label:s,value:a,copyable:t,copyValue:h}){const n=()=>{const u=h??(typeof a=="string"?a:"");navigator.clipboard.writeText(u),N.success(`${s} copied`)};return e.jsxs("dl",{className:"flex flex-col gap-1",children:[e.jsx("dt",{className:"text-muted-foreground text-sm",children:s}),e.jsxs("dd",{className:"text-sm flex items-center gap-2",children:[a,t&&e.jsx(D,{variant:"ghost",size:"icon",onClick:n,children:e.jsx(I,{id:"Copy",className:"size-4"})})]})]})}function ae({flowRun:s}){return s?e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{label:"Run Count",value:s.run_count}),e.jsx(b,{label:"Created",value:e.jsx(K,{date:s.created})}),s.created_by?.display_value&&e.jsx(b,{label:"Created By",value:s.created_by.display_value}),e.jsx(b,{label:"Last Updated",value:e.jsx(K,{date:s.updated})}),s.idempotency_key&&e.jsx(b,{label:"Idempotency Key",value:s.idempotency_key}),s.tags&&s.tags.length>0&&e.jsx(b,{label:"Tags",value:e.jsx(Se,{tags:s.tags})}),e.jsx(b,{label:"Flow Run ID",value:s.id,copyable:!0}),s.state?.message&&e.jsx(b,{label:"State Message",value:s.state.message}),s.flow_version&&e.jsx(b,{label:"Flow Version",value:s.flow_version}),s.empirical_policy?.retries!=null&&e.jsxs(e.Fragment,{children:[e.jsx(b,{label:"Retries",value:s.empirical_policy.retries}),e.jsx(b,{label:"Retry Delay",value:s.empirical_policy.retry_delay})]})]}):e.jsx("div",{className:"flex flex-col gap-2 bg-gray-100 p-4 rounded-md",children:e.jsx("span",{className:"text-gray-500",children:"No flow run details available"})})}const us=({flowRun:s,virtualize:a=!0})=>{const[t,h]=r.useState(0),[n,u]=r.useState("TIMESTAMP_ASC"),g=r.useMemo(()=>({..._e({limit:50,sort:n,logs:{operator:"and_",level:{ge_:t},flow_run_id:{any_:[s.id]}}}),refetchInterval:s.state_type==="RUNNING"?5e3:!1}),[t,n,s.id,s.state_type]),{data:x,hasNextPage:o,fetchNextPage:v,isFetchingNextPage:l}=pe(g),i=x.pages.length===1&&x.pages[0].length===0;let m="This run did not produce any logs.";return i&&(t>0?m="No logs match your filter criteria":s.state_type==="SCHEDULED"&&s.state_name==="Scheduled"?m="Run has not yet started. Check back soon for logs.":s.state_type==="RUNNING"&&(m="Waiting for logs...")),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-row gap-2 justify-end",children:[e.jsx(xs,{levelFilter:t,setLevelFilter:h}),e.jsx(ms,{sortOrder:n,setSortOrder:u})]}),i?e.jsx("div",{className:"flex flex-col gap-2 text-center bg-muted p-2 rounded-md",children:e.jsx("span",{className:"text-muted-foreground",children:m})}):e.jsx("div",{className:"rounded-md",children:e.jsx(Je,{logs:x.pages.flat(),onBottomReached:()=>{o&&!l&&v().catch(y=>{console.error(y)})},className:"max-h-[85vh]",virtualize:a})})]})},te=[{label:"All",value:0},{label:"Critical only",value:50},{label:"Error and above",value:40},{label:"Warning and above",value:30},{label:"Info and above",value:20},{label:"Debug and above",value:10}],xs=({levelFilter:s,setLevelFilter:a})=>e.jsxs(oe,{value:s.toString(),onValueChange:t=>a(Number(t)),children:[e.jsx(ie,{"aria-label":"log level filter",children:e.jsx("span",{children:`Level:
							${te.find(t=>t.value===s)?.label}`})}),e.jsx(ce,{children:te.map(t=>e.jsx(q,{value:t.value.toString(),children:t.label},t.value))})]}),ms=({sortOrder:s,setSortOrder:a})=>e.jsxs(oe,{value:s,onValueChange:t=>a(t),children:[e.jsx(ie,{"aria-label":"log sort order",children:e.jsx(we,{placeholder:"Sort log order"})}),e.jsxs(ce,{children:[e.jsx(q,{value:"TIMESTAMP_ASC",children:"Oldest to newest"}),e.jsx(q,{value:"TIMESTAMP_DESC",children:"Newest to oldest"})]})]}),hs=({parentFlowRunId:s})=>{const a=U(),[t,h]=r.useState(""),[n,u]=r.useState(new Set),[g,x]=r.useState("START_TIME_DESC"),[o,v]=r.useState({page:1,limit:10}),l=de(t,300),i=r.useMemo(()=>({flow_runs:{operator:"and_",parent_flow_run_id:{operator:"and_",any_:[s]}}}),[s]),{data:m}=R(Ce(i,3e4)),y=r.useMemo(()=>({page:o.page,limit:o.limit,sort:g,flow_runs:{operator:"and_",parent_flow_run_id:{operator:"and_",any_:[s]},name:l?{like_:l}:void 0,state:n.size>0?{operator:"and_",name:{any_:Array.from(n)}}:void 0}}),[s,o,g,l,n]),{data:j}=V(W(y,3e4)),w=r.useMemo(()=>[...new Set((j?.results??[]).map(d=>d.flow_id))],[j?.results]),{data:C}=V(ke({flows:{operator:"and_",id:{any_:w}},offset:0,sort:"NAME_ASC"},{enabled:w.length>0})),T=r.useMemo(()=>{if(!j?.results)return[];const d=new Map(C?.map(p=>[p.id,p])??[]);return j.results.map(p=>{const $=d.get(p.flow_id);return $?{...p,flow:$}:{...p,flow:void 0}}).filter(p=>p!==null)},[j?.results,C]),A=d=>{h(d.target.value),v(p=>({...p,page:1}))},M=d=>{u(d),v(p=>({...p,page:1}))},z=d=>{x(d),v(p=>({...p,page:1}))},O=()=>{h(""),u(new Set),v(d=>({...d,page:1}))},E=d=>{a.prefetchQuery(W({...y,page:d},3e4))},f=t||n.size>0;return m===0?e.jsx("div",{className:"flex items-center justify-center h-48 border rounded-lg bg-muted/50",children:e.jsx(k,{className:"text-muted-foreground",children:"No subflow runs found for this flow run."})}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2",children:[e.jsx("div",{className:"flex flex-col gap-1 xl:col-span-3 md:col-span-12 col-span-6 md:order-0 order-2",children:e.jsxs(k,{variant:"bodySmall",className:"text-muted-foreground",children:[m," Subflow run",m!==1?"s":""]})}),e.jsx("div",{className:"xl:col-span-4 col-span-12 md:order-1 order-0",children:e.jsx(ue,{value:t,onChange:A,placeholder:"Search by run name","aria-label":"Search by run name",debounceMs:300})}),e.jsx("div",{className:"xl:col-span-3 md:col-span-6 col-span-12 md:order-2 order-1",children:e.jsx(es,{selectedFilters:n,onSelectFilter:M})}),e.jsx("div",{className:"xl:border-l xl:border-border xl:pl-2 xl:col-span-2 md:col-span-6 col-span-6 md:order-3 order-3",children:e.jsx(Ze,{value:g,onSelect:z})})]}),e.jsx(ss,{flowRuns:T,onClearFilters:f?O:void 0}),j&&j.pages>0&&e.jsx(as,{pagination:o,onChangePagination:v,count:j.count,pages:j.pages,onPrefetchPage:E})]})},le=2,ps=({selectedFilters:s,onSelectFilter:a,className:t})=>{const[h,n]=r.useState(!1),u=r.useMemo(()=>{const l=new Set(H);return s.has("Scheduled")||l.size!==s.size?!1:Array.from(s).every(i=>l.has(i))},[s]),g=()=>{a(new Set(H))},x=()=>{a(new Set)},o=l=>{if(u){a(new Set([l]));return}const i=new Set(s);s.has(l)?i.delete(l):i.add(l),a(i)},v=()=>{if(s.size===0)return"All run states";if(u)return"All except scheduled";const l=Array.from(s),i=l.slice(0,le),m=l.length-le;return e.jsxs("div",{className:"flex flex-1 min-w-0 items-center gap-2",children:[e.jsx("div",{className:"flex flex-1 min-w-0 items-center gap-2 overflow-hidden",children:i.map(y=>e.jsx(B,{name:y,type:Q[y]},y))}),m>0&&e.jsxs(k,{variant:"bodySmall",className:"shrink-0",children:["+ ",m]})]})};return e.jsxs(xe,{open:h,onOpenChange:n,children:[e.jsx(me,{asChild:!0,children:e.jsxs(D,{variant:"outline",className:J("justify-between w-full",t),children:[e.jsx("span",{className:"flex-1 min-w-0",children:v()}),e.jsx(I,{id:"ChevronDown",className:"ml-2 size-4 shrink-0"})]})}),e.jsxs(he,{className:"max-h-96 overflow-x-hidden overflow-y-auto",children:[e.jsxs(F,{onSelect:l=>{l.preventDefault(),g()},children:[e.jsx(G,{checked:u,className:"mr-2"}),"All except scheduled"]}),e.jsxs(F,{onSelect:l=>{l.preventDefault(),x()},children:[e.jsx(G,{checked:s.size===0,className:"mr-2"}),"All run states"]}),Object.keys(Q).map(l=>e.jsxs(F,{"aria-label":l,onSelect:i=>{i.preventDefault(),o(l)},children:[e.jsx(G,{"aria-label":l,className:"mr-2",checked:!u&&s.has(l)}),e.jsx(B,{name:l,type:Q[l]})]},l))]})]})},gs=({flowRunId:s})=>{const a=U(),[t,h]=r.useState(""),[n,u]=r.useState(new Set),[g,x]=r.useState(new Set),[o,v]=r.useState("EXPECTED_START_TIME_DESC"),[l,i]=r.useState({page:1,limit:20}),m=de(t,300),{data:y}=R(Fe({task_runs:{operator:"and_",flow_run_id:{operator:"and_",any_:[s],is_null_:!1},subflow_runs:{exists_:!1}}},3e4)),{data:j}=V(X({task_runs:{operator:"and_",flow_run_id:{operator:"and_",any_:[s],is_null_:!1},subflow_runs:{exists_:!1},name:m?{like_:m}:void 0,state:n.size>0?{operator:"and_",name:{any_:Array.from(n)}}:void 0,tags:g.size>0?{operator:"and_",all_:Array.from(g)}:void 0},sort:o,page:l.page,limit:l.limit},3e4)),w=f=>{h(f.target.value),i(d=>({...d,page:1}))},C=f=>{u(f),i(d=>({...d,page:1}))},T=f=>{v(f),i(d=>({...d,page:1}))},A=f=>{const d=Array.isArray(f)?f:[];x(new Set(d)),i(p=>({...p,page:1}))},M=()=>{h(""),u(new Set),x(new Set),i(f=>({...f,page:1}))},z=f=>{a.prefetchQuery(X({task_runs:{operator:"and_",flow_run_id:{operator:"and_",any_:[s],is_null_:!1},subflow_runs:{exists_:!1},name:m?{like_:m}:void 0,state:n.size>0?{operator:"and_",name:{any_:Array.from(n)}}:void 0,tags:g.size>0?{operator:"and_",all_:Array.from(g)}:void 0},sort:o,page:f,limit:l.limit},3e4))},O=t||n.size>0||g.size>0,E=r.useMemo(()=>{if(!j?.results)return null;const f=new Map;for(const d of j.results){const p=String(d.state?.name??"Unknown");f.set(p,(f.get(p)??0)+1)}return Array.from(f.entries()).map(([d,p])=>`${p} ${d}`).join(", ")},[j?.results]);return y===0?e.jsx("div",{className:"flex items-center justify-center h-48 border rounded-lg bg-muted/50",children:e.jsx(k,{className:"text-muted-foreground",children:"No task runs found for this flow run."})}):e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1 xl:col-span-3 md:col-span-12 col-span-6 md:order-0 order-3",children:[e.jsxs(k,{variant:"bodySmall",className:"text-muted-foreground",children:[y," Task run",y!==1?"s":""]}),E&&e.jsxs(k,{variant:"bodySmall",className:"text-muted-foreground text-xs capitalize",children:["(",E,")"]})]}),e.jsx("div",{className:"xl:col-span-3 md:col-span-6 col-span-12 md:order-1 order-0",children:e.jsx(ue,{value:t,onChange:w,placeholder:"Search by run name","aria-label":"Search by run name",debounceMs:300})}),e.jsx("div",{className:"xl:col-span-2 md:col-span-6 col-span-12 md:order-2 order-1",children:e.jsx(ps,{selectedFilters:n,onSelectFilter:C})}),e.jsx("div",{className:"xl:col-span-2 md:col-span-6 col-span-12 md:order-3 order-2",children:e.jsx(De,{value:Array.from(g),onChange:A,placeholder:"All tags"})}),e.jsx("div",{className:"xl:border-l xl:border-border xl:pl-2 xl:col-span-2 md:col-span-6 col-span-6 md:order-4 order-4",children:e.jsx(ts,{value:o,onSelect:T})})]}),e.jsx(ls,{taskRuns:j?.results,onClearFilters:O?M:void 0}),j&&j.pages>0&&e.jsx(rs,{pagination:l,onChangePagination:i,count:j.count,pages:j.pages,onPrefetchPage:z})]})},js=({id:s,tab:a,onTabChange:t})=>{const[h,n]=r.useState(!1),[u,g]=r.useState(!1),x=U(),{data:o}=R({...Te(s),refetchInterval:h}),{deleteFlowRun:v}=Ae(),{navigate:l}=ge(),i=o.state_type==="PENDING";r.useEffect(()=>{o.state_type==="RUNNING"||o.state_type==="PENDING"?n(5e3):n(!1)},[o]);const m=()=>{v(o.id,{onSuccess:()=>{n(!1),N.success("Flow run deleted"),l({to:"/runs",replace:!0})},onError:T=>{const A=T.message||"Unknown error while deleting flow run.";N.error(A)}})},y=r.useCallback(()=>{x.invalidateQueries({queryKey:Ee.all()})},[x]),j=r.useCallback(()=>{x.invalidateQueries({queryKey:Le.all()})},[x]),w=r.useCallback(()=>{x.invalidateQueries({queryKey:Pe.lists()})},[x]),C=r.useCallback(()=>{x.invalidateQueries({queryKey:Ie.all()})},[x]);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx(fs,{flowRun:o,onDeleteRunClicked:m})}),!i&&e.jsx(re,{children:e.jsx(ne,{className:"p-0",children:e.jsx(cs,{flowRunId:o.id,fullscreen:u,onFullscreenChange:g})})}),e.jsxs("div",{className:"grid lg:grid-cols-[1fr_250px] grid-cols-[1fr] gap-4",children:[e.jsx(vs,{currentTab:a,onTabChange:t,flowRun:o,logsContent:e.jsx(L,{fallback:e.jsx(P,{error:{type:"unknown-error",message:"Failed to load logs",details:"An error occurred while loading log data. Please try again."},onRetry:y}),children:e.jsx(r.Suspense,{fallback:e.jsx(ys,{}),children:e.jsx(us,{flowRun:o})})}),taskRunsContent:e.jsx(L,{fallback:e.jsx(P,{error:{type:"unknown-error",message:"Failed to load task runs",details:"An error occurred while loading task run data. Please try again."},onRetry:j}),children:e.jsx(r.Suspense,{fallback:e.jsx(bs,{}),children:e.jsx(gs,{flowRunId:s})})}),subflowRunsContent:e.jsx(L,{fallback:e.jsx(P,{error:{type:"unknown-error",message:"Failed to load subflow runs",details:"An error occurred while loading subflow run data. Please try again."},onRetry:w}),children:e.jsx(r.Suspense,{fallback:e.jsx(Ss,{}),children:e.jsx(hs,{parentFlowRunId:s})})}),artifactsContent:e.jsx(L,{fallback:e.jsx(P,{error:{type:"unknown-error",message:"Failed to load artifacts",details:"An error occurred while loading artifact data. Please try again."},onRetry:C}),children:e.jsx(r.Suspense,{fallback:e.jsx(Ns,{}),children:e.jsx(ds,{flowRun:o})})}),detailsContent:e.jsx(r.Suspense,{fallback:e.jsx(_s,{}),children:e.jsx(ae,{flowRun:o})}),parametersContent:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>{N.success("Copied parameters to clipboard"),navigator.clipboard.writeText(JSON.stringify(o.parameters??{},null,2))},children:[e.jsx(I,{id:"Copy",className:"size-4 mr-2"}),"Copy parameters"]})}),e.jsx(Y,{value:JSON.stringify(o.parameters??{},null,2),disabled:!0,className:"min-h-[200px]"})]}),jobVariablesContent:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>{N.success("Copied job variables to clipboard"),navigator.clipboard.writeText(JSON.stringify(o.job_variables??{},null,2))},children:[e.jsx(I,{id:"Copy",className:"size-4 mr-2"}),"Copy job variables"]})}),e.jsx(Y,{value:JSON.stringify(o.job_variables??{},null,2),disabled:!0,className:"min-h-[200px]"})]})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(ae,{flowRun:o})})]})]})},fs=({flowRun:s,onDeleteRunClicked:a})=>{const[t,h]=He(),{open:n,onOpenChange:u,openDialog:g}=$e(),{setFlowRunState:x,isPending:o}=Re(),v=s.state_type&&["COMPLETED","FAILED","CANCELLED","CRASHED"].includes(s.state_type),l=i=>{x({id:s.id,state:{type:i.type,name:i.type.charAt(0)+i.type.slice(1).toLowerCase(),message:i.message},force:!0},{onSuccess:()=>{N.success("Flow run state changed"),u(!1)},onError:m=>{N.error(m.message||"Failed to change state")}})};return e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx(Me,{children:e.jsxs(ze,{children:[e.jsx(Z,{children:e.jsx(Oe,{to:"/runs",className:"text-xl font-semibold",children:"Runs"})}),e.jsx(Ge,{}),e.jsxs(Z,{className:"text-xl",children:[e.jsx(Qe,{className:"font-semibold",children:s.name}),s.state&&e.jsx(B,{type:s.state.type,name:s.state.name,className:"ml-2"})]})]})}),e.jsxs(xe,{children:[e.jsx(me,{asChild:!0,children:e.jsx(D,{variant:"outline",className:"p-2",children:e.jsx(Ve,{className:"w-4 h-4"})})}),e.jsxs(he,{children:[v&&e.jsx(F,{onClick:g,children:"Change state"}),e.jsx(F,{onClick:()=>{N.success("Copied flow run ID to clipboard"),navigator.clipboard.writeText(s.id)},children:"Copy ID"}),e.jsx(F,{onClick:()=>h({title:"Delete Flow Run",description:`Are you sure you want to delete flow run ${s.name}?`,onConfirm:a}),children:"Delete"})]})]}),e.jsx(We,{...t}),e.jsx(Ke,{open:n,onOpenChange:u,currentState:s.state?{type:s.state.type,name:s.state.name??s.state.type.charAt(0)+s.state.type.slice(1).toLowerCase()}:null,label:"Flow Run",onConfirm:l,isLoading:o})]})},vs=({currentTab:s,onTabChange:a,flowRun:t,logsContent:h,taskRunsContent:n,subflowRunsContent:u,artifactsContent:g,detailsContent:x,parametersContent:o,jobVariablesContent:v})=>(r.useEffect(()=>{const l=getComputedStyle(document.documentElement).getPropertyValue("--breakpoint-lg").trim(),i=window.matchMedia(`(max-width: ${l})`),m=()=>{s==="Details"&&a("Logs")};return i.addEventListener("change",m),()=>i.removeEventListener("change",m)},[s,a]),e.jsxs(qe,{value:s,onValueChange:l=>a(l),children:[e.jsxs(Be,{children:[e.jsx(S,{value:"Details",className:"lg:hidden",children:"Details"}),e.jsx(S,{value:"Logs",children:"Logs"}),t.state_type!=="PENDING"&&e.jsx(S,{value:"TaskRuns",children:"Task Runs"}),t.state_type!=="PENDING"&&e.jsx(S,{value:"SubflowRuns",children:"Subflow Runs"}),e.jsx(S,{value:"Artifacts",children:"Artifacts"}),e.jsx(S,{value:"Parameters",children:"Parameters"}),e.jsx(S,{value:"JobVariables",children:"Job Variables"})]}),e.jsx(_,{value:"Details",children:x}),e.jsx(_,{value:"Logs",children:h}),e.jsx(_,{value:"TaskRuns",children:n}),e.jsx(_,{value:"SubflowRuns",children:u}),e.jsx(_,{value:"Artifacts",children:g}),e.jsx(_,{value:"Parameters",children:o}),e.jsx(_,{value:"JobVariables",children:v})]})),ys=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-row gap-2 justify-end",children:[e.jsx(c,{className:"h-8 w-25"}),e.jsx(c,{className:"h-8 w-32"})]}),e.jsx(c,{className:"h-32"})]}),bs=()=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(c,{className:"h-4 w-24"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(c,{className:"h-9 flex-1"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{className:"h-9 w-48"}),e.jsx(c,{className:"h-9 w-40"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(c,{className:"h-24"}),e.jsx(c,{className:"h-24"}),e.jsx(c,{className:"h-24"})]})]}),Ns=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex flex-row justify-end",children:e.jsx(c,{className:"h-8 w-12"})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3",children:[e.jsx(c,{className:"h-40"}),e.jsx(c,{className:"h-40"}),e.jsx(c,{className:"h-40"}),e.jsx(c,{className:"h-40"})]})]}),Ss=()=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(c,{className:"h-4 w-24"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(c,{className:"h-9 flex-1"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{className:"h-9 w-48"}),e.jsx(c,{className:"h-9 w-40"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(c,{className:"h-24"}),e.jsx(c,{className:"h-24"}),e.jsx(c,{className:"h-24"})]})]}),_s=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(c,{className:"h-4 w-20"}),e.jsx(c,{className:"h-5 w-12"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(c,{className:"h-4 w-16"}),e.jsx(c,{className:"h-5 w-32"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(c,{className:"h-4 w-24"}),e.jsx(c,{className:"h-5 w-32"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(c,{className:"h-4 w-24"}),e.jsx(c,{className:"h-5 w-64"})]})]});ns({tab:os(["Logs","TaskRuns","SubflowRuns","Artifacts","Details","Parameters","JobVariables"]).default("Logs").catch("Logs")});function Vs(){const{id:s}=ee.useParams(),{tab:a}=ee.useSearch(),t=je(),h=n=>{t({to:".",search:u=>({...u,tab:n})})};return e.jsx(js,{id:s,tab:a,onTabChange:h})}export{Vs as component};
//# sourceMappingURL=flow-run._id-DmLvIyKA.js.map
