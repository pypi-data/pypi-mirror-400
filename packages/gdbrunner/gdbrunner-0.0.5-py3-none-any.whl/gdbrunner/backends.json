{
  "qemu": {
    "command": "qemu-system-arm",
    "fixed_args": ["-nographic", "-monitor", "null", "-semihosting", "-S", "-serial", "pty"],
    "elf_arg": "-kernel",
    "arguments": [
      {"flag": "--machine", "cmd": "-machine", "required": true, "help": "QEMU machine type (e.g., mps2-an500, mps3-an547)"},
      {"flag": "--port", "cmd": "-gdb", "prefix": "tcp::", "type": "int", "default": 1234, "help": "GDB server port (default: 1234)"}
    ]
  },
  "jlink": {
    "command": "JLinkGDBServer",
    "fixed_args": ["-nogui", "1"],
    "arguments": [
      {"flag": "--device", "cmd": "-device", "required": true, "help": "Target device"},
      {"flag": "--interface", "cmd": "-if", "default": "swd", "help": "Debug interface (default: swd)"},
      {"flag": "--speed", "cmd": "-speed", "type": "int", "default": 100000, "help": "Speed in kHz (default: 100000)"},
      {"flag": "--port", "cmd": "-port", "type": "int", "default": 2331, "help": "GDB server port (default: 2331)"},
      {"flag": "--halt", "cmd": "-halt", "type": "bool", "default": true, "help": "Halt on connect (default: true)"},
      {"flag": "--vd", "cmd": "-vd", "type": "bool", "default": false, "help": "Verify download (default: false)"}
    ]
  },
  "stlink": {
    "command": "ST-LINK_gdbserver",
    "fixed_args": ["--persistent"],
    "arguments": [
      {"flag": "--port", "cmd": "--port-number", "type": "int", "default": 2331, "help": "GDB server port (default: 2331)"},
      {"flag": "--cube-prog", "cmd": "--stm32cubeprogrammer-path", "required": true, "paths": [
        "~/STM32CubeProgrammer/bin",
        "/opt/st/STM32CubeProgrammer/bin",
        "~/st/stm32cubeide_*/plugins/*cubeprogrammer.*/tools/bin",
        "/opt/st/stm32cubeide_*/plugins/*cubeprogrammer.*/tools/bin"
      ], "help": "Path to STM32CubeProgrammer tools"},
      {"flag": "--extload", "cmd": "--extload", "help": "External loader file"},
      {"flag": "--apid", "cmd": "--apid", "type": "int", "default": 1, "help": "Access port ID (default: 1)"},
      {"flag": "--halt", "cmd": "--halt", "type": "bool", "default": true, "help": "Halt on connect (default: true)"},
      {"flag": "--verify", "cmd": "--verify", "type": "bool", "default": true, "help": "Verify (default: true)"},
      {"flag": "--attach", "cmd": "--attach", "type": "bool", "default": true, "help": "Attach mode (default: true)"},
      {"flag": "--verbose", "cmd": "--verbose", "type": "bool", "default": false, "help": "Verbose output"},
      {"flag": "--log-level", "cmd": "--log-level", "type": "int", "help": "Log level"}
    ]
  }
}
