"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["10615"],{36356:function(e,t,o){o.d(t,{q:function(){return n}});var i=o(44734),a=o(43080),n=function(){return(0,a.A)(function e(t,o){var a=this,n=o.selector,r=o.enabled;(0,i.A)(this,e),this.mouseIsDown=!1,this.scrolled=!1,this.scrolling=!1,this.scrollStartX=0,this.scrollLeft=0,this._enabled=!0,this._mouseDown=function(e){var t=a._scrollContainer;t&&(a.scrollStartX=e.pageX-t.offsetLeft,a.scrollLeft=t.scrollLeft,a.mouseIsDown=!0,a.scrolled=!1,window.addEventListener("mousemove",a._mouseMove),window.addEventListener("mouseup",a._mouseUp,{once:!0}))},this._mouseUp=function(){a.mouseIsDown=!1,a.scrolling=!1,a._host.requestUpdate(),window.removeEventListener("mousemove",a._mouseMove)},this._mouseMove=function(e){if(a.mouseIsDown){var t=a._scrollContainer;if(t){var o=e.pageX-t.offsetLeft-a.scrollStartX;a.scrolled||(a.scrolled=Math.abs(o)>1,a.scrolling=a.scrolled,a._host.requestUpdate()),t.scrollLeft=a.scrollLeft-o}}},this._selector=n,this._host=t,this.enabled=null==r||r,t.addController(this)},[{key:"enabled",get:function(){return this._enabled},set:function(e){e!==this._enabled&&(this._enabled=e,this._enabled?this._attach():this._detach(),this._host.requestUpdate())}},{key:"hostUpdated",value:function(){this.enabled&&!this._scrollContainer&&this._attach()}},{key:"hostDisconnected",value:function(){this._detach()}},{key:"_attach",value:function(){var e;this._scrollContainer=null===(e=this._host.renderRoot)||void 0===e?void 0:e.querySelector(this._selector),this._scrollContainer&&this._scrollContainer.addEventListener("mousedown",this._mouseDown)}},{key:"_detach",value:function(){window.removeEventListener("mousemove",this._mouseMove),window.removeEventListener("mouseup",this._mouseUp),this._scrollContainer&&(this._scrollContainer.removeEventListener("mousedown",this._mouseDown),this._scrollContainer=void 0),this.scrolled=!1,this.scrolling=!1,this.mouseIsDown=!1,this.scrollStartX=0,this.scrollLeft=0}}])}()},17079:function(e,t,o){o.d(t,{X:function(){return n}});var i=o(44734),a=o(43080),n=(o(16280),o(44114),o(69085),function(){return(0,a.A)(function e(t,o){var a=this;(0,i.A)(this,e),this._undoStack=[],this._redoStack=[],this._stackLimit=75,this._apply=function(){throw new Error("No apply function provided")},this._currentConfig=function(){throw new Error("No currentConfig function provided")},this._onUndoChange=function(e){e.stopPropagation(),a.undo(),a._host.requestUpdate()},void 0!==o.stackLimit&&(this._stackLimit=o.stackLimit),this._apply=o.apply,this._currentConfig=o.currentConfig,this._host=t,t.addController(this)},[{key:"hostConnected",value:function(){window.addEventListener("undo-change",this._onUndoChange)}},{key:"hostDisconnected",value:function(){window.removeEventListener("undo-change",this._onUndoChange)}},{key:"canUndo",get:function(){return this._undoStack.length>0}},{key:"canRedo",get:function(){return this._redoStack.length>0}},{key:"commit",value:function(e){this._undoStack.length>=this._stackLimit&&this._undoStack.shift(),this._undoStack.push(Object.assign({},e)),this._redoStack=[]}},{key:"undo",value:function(){if(0!==this._undoStack.length){this._redoStack.push(Object.assign({},this._currentConfig()));var e=this._undoStack.pop();this._apply(e),this._host.requestUpdate()}}},{key:"redo",value:function(){if(0!==this._redoStack.length){this._undoStack.push(Object.assign({},this._currentConfig()));var e=this._redoStack.pop();this._apply(e),this._host.requestUpdate()}}},{key:"reset",value:function(){this._undoStack=[],this._redoStack=[]}}])}())},77090:function(e,t,o){o.d(t,{s:function(){return i}});var i=function(e){return!(!e.detail.selected||"property"!==e.detail.source)&&(e.currentTarget.selected=!1,!0)}},51758:function(e,t,o){o.d(t,{Z:function(){return i}});var i=function(e){var t=window.location.pathname;return e?t+"?"+e:t}},99028:function(e,t,o){o.r(t),o.d(t,{HaIconButtonArrowNext:function(){return v}});var i,a=o(72153),n=o(44734),r=o(43080),s=o(69683),l=o(6454),c=(o(28706),o(40445)),d=o(96196),h=o(77845),u=o(63091),v=(o(26300),function(e){function t(){var e;(0,n.A)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=(0,s.A)(this,t,[].concat(i))).disabled=!1,e._icon="rtl"===u.G.document.dir?"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z":"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",e}return(0,l.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e;return(0,d.qy)(i||(i=(0,a.A)([' <ha-icon-button .disabled="','" .label="','" .path="','"></ha-icon-button> '])),this.disabled,this.label||(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.next"))||"Next",this._icon)}}])}(d.WF));(0,c.__decorate)([(0,h.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,c.__decorate)([(0,h.MZ)({type:Boolean})],v.prototype,"disabled",void 0),(0,c.__decorate)([(0,h.MZ)()],v.prototype,"label",void 0),(0,c.__decorate)([(0,h.wk)()],v.prototype,"_icon",void 0),v=(0,c.__decorate)([(0,h.EM)("ha-icon-button-arrow-next")],v)},62647:function(e,t,o){var i,a=o(72153),n=o(44734),r=o(43080),s=o(69683),l=o(6454),c=o(40445),d=o(1877),h=o(96196),u=o(77845),v=function(e){function t(){return(0,n.A)(this,t),(0,s.A)(this,t,arguments)}return(0,l.A)(t,e),(0,r.A)(t,null,[{key:"styles",get:function(){return[d.A.styles,(0,h.AH)(i||(i=(0,a.A)([":host{font-size:var(--ha-font-size-m);--wa-color-brand-on-quiet:var(\n            --ha-tab-active-text-color,\n            var(--primary-color)\n          );--wa-color-neutral-on-quiet:var(--wa-color-brand-on-quiet);opacity:.8;color:inherit;--wa-space-l:16px}:host([active]:not([disabled])){opacity:1}@media (hover:hover){:host(:hover:not([disabled]):not([active])) .tab{color:var(--wa-color-brand-on-quiet)}}"])))]}}])}(d.A);v=(0,c.__decorate)([(0,u.EM)("ha-tab-group-tab")],v)},66289:function(e,t,o){o.a(e,async function(e,t){try{var i,a=o(72153),n=o(44734),r=o(43080),s=o(75864),l=o(69683),c=o(6454),d=o(25460),h=(o(28706),o(40445)),u=o(42814),v=o(96196),f=o(77845),p=o(36356),g=e([u]),b=function(e){function t(){var e;(0,n.A)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=(0,l.A)(this,t,[].concat(i)))._dragScrollController=new p.q((0,s.A)(e),{selector:".nav"}),e.tabTag="ha-tab-group-tab",e.tabOnly=!0,e}return(0,c.A)(t,e),(0,r.A)(t,[{key:"handleClick",value:function(e){this._dragScrollController.scrolled||(0,d.A)(t,"handleClick",this,3)([e])}}],[{key:"styles",get:function(){return[u.A.styles,(0,v.AH)(i||(i=(0,a.A)([":host{--track-width:2px;--track-color:var(--ha-tab-track-color, var(--divider-color));--indicator-color:var(\n            --ha-tab-indicator-color,\n            var(--primary-color)\n          );--wa-color-neutral-on-quiet:var(--indicator-color)}.tab-group-top ::slotted(ha-tab-group-tab[active]){border-block-end:solid var(--track-width) var(--indicator-color);margin-block-end:calc(-1 * var(--track-width))}.tab-group-start ::slotted(ha-tab-group-tab[active]){border-inline-end:solid var(--track-width) var(--indicator-color);margin-inline-end:calc(-1 * var(--track-width))}.tab-group-end ::slotted(ha-tab-group-tab[active]){border-inline-start:solid var(--track-width) var(--indicator-color);margin-inline-start:calc(-1 * var(--track-width))}.scroll-button::part(base):hover{background-color:transparent}"])))]}}])}((u=(g.then?(await g)():g)[0]).A);(0,h.__decorate)([(0,f.MZ)({attribute:"tab-tag"})],b.prototype,"tabTag",void 0),(0,h.__decorate)([(0,f.MZ)({attribute:"tab-only",type:Boolean})],b.prototype,"tabOnly",void 0),b=(0,h.__decorate)([(0,f.EM)("ha-tab-group")],b),t()}catch(_){t(_)}})},71730:function(e,t,o){o.d(t,{A_:function(){return r},SJ:function(){return i},mQ:function(){return n},n6:function(){return a}});o(69085);var i=function(e){return e.callWS({type:"lovelace/dashboards/list"})},a=function(e,t){return e.callWS(Object.assign({type:"lovelace/dashboards/create"},t))},n=function(e,t,o){return e.callWS(Object.assign({type:"lovelace/dashboards/update",dashboard_id:t},o))},r=function(e,t){return e.callWS({type:"lovelace/dashboards/delete",dashboard_id:t})}},9022:function(e,t,o){o.d(t,{i:function(){return a}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a=function(e,t){return(0,i.r)(e,"show-dialog",{dialogTag:"dialog-list-items",dialogImport:function(){return Promise.all([o.e("93785"),o.e("11725"),o.e("75939")]).then(o.bind(o,21006))},dialogParams:t})}},34023:function(e,t,o){o.d(t,{E:function(){return a},J:function(){return n}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a=function(){return Promise.all([o.e("44533"),o.e("7199"),o.e("76068"),o.e("93785"),o.e("92769"),o.e("44966"),o.e("52242"),o.e("64124"),o.e("12036"),o.e("96919"),o.e("89806"),o.e("21696"),o.e("8851"),o.e("80445"),o.e("19656"),o.e("97367"),o.e("27800"),o.e("66201"),o.e("33887"),o.e("23580"),o.e("56238")]).then(o.bind(o,39803))},n=function(e,t){(0,i.r)(e,"show-dialog",{dialogTag:"dialog-area-registry-detail",dialogImport:a,dialogParams:t})}},14839:function(e,t,o){o.d(t,{l:function(){return n}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a=function(){return Promise.all([o.e("93785"),o.e("58938")]).then(o.bind(o,59502))},n=function(e,t){(0,i.r)(e,"show-dialog",{dialogTag:"ha-dialog-new-automation",dialogImport:a,dialogParams:t})}},76559:function(e,t,o){o.d(t,{X:function(){return a},n:function(){return n}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a=function(e,t){(0,i.r)(e,"show-dialog",{dialogTag:"dialog-add-integration",dialogImport:function(){return Promise.all([o.e("44533"),o.e("93785"),o.e("92769"),o.e("26884"),o.e("50672")]).then(o.bind(o,60051))},dialogParams:t})},n=function(e,t){(0,i.r)(e,"show-dialog",{dialogTag:"dialog-yaml-integration",dialogImport:function(){return Promise.all([o.e("93785"),o.e("24096")]).then(o.bind(o,95683))},dialogParams:t})}},96489:function(e,t,o){o.d(t,{B:function(){return n}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a=function(){return Promise.all([o.e("93785"),o.e("53480"),o.e("30431")]).then(o.bind(o,3863))},n=function(e,t){(0,i.r)(e,"show-dialog",{dialogTag:"dialog-lovelace-dashboard-detail",dialogImport:a,dialogParams:t})}},58142:function(e,t,o){o.d(t,{T:function(){return a},o:function(){return n}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a=function(){return Promise.all([o.e("44533"),o.e("7199"),o.e("76068"),o.e("49021"),o.e("93785"),o.e("26431"),o.e("92769"),o.e("44966"),o.e("52242"),o.e("96919"),o.e("9208"),o.e("51146"),o.e("8851"),o.e("80445"),o.e("19656"),o.e("33887"),o.e("64177")]).then(o.bind(o,33256))},n=function(e,t){(0,i.r)(e,"show-dialog",{dialogTag:"dialog-person-detail",dialogImport:a,dialogParams:t})}},46925:function(e,t,o){o.d(t,{Y:function(){return n}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a=function(){return Promise.all([o.e("93785"),o.e("37406"),o.e("26529")]).then(o.bind(o,9579))},n=function(e,t){(0,i.r)(e,"show-dialog",{dialogTag:"dialog-dashboard-strategy-editor",dialogImport:a,dialogParams:t})}},1412:function(e,t,o){o.d(t,{z:function(){return r}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a="show-save-config",n=!1,r=function(e,t){n||(n=!0,(0,i.r)(e,"register-dialog",{dialogShowEvent:a,dialogTag:"hui-dialog-save-config",dialogImport:function(){return Promise.all([o.e("93785"),o.e("29806"),o.e("87980")]).then(o.bind(o,24519))}})),(0,i.r)(e,a,t)}},874:function(e,t,o){o.d(t,{f:function(){return r}});o(23792),o(26099),o(3362),o(47764),o(62953);var i=o(1087),a=!1,n="show-edit-view",r=function(e,t){a||(a=!0,function(e){(0,i.r)(e,"register-dialog",{dialogShowEvent:n,dialogTag:"hui-dialog-edit-view",dialogImport:function(){return Promise.all([o.e("44533"),o.e("93785"),o.e("92769"),o.e("44966"),o.e("52242"),o.e("80445"),o.e("19656"),o.e("96384")]).then(o.bind(o,70997))}})}(e)),(0,i.r)(e,n,t)}},29994:function(e,t,o){o.a(e,async function(e,t){try{var i,a,n,r,s,l,c,d,h,u,v,f,p,g,b,_,w,m,A,y,k,V,C=o(72153),M=o(61397),x=o(50264),H=o(44734),L=o(43080),S=o(75864),E=o(69683),z=o(6454),P=o(25460),I=(o(28706),o(2008),o(50113),o(48980),o(23792),o(62062),o(44114),o(34782),o(18111),o(22489),o(20116),o(7588),o(61701),o(13579),o(2892),o(26099),o(3362),o(27495),o(47764),o(5746),o(23500),o(62953),o(49255),o(40445)),q=o(96196),D=o(77845),T=o(94333),R=o(32288),Z=o(22786),U=o(36312),B=o(1087),W=o(77090),F=o(91926),X=o(51758),O=o(6030),N=o(9899),j=o(84187),J=o(12587),Q=o(18350),Y=(o(13416),o(88945),o(26300),o(99028),o(90248),o(28732),o(2054),o(67094),o(66289)),G=(o(62647),o(34127)),K=o(21489),$=o(35952),ee=o(71730),te=o(99774),oe=o(85547),ie=o(9022),ae=o(65063),ne=o(42269),re=o(34779),se=o(41631),le=o(27560),ce=o(14503),de=o(81619),he=o(34023),ue=o(14839),ve=o(76559),fe=o(96489),pe=o(58142),ge=o(82360),be=o(46925),_e=o(1412),we=o(874),me=o(93275),Ae=o(53338),ye=o(53019),ke=o(24367),Ve=(o(77985),o(87778),o(17079)),Ce=e([Q,Y,G,ye]);[Q,Y,G,ye]=Ce.then?(await Ce)():Ce;var Me="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",xe="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",He="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",Le=function(e){function t(){var e;return(0,H.A)(this,t),(e=(0,E.A)(this,t)).narrow=!1,e._configChangedByUndo=!1,e._viewScrollPositions={},e._restoreScroll=!1,e._undoRedoController=new Ve.X((0,S.A)(e),{apply:function(t){return e._applyUndoRedo(t)},currentConfig:function(){return{location:e.route.path.split("/")[1],config:e.lovelace.rawConfig}}}),e._conversation=(0,Z.A)(function(t){return(0,U.x)(e.hass,"conversation")}),e._handleWindowScroll=function(){e.toggleAttribute("scrolled",0!==window.scrollY)},e._handlePopState=function(){e._restoreScroll=!0},e._isVisible=function(t){return Boolean(e._editMode||void 0===t.visible||!0===t.visible||Array.isArray(t.visible)&&t.visible.some(function(t){var o;return t.user===(null===(o=e.hass.user)||void 0===o?void 0:o.id)}))},e._addDevice=(0,x.A)((0,M.A)().m(function t(){return(0,M.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.hass.loadFragmentTranslation("config");case 1:(0,ve.X)((0,S.A)(e));case 2:return t.a(2)}},t)})),e._createAutomation=(0,x.A)((0,M.A)().m(function t(){return(0,M.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.hass.loadFragmentTranslation("config");case 1:(0,ue.l)((0,S.A)(e),{mode:"automation"});case 2:return t.a(2)}},t)})),e._createArea=(0,x.A)((0,M.A)().m(function t(){return(0,M.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.hass.loadFragmentTranslation("config");case 1:(0,he.J)((0,S.A)(e),{createEntry:function(){var t=(0,x.A)((0,M.A)().m(function t(o){var i;return(0,M.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,K.L3)(e.hass,o);case 1:i=t.v,(0,$.Wu)(e.lovelace.rawConfig)&&(0,B.r)((0,S.A)(e),"config-refresh"),(0,de.P)((0,S.A)(e),{message:e.hass.localize("ui.panel.lovelace.menu.create_area_success"),action:{action:function(){(0,F.o)("/config/areas/area/".concat(i.area_id))},text:e.hass.localize("ui.panel.lovelace.menu.create_area_action")}});case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()});case 2:return t.a(2)}},t)})),e._addPerson=(0,x.A)((0,M.A)().m(function t(){return(0,M.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.hass.loadFragmentTranslation("config");case 1:(0,pe.o)((0,S.A)(e),{users:[],createEntry:function(){var t=(0,x.A)((0,M.A)().m(function t(o){return(0,M.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,oe.Gu)(e.hass,o);case 1:(0,de.P)((0,S.A)(e),{message:e.hass.localize("ui.panel.lovelace.menu.add_person_success"),action:{action:function(){(0,F.o)("/config/person")},text:e.hass.localize("ui.panel.lovelace.menu.add_person_action")}});case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()});case 2:return t.a(2)}},t)})),e._debouncedConfigChanged=(0,N.s)(function(){return e._selectView(e._curView,!0)},100,!1),e}return(0,z.A)(t,e),(0,L.A)(t,[{key:"_renderActionItems",value:function(){var e,t,o=this,d=[];this._editMode&&d.push((0,q.qy)(i||(i=(0,C.A)(['<ha-icon-button slot="toolbar-icon" .path="','" @click="','" .disabled="','" id="button-undo"> </ha-icon-button> <ha-tooltip placement="bottom" for="button-undo"> ',' </ha-tooltip> <ha-icon-button slot="toolbar-icon" .path="','" @click="','" .disabled="','" id="button-redo"> </ha-icon-button> <ha-tooltip placement="bottom" for="button-redo"> ',' </ha-tooltip> <ha-button appearance="filled" size="small" class="exit-edit-mode" @click="','"> '," </ha-button>"])),"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z",this._undo,!this._undoRedoController.canUndo,this.hass.localize("ui.common.undo"),"M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",this._redo,!this._undoRedoController.canRedo,this.hass.localize("ui.common.redo"),this._editModeDisable,this.hass.localize("ui.panel.lovelace.menu.exit_edit_mode")));var h=[{icon:"M5,15.5L7.5,20H2.5L5,15.5M9,19H21V17H9V19M5,9.5L7.5,14H2.5L5,9.5M9,13H21V11H9V13M5,3.5L7.5,8H2.5L5,3.5M9,7H21V5H9V7Z",key:"ui.panel.lovelace.unused_entities.title",overflowAction:this._handleUnusedEntities,visible:this._editMode&&!0,overflow:!0},{icon:"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",key:"ui.panel.lovelace.editor.menu.raw_editor",overflowAction:this._handleRawEditor,visible:this._editMode,overflow:!0},{icon:"M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z",key:"ui.panel.lovelace.editor.menu.manage_dashboards",overflowAction:this._handleManageDashboards,visible:this._editMode&&!0,overflow:!0},{icon:"M15,7H20.5L15,1.5V7M8,0H16L22,6V18A2,2 0 0,1 20,20H8C6.89,20 6,19.1 6,18V2A2,2 0 0,1 8,0M4,4V22H20V24H4A2,2 0 0,1 2,22V4H4Z",key:"ui.panel.lovelace.editor.menu.manage_resources",overflowAction:this._handleManageResources,visible:this._editMode&&(null===(e=this.hass.userData)||void 0===e?void 0:e.showAdvanced),overflow:!0},{icon:xe,key:"ui.panel.lovelace.menu.add",visible:!this._editMode&&(0,ke.fe)(this.hass),overflow:this.narrow,subItems:[{icon:"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z",key:"ui.panel.lovelace.menu.add_device",visible:!0,action:this._addDevice,overflowAction:this._handleAddDevice},{icon:"M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A2.5,2.5 0 0,0 5,15.5A2.5,2.5 0 0,0 7.5,18A2.5,2.5 0 0,0 10,15.5A2.5,2.5 0 0,0 7.5,13M16.5,13A2.5,2.5 0 0,0 14,15.5A2.5,2.5 0 0,0 16.5,18A2.5,2.5 0 0,0 19,15.5A2.5,2.5 0 0,0 16.5,13Z",key:"ui.panel.lovelace.menu.create_automation",visible:!0,action:this._createAutomation,overflowAction:this._handleCreateAutomation},{icon:"M12.5 7C12.5 5.89 13.39 5 14.5 5H18C19.1 5 20 5.9 20 7V9.16C18.84 9.57 18 10.67 18 11.97V14H12.5V7M6 11.96V14H11.5V7C11.5 5.89 10.61 5 9.5 5H6C4.9 5 4 5.9 4 7V9.15C5.16 9.56 6 10.67 6 11.96M20.66 10.03C19.68 10.19 19 11.12 19 12.12V15H5V12C5 10.9 4.11 10 3 10S1 10.9 1 12V17C1 18.1 1.9 19 3 19V21H5V19H19V21H21V19C22.1 19 23 18.1 23 17V12C23 10.79 21.91 9.82 20.66 10.03Z",key:"ui.panel.lovelace.menu.create_area",visible:!0,action:this._createArea,overflowAction:this._handleCreateArea},{icon:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",key:"ui.panel.lovelace.menu.add_person",visible:!0,action:this._addPerson,overflowAction:this._handleAddPerson}]},{icon:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",key:"ui.panel.lovelace.menu.search_entities",buttonAction:this._showQuickBar,overflowAction:this._handleShowQuickBar,visible:!this._editMode&&(0,ke.fe)(this.hass),overflow:this.narrow,suffix:this.hass.enableShortcuts&&!j.M?"(E)":void 0},{icon:"M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M10,16V19.08L13.08,16H20V4H4V16H10M17,11H15V9H17V11M13,11H11V9H13V11M9,11H7V9H9V11Z",key:"ui.panel.lovelace.menu.assist_tooltip",buttonAction:this._showVoiceCommandDialog,overflowAction:this._handleShowVoiceCommandDialog,visible:!this._editMode&&this._conversation(this.hass.config.components)&&(0,ke.cV)(this.hass),overflow:this.narrow,suffix:this.hass.enableShortcuts&&!j.M?"(A)":void 0},{icon:He,key:"ui.common.refresh",overflowAction:this._handleRefresh,visible:!this._editMode&&this._yamlMode,overflow:!0},{icon:"M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",key:"ui.panel.lovelace.unused_entities.title",overflowAction:this._handleUnusedEntities,visible:!this._editMode&&this._yamlMode,overflow:!0},{icon:He,key:"ui.panel.lovelace.menu.reload_resources",overflowAction:this._handleReloadResources,visible:!this._editMode&&"yaml"===(null===(t=this.hass.panels.lovelace)||void 0===t||null===(t=t.config)||void 0===t?void 0:t.mode),overflow:!0},{icon:Me,key:"ui.panel.lovelace.menu.configure_ui",overflowAction:this._handleEnableEditMode,buttonAction:this._enableEditMode,visible:!this._editMode&&(0,ke.fe)(this.hass)&&!this.hass.config.recovery_mode,overflow:!0,overflow_can_promote:!0}];this.extraActionItems&&this.extraActionItems.forEach(function(e){h.push({icon:e.icon,key:e.labelKey,buttonAction:e.action,overflowAction:function(t){(0,W.s)(t)&&e.action()},visible:!0,overflow:o.narrow})});var u=h.filter(function(e){return e.visible&&e.overflow}),v=1===u.length&&u[0].overflow_can_promote;if(h.filter(function(e){return e.visible&&(!e.overflow||v)}).forEach(function(e,t){var i=[o.hass.localize(e.key),e.suffix].join(" "),s=e.subItems?(0,q.qy)(a||(a=(0,C.A)([' <ha-button-menu slot="actionItems" corner="BOTTOM_END" menu-corner="END"> <ha-icon-button .id="button-','" .path="','" slot="trigger" .label="','" hide-title></ha-icon-button> '," </ha-button-menu> "])),t,e.icon,i,e.subItems.filter(function(e){return e.visible}).map(function(e){return(0,q.qy)(n||(n=(0,C.A)([' <ha-list-item graphic="icon" .key="','" @request-selected="','"> ',' <ha-svg-icon slot="graphic" .path="','"></ha-svg-icon> </ha-list-item> '])),e.key,e.overflowAction,o.hass.localize(e.key),e.icon)})):(0,q.qy)(r||(r=(0,C.A)([' <ha-icon-button slot="actionItems" .id="button-','" .path="','" @click="','"></ha-icon-button> <ha-tooltip placement="bottom" .for="button-','"> '," </ha-tooltip> "])),t,e.icon,e.buttonAction,t,i);d.push(s)}),u.length&&!v){var f=[];u.forEach(function(e){var t=[o.hass.localize(e.key),e.suffix].join(" "),i=e.subItems?function(i){(0,W.s)(i)&&(0,ie.i)(o,{title:t,mode:o.narrow?"bottom-sheet":"dialog",items:e.subItems.map(function(e){return{iconPath:e.icon,label:o.hass.localize(e.key),action:e.action}})})}:e.overflowAction;f.push((0,q.qy)(s||(s=(0,C.A)(['<ha-list-item graphic="icon" @request-selected="','"> ',' <ha-svg-icon slot="graphic" .path="','"></ha-svg-icon> </ha-list-item>'])),i,t,e.icon))}),d.push((0,q.qy)(l||(l=(0,C.A)([' <ha-button-menu slot="actionItems"> <ha-icon-button slot="trigger" id="dashboardmenu" .path="','" .label="','" hide-title></ha-icon-button> '," </ha-button-menu> "])),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.hass.localize("ui.panel.lovelace.editor.menu.open"),f))}return(0,q.qy)(c||(c=(0,C.A)(["",""])),d)}},{key:"render",value:function(){var e,t,o,i,a=this,n=null!==(e=null===(t=this.lovelace)||void 0===t?void 0:t.config.views)&&void 0!==e?e:[],r="number"==typeof this._curView?n[this._curView]:void 0,s=this.panel?(0,te.hL)(this.hass,this.panel):void 0,l=(null==r?void 0:r.background)||this.config.background,c=(0,q.qy)(d||(d=(0,C.A)(['<ha-tab-group @wa-tab-show="','"> '," </ha-tab-group>"])),this._handleViewSelected,n.map(function(e,t){var o=!a._editMode&&(e.subview||function(e){return void 0!==e.visible&&(Array.isArray(e.visible)&&!e.visible.some(function(e){var t;return e.user===(null===(t=a.hass.user)||void 0===t?void 0:t.id)})||!1===e.visible)}(e));return(0,q.qy)(h||(h=(0,C.A)([' <ha-tab-group-tab slot="nav" panel="','" .active="','" .disabled="','" aria-label="','" class="','"> '," "," "," </ha-tab-group-tab> "])),t,a._curView===t,o,(0,R.J)(e.title),(0,T.H)({icon:Boolean(e.icon),"hide-tab":Boolean(o)}),a._editMode?(0,q.qy)(u||(u=(0,C.A)([' <ha-icon-button-arrow-prev .hass="','" .label="','" class="edit-icon view" @click="','" .disabled="','"></ha-icon-button-arrow-prev> '])),a.hass,a.hass.localize("ui.panel.lovelace.editor.edit_view.move_left"),a._moveViewLeft,0===a._curView):q.s6,e.icon?(0,q.qy)(v||(v=(0,C.A)([' <ha-icon class="','" title="','" .icon="','"></ha-icon> '])),(0,T.H)({"child-view-icon":Boolean(e.subview)}),(0,R.J)(e.title),e.icon):e.title||a.hass.localize("ui.panel.lovelace.views.unnamed_view"),a._editMode?(0,q.qy)(f||(f=(0,C.A)([' <ha-icon-button .title="','" class="edit-icon view" .path="','" @click="','"></ha-icon-button> <ha-icon-button-arrow-next .hass="','" .label="','" class="edit-icon view" @click="','" .disabled="','"></ha-icon-button-arrow-next> '])),a.hass.localize("ui.panel.lovelace.editor.edit_view.edit"),Me,a._editView,a.hass,a.hass.localize("ui.panel.lovelace.editor.edit_view.move_right"),a._moveViewRight,a._curView+1===n.length):q.s6)})),k=null==r?void 0:r.subview,V=n.filter(function(e){return!e.subview}).length>1;return(0,q.qy)(p||(p=(0,C.A)([' <div class="','"> <div class="header"> <slot name="toolbar"> <div class="toolbar"> '," </div> ",' </slot> </div> <hui-view-container class="','" .hass="','" .theme="','" id="view" @ll-rebuild="','"> <hui-view-background .hass="','" .background="','"> </hui-view-background> </hui-view-container> </div> '])),(0,T.H)({"edit-mode":this._editMode,narrow:this.narrow}),this._editMode?(0,q.qy)(g||(g=(0,C.A)([' <div class="main-title"> ',' <ha-icon-button slot="actionItems" .label="','" .path="','" class="edit-icon" @click="','"></ha-icon-button> </div> <div class="action-items">',"</div> "])),s||this.hass.localize("ui.panel.lovelace.editor.header"),this.hass.localize("ui.panel.lovelace.editor.edit_lovelace.edit_title"),Me,this._editDashboard,this._renderActionItems()):(0,q.qy)(b||(b=(0,C.A)([" "," ",' <div class="action-items">',"</div> "])),k?(0,q.qy)(_||(_=(0,C.A)([' <ha-icon-button-arrow-prev .hass="','" slot="navigationIcon" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._goBack):(0,q.qy)(w||(w=(0,C.A)([' <ha-menu-button slot="navigationIcon" .hass="','" .narrow="','"></ha-menu-button> '])),this.hass,this.narrow),k?(0,q.qy)(m||(m=(0,C.A)([' <div class="main-title">',"</div> "])),r.title):V?c:(0,q.qy)(A||(A=(0,C.A)([' <div class="main-title"> '," </div> "])),null!==(o=null===(i=n[0])||void 0===i?void 0:i.title)&&void 0!==o?o:s),this._renderActionItems()),this._editMode?(0,q.qy)(y||(y=(0,C.A)([' <div class="tab-bar"> ',' <ha-icon-button slot="nav" id="add-view" @click="','" .label="','" .path="','"></ha-icon-button> </div> '])),c,this._addView,this.hass.localize("ui.panel.lovelace.editor.edit_view.add"),xe):q.s6,this._editMode?"has-tab-bar":"",this.hass,null==r?void 0:r.theme,this._debouncedConfigChanged,this.hass,l)}},{key:"_clearParam",value:function(e){window.history.replaceState(null,"",(0,X.Z)((0,O.s8)(e)))}},{key:"firstUpdated",value:function(e){var o=this;(0,P.A)(t,"firstUpdated",this,3)([e]);var i=(0,O.px)();if("1"===i.edit)this._clearParam("edit"),(0,ke.fe)(this.hass)&&"storage"===this.lovelace.mode&&this.lovelace.setEditMode(!0);else if("1"===i.conversation)this._clearParam("conversation"),this._showVoiceCommandDialog();else if(i["more-info-entity-id"]){var a=i["more-info-entity-id"];this._clearParam("more-info-entity-id"),(0,J.m)(function(){o._showMoreInfoDialog(a)})}window.addEventListener("scroll",this._handleWindowScroll,{passive:!0})}},{key:"connectedCallback",value:function(){(0,P.A)(t,"connectedCallback",this,3)([]),window.addEventListener("scroll",this._handleWindowScroll,{passive:!0}),window.addEventListener("popstate",this._handlePopState),window.history.scrollRestoration="manual"}},{key:"disconnectedCallback",value:function(){(0,P.A)(t,"disconnectedCallback",this,3)([]),window.removeEventListener("scroll",this._handleWindowScroll),window.removeEventListener("popstate",this._handlePopState),this.toggleAttribute("scrolled",0!==window.scrollY),window.history.scrollRestoration="auto"}},{key:"willUpdate",value:function(e){if(e.has("lovelace")){var t=e.get("lovelace");if(t&&this.lovelace.rawConfig!==t.rawConfig&&!this._configChangedByUndo){var o=this.route.path.split("/")[1];this._undoRedoController.commit({location:o,config:t.rawConfig})}else this._configChangedByUndo=!1}}},{key:"updated",value:function(e){var o=this;(0,P.A)(t,"updated",this,3)([e]);var i,a=this._viewRoot.lastChild;e.has("hass")&&a&&(a.hass=this.hass),e.has("narrow")&&a&&(a.narrow=this.narrow);var n=!1,r=this.route.path.split("/")[1];if(r=r?decodeURI(r):void 0,e.has("route")){var s=this.config.views;if(!r&&s.length)i=s.findIndex(this._isVisible),this._navigateToView(s[i].path||i,!0);else if("hass-unused-entities"===r)i="hass-unused-entities";else if(r){for(var l=r,c=Number(l),d=0,h=0;h<s.length;h++)if(s[h].path===l||h===c){d=h;break}i=d}}if(e.has("lovelace")){var u=e.get("lovelace");if(u&&u.config===this.lovelace.config||(n=!0),!u||u.editMode!==this.lovelace.editMode){var v=this.config&&this.config.views;"storage"===this.lovelace.mode&&"hass-unused-entities"===r&&(i=v.findIndex(this._isVisible),this._navigateToView(v[i].path||i,!0))}!n&&a&&(a.lovelace=this.lovelace)}(void 0!==i||n)&&(n&&void 0===i&&(i=this._curView),(0,J.m)(function(){if(e.has("route")){var t=o._restoreScroll&&o._viewScrollPositions[i]||0;o._restoreScroll=!1,requestAnimationFrame(function(){return scrollTo({behavior:"auto",top:t})})}o._selectView(i,n)}))}},{key:"config",get:function(){return this.lovelace.config}},{key:"_yamlMode",get:function(){return"yaml"===this.lovelace.mode}},{key:"_editMode",get:function(){return this.lovelace.editMode}},{key:"_viewRoot",get:function(){return this.shadowRoot.getElementById("view")}},{key:"_handleRefresh",value:function(e){(0,W.s)(e)&&(0,B.r)(this,"config-refresh")}},{key:"_handleReloadResources",value:function(e){(0,W.s)(e)&&(this.hass.callService("lovelace","reload_resources"),(0,ae.dk)(this,{title:this.hass.localize("ui.panel.lovelace.reload_resources.refresh_header"),text:this.hass.localize("ui.panel.lovelace.reload_resources.refresh_body"),confirmText:this.hass.localize("ui.common.refresh"),dismissText:this.hass.localize("ui.common.not_now"),confirm:function(){return location.reload()}}))}},{key:"_handleShowQuickBar",value:function(e){(0,W.s)(e)&&this._showQuickBar()}},{key:"_showQuickBar",value:function(){var e={keyboard_shortcut:(0,q.qy)(k||(k=(0,C.A)(['<a href="#" @click="','">',"</a>"])),this._openShortcutDialog,this.hass.localize("ui.tips.keyboard_shortcut"))};(0,re.uq)(this,{mode:re.uv.Entity,hint:this.hass.enableShortcuts?this.hass.localize("ui.tips.key_e_tip",e):void 0})}},{key:"_goBack",value:function(){var e,t,o=null!==(e=null===(t=this.lovelace)||void 0===t?void 0:t.config.views)&&void 0!==e?e:[],i="number"==typeof this._curView?o[this._curView]:void 0;null!=(null==i?void 0:i.back_path)?(0,F.o)(i.back_path,{replace:!0}):history.length>1?(0,F.O)():o[0].subview?(0,F.o)("/"):(0,F.o)(this.route.prefix,{replace:!0})}},{key:"_handleAddDevice",value:function(e){(0,W.s)(e)&&this._addDevice()}},{key:"_handleCreateAutomation",value:function(e){(0,W.s)(e)&&this._createAutomation()}},{key:"_handleCreateArea",value:function(e){(0,W.s)(e)&&this._createArea()}},{key:"_handleAddPerson",value:function(e){(0,W.s)(e)&&this._addPerson()}},{key:"_handleRawEditor",value:function(e){(0,W.s)(e)&&this.lovelace.enableFullEditMode()}},{key:"_handleManageDashboards",value:function(e){(0,W.s)(e)&&(0,F.o)("/config/lovelace/dashboards")}},{key:"_handleManageResources",value:function(e){(0,W.s)(e)&&(0,F.o)("/config/lovelace/resources")}},{key:"_handleUnusedEntities",value:function(e){var t;(0,W.s)(e)&&(0,F.o)("".concat(null===(t=this.route)||void 0===t?void 0:t.prefix,"/hass-unused-entities"))}},{key:"_handleShowVoiceCommandDialog",value:function(e){(0,W.s)(e)&&this._showVoiceCommandDialog()}},{key:"_showVoiceCommandDialog",value:function(){(0,le.z)(this,this.hass,{pipeline_id:"last_used"})}},{key:"_showMoreInfoDialog",value:function(e){(0,ne.p)(this,{entityId:e})}},{key:"_handleEnableEditMode",value:function(e){(0,W.s)(e)&&this._enableEditMode()}},{key:"_enableEditMode",value:(Q=(0,x.A)((0,M.A)().m(function e(){var t,o,i,a,n,r=this;return(0,M.A)().w(function(e){for(;;)switch(e.n){case 0:if(!this._yamlMode){e.n=1;break}return(0,ae.showAlertDialog)(this,{text:this.hass.localize("ui.panel.lovelace.editor.yaml_unsupported")}),e.a(2);case 1:if(!(0,$.Wu)(this.lovelace.rawConfig)||(0,Ae.B2)(this.lovelace.rawConfig.strategy)){e.n=6;break}return e.n=2,(0,me.Nu)("dashboard",this.lovelace.rawConfig.strategy.type).catch(function(e){});case 2:if(null==(o=e.v)||!o.noEditor){e.n=3;break}return(0,_e.z)(this,{lovelace:this.lovelace,mode:"storage",narrow:this.narrow}),e.a(2);case 3:return i=null===(t=this.route)||void 0===t?void 0:t.prefix.slice(1),e.n=4,this.hass.loadFragmentTranslation("config");case 4:return e.n=5,(0,ee.SJ)(this.hass);case 5:return a=e.v,n=a.find(function(e){return e.url_path===i}),(0,be.Y)(this,{config:this.lovelace.rawConfig,title:this.panel?(0,te.hL)(this.hass,this.panel):void 0,saveConfig:this.lovelace.saveConfig,takeControl:function(){(0,_e.z)(r,{lovelace:r.lovelace,mode:"storage",narrow:r.narrow})},deleteDashboard:function(){var e=(0,x.A)((0,M.A)().m(function e(){return(0,M.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,(0,ae.dk)(r,{title:r.hass.localize("ui.panel.config.lovelace.dashboards.confirm_delete_title",{dashboard_title:n.title}),text:r.hass.localize("ui.panel.config.lovelace.dashboards.confirm_delete_text"),confirmText:r.hass.localize("ui.common.delete"),destructive:!0});case 1:if(e.v){e.n=2;break}return e.a(2,!1);case 2:return e.p=2,e.n=3,(0,ee.A_)(r.hass,n.id);case 3:return e.a(2,!0);case 4:return e.p=4,e.v,e.a(2,!1)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}()}),e.a(2);case 6:this.lovelace.setEditMode(!0);case 7:return e.a(2)}},e,this)})),function(){return Q.apply(this,arguments)})},{key:"_editModeDisable",value:function(){this.lovelace.setEditMode(!1),this._undoRedoController.reset()}},{key:"_editDashboard",value:(D=(0,x.A)((0,M.A)().m(function e(){var t,o,i,a,n=this;return(0,M.A)().w(function(e){for(;;)switch(e.n){case 0:return o=null===(t=this.route)||void 0===t?void 0:t.prefix.slice(1),e.n=1,this.hass.loadFragmentTranslation("config");case 1:return e.n=2,(0,ee.SJ)(this.hass);case 2:i=e.v,a=i.find(function(e){return e.url_path===o}),(0,fe.B)(this,{dashboard:a,urlPath:o,updateDashboard:function(){var e=(0,x.A)((0,M.A)().m(function e(t){return(0,M.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,ee.mQ)(n.hass,a.id,t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),removeDashboard:function(){var e=(0,x.A)((0,M.A)().m(function e(){return(0,M.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,(0,ae.dk)(n,{title:n.hass.localize("ui.panel.config.lovelace.dashboards.confirm_delete_title",{dashboard_title:a.title}),text:n.hass.localize("ui.panel.config.lovelace.dashboards.confirm_delete_text"),confirmText:n.hass.localize("ui.common.delete"),destructive:!0});case 1:if(e.v){e.n=2;break}return e.a(2,!1);case 2:return e.p=2,e.n=3,(0,ee.A_)(n.hass,a.id);case 3:return e.a(2,!0);case 4:return e.p=4,e.v,e.a(2,!1)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}()});case 3:return e.a(2)}},e,this)})),function(){return D.apply(this,arguments)})},{key:"_navigateToView",value:function(e,t){var o=this.lovelace.editMode?"".concat(this.route.prefix,"/").concat(e,"?").concat((0,O.$X)({edit:"1"})):"".concat(this.route.prefix,"/").concat(e).concat(location.search);"".concat(location.pathname).concat(location.search)!==o&&(0,F.o)(o,{replace:t})}},{key:"_editView",value:function(){var e=this;(0,we.f)(this,{lovelace:this.lovelace,viewIndex:this._curView,saveCallback:function(t,o){var i=o.path||t;e._navigateToView(i)}})}},{key:"_moveViewLeft",value:function(e){if(e.stopPropagation(),0!==this._curView){var t=this.lovelace,o=this._curView,i=this._curView-1;this._curView=i,this.config.views[o].path||this._navigateToView(i,!0),t.saveConfig((0,ge.Bl)(t.config,o,i))}}},{key:"_moveViewRight",value:function(e){if(e.stopPropagation(),this._curView+1!==this.lovelace.config.views.length){var t=this.lovelace,o=this._curView,i=this._curView+1;this._curView=i,this.config.views[o].path||this._navigateToView(i,!0),t.saveConfig((0,ge.Bl)(t.config,o,i))}}},{key:"_addView",value:function(){var e=this;(0,we.f)(this,{lovelace:this.lovelace,saveCallback:function(t,o){var i=o.path||t;e._navigateToView(i)}})}},{key:"_handleViewSelected",value:function(e){e.preventDefault();var t=Number(e.detail.name);if(t!==this._curView){var o=this.config.views[t].path||t;this._navigateToView(o)}else this._editMode||scrollTo({behavior:"smooth",top:0})}},{key:"_selectView",value:function(e,t){var i=this;if(t||this._curView!==e){null!=this._curView&&(this._viewScrollPositions[this._curView]=window.scrollY),e=void 0===e?0:e,this._curView=e,t&&(this._viewCache={},this._viewScrollPositions={});var a,n=this._viewRoot;if(n.lastChild&&n.removeChild(n.lastChild),"hass-unused-entities"===e){var r=document.createElement("hui-unused-entities");return Promise.all([o.e("44533"),o.e("34861"),o.e("44288"),o.e("53885"),o.e("45284"),o.e("61854")]).then(o.bind(o,39693)).then(function(){r.hass=i.hass,r.lovelace=i.lovelace,r.narrow=i.narrow}),void n.appendChild(r)}this.config.views[e]?(!t&&this._viewCache[e]?a=this._viewCache[e]:((a=document.createElement("hui-view")).index=e,this._viewCache[e]=a),a.lovelace=this.lovelace,a.hass=this.hass,a.narrow=this.narrow,n.appendChild(a)):this.lovelace.setEditMode(!0)}}},{key:"_openShortcutDialog",value:function(e){e.preventDefault(),(0,se.H)(this)}},{key:"_applyUndoRedo",value:(I=(0,x.A)((0,M.A)().m(function e(t){var o;return(0,M.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return this._configChangedByUndo=!0,e.p=1,e.n=2,this.lovelace.saveConfig(t.config);case 2:e.n=4;break;case 3:return e.p=3,o=e.v,this._configChangedByUndo=!1,(0,de.P)(this,{message:this.hass.localize("ui.panel.lovelace.editor.undo_redo_failed_to_apply_changes",{error:o.message}),duration:4e3,dismissable:!0}),e.a(2);case 4:this._navigateToView(t.location);case 5:return e.a(2)}},e,this,[[1,3]])})),function(e){return I.apply(this,arguments)})},{key:"_undo",value:function(){this._undoRedoController.undo()}},{key:"_redo",value:function(){this._undoRedoController.redo()}}],[{key:"styles",get:function(){return[ce.RF,(0,q.AH)(V||(V=(0,C.A)([":host{-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}.header{background-color:var(--app-header-background-color);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);position:fixed;top:0;width:calc(var(--mdc-top-app-bar-width,100%) - var(--safe-area-inset-right,0px));-webkit-backdrop-filter:var(--app-header-backdrop-filter,none);backdrop-filter:var(--app-header-backdrop-filter,none);padding-top:var(--safe-area-inset-top);padding-right:var(--safe-area-inset-right);z-index:4;transition:box-shadow .2s linear}.narrow .header{width:calc(var(--mdc-top-app-bar-width,100%) - var(--safe-area-inset-left,0px) - var(--safe-area-inset-right,0px));padding-left:var(--safe-area-inset-left)}:host([scrolled]) .header{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow,0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12))}.edit-mode .header{background-color:var(--app-header-edit-background-color,#455a64);color:var(--app-header-edit-text-color,#fff)}.toolbar{height:var(--header-height);display:flex;align-items:center;font-size:var(--ha-font-size-xl);padding:0px 12px;font-weight:var(--ha-font-weight-normal);box-sizing:border-box}.narrow .toolbar{padding:0 4px}.main-title{margin:var(--margin-title);line-height:var(--ha-line-height-normal);flex-grow:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;min-width:0}.narrow .main-title{margin:0;margin-inline-start:8px}.action-items{white-space:nowrap;display:flex;align-items:center}ha-tab-group{--ha-tab-indicator-color:var(\n            --app-header-selection-bar-color,\n            var(--app-header-text-color, white)\n          );--ha-tab-active-text-color:var(--app-header-text-color, white);--ha-tab-track-color:transparent;align-self:flex-end;flex-grow:1;min-width:0;height:100%}ha-tab-group::part(nav){padding:0}ha-tab-group::part(scroll-button){background-color:var(--app-header-background-color);background:linear-gradient(90deg,var(--app-header-background-color),transparent);z-index:1}ha-tab-group::part(scroll-button-end){background:linear-gradient(270deg,var(--app-header-background-color),transparent)}.edit-mode ha-tab-group::part(scroll-button){background-color:var(--app-header-edit-background-color,#455a64);background:linear-gradient(90deg,var(--app-header-edit-background-color,#455a64),transparent)}.edit-mode ha-tab-group::part(scroll-button--end){background:linear-gradient(270deg,var(--app-header-edit-background-color,#455a64),transparent)}.edit-mode div[main-title]{pointer-events:auto}.tab-bar{display:flex}.edit-mode ha-tab-group{flex-grow:0;color:var(--app-header-edit-text-color,#fff);--ha-tab-active-text-color:var(--app-header-edit-text-color, #fff);--ha-tab-indicator-color:var(--app-header-edit-text-color, #fff)}ha-tab-group-tab{--ha-tab-group-tab-height:var(--header-height, 56px)}ha-tab-group-tab[aria-selected=true] .edit-icon{display:inline-flex}ha-tab-group-tab::part(base){padding-inline-start:var(--ha-tab-padding-start,var(--wa-space-l));padding-inline-end:var(--ha-tab-padding-end,var(--wa-space-l))}ha-tab-group-tab::part(base){padding-top:calc((var(--ha-tab-group-tab-height) - 20px)/ 2)}ha-tab-group-tab.icon::part(base){padding-top:calc((var(--ha-tab-group-tab-height) - 20px)/ 2 - 2px);padding-bottom:calc((var(--ha-tab-group-tab-height) - 20px)/ 2 - 4px)}.tab-bar ha-tab-group-tab{--ha-tab-group-tab-height:var(--tab-bar-height, 56px)}.edit-mode ha-tab-group-tab[aria-selected=true]::part(base){padding:0;margin-top:calc((var(--tab-bar-height,56px) - 48px)/ 2)}.edit-icon{color:var(--accent-color);padding:0 8px;vertical-align:middle;--mdc-theme-text-disabled-on-light:var(--disabled-text-color);direction:var(--direction)}.edit-icon:last-child{padding-left:0}.edit-icon.view{display:none}#add-view{white-space:nowrap;display:flex;align-items:center}#add-view ha-svg-icon{background-color:var(--accent-color);border-radius:var(--ha-border-radius-sm)}a{color:var(--text-primary-color,#fff)}hui-view-container{position:relative;display:flex;min-height:100vh;box-sizing:border-box;padding-top:calc(var(--header-height) + var(--safe-area-inset-top));padding-right:var(--safe-area-inset-right);padding-inline-end:var(--safe-area-inset-right);padding-bottom:var(--safe-area-inset-bottom)}.narrow hui-view-container{padding-left:var(--safe-area-inset-left);padding-inline-start:var(--safe-area-inset-left)}hui-view-container>*{flex:1 1 100%;max-width:100%}hui-view-container.has-tab-bar{padding-top:calc(var(--header-height,56px) + calc(var(--tab-bar-height,56px) - 2px) + var(--safe-area-inset-top,0px))}.hide-tab{display:none}.menu-link{text-decoration:none}.exit-edit-mode{--mdc-theme-primary:var(--app-header-edit-text-color, #fff);--mdc-button-outline-color:var(--app-header-edit-text-color, #fff);--mdc-typography-button-font-size:var(--ha-font-size-m)}.child-view-icon{opacity:.5}"])))]}}]);var I,D,Q}(q.WF);(0,I.__decorate)([(0,D.MZ)({attribute:!1})],Le.prototype,"panel",void 0),(0,I.__decorate)([(0,D.MZ)({attribute:!1})],Le.prototype,"hass",void 0),(0,I.__decorate)([(0,D.MZ)({attribute:!1})],Le.prototype,"lovelace",void 0),(0,I.__decorate)([(0,D.MZ)({type:Boolean})],Le.prototype,"narrow",void 0),(0,I.__decorate)([(0,D.MZ)({attribute:!1})],Le.prototype,"route",void 0),(0,I.__decorate)([(0,D.MZ)({attribute:!1})],Le.prototype,"extraActionItems",void 0),(0,I.__decorate)([(0,D.wk)()],Le.prototype,"_curView",void 0),Le=(0,I.__decorate)([(0,D.EM)("hui-root")],Le),t()}catch(Se){t(Se)}})},84187:function(e,t,o){o.d(t,{M:function(){return i}});o(27495),o(90906);var i=/(?:iphone|android|ipad)/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=10615.32141237874557e9.js.map