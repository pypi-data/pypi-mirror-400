"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["16369"],{99611:function(e,t,o){o.a(e,async function(e,a){try{o.d(t,{r:function(){return w}});var r,n,i=o(72153),s=o(31432),c=o(44734),l=o(43080),d=o(69683),h=o(6454),u=o(25460),p=(o(28706),o(40445)),g=o(1126),v=o(96196),f=o(77845),_=o(60353),y=o(14503),m=e([g]);g=(m.then?(await m)():m)[0];var w=300,b=function(e){function t(){var e;(0,c.A)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=(0,d.A)(this,t,[].concat(a))).open=!1,e.flexContent=!1,e._drawerOpen=!1,e._gestureRecognizer=new _.u,e._isDragging=!1,e._handleTouchStart=function(t){var o,a=(0,s.A)(t.composedPath());try{for(a.s();!(o=a.n()).done;){var r=o.value;if(r===e._drawer)break;if(r.scrollTop>0)return}}catch(n){a.e(n)}finally{a.f()}e._startResizing(t.touches[0].clientY)},e._handleTouchMove=function(t){var o=t.touches[0].clientY,a=e._gestureRecognizer.move(o);a<0&&(t.preventDefault(),e._isDragging=!0,requestAnimationFrame(function(){e._isDragging&&e.style.setProperty("--dialog-transform","translateY(".concat(-1*a,"px)"))}))},e._handleTouchEnd=function(){var t;e._unregisterResizeHandlers(),e._isDragging=!1;var o=e._gestureRecognizer.end();if(o.isSwipe)o.isDownwardSwipe?e._drawerOpen=!1:e._animateSnapBack();else{var a=null===(t=e._drawer.shadowRoot)||void 0===t?void 0:t.querySelector('[part="body"]'),r=(null==a?void 0:a.offsetHeight)||0;r>0&&o.delta<0&&Math.abs(o.delta)>.5*r?e._drawerOpen=!1:e._animateSnapBack()}},e._unregisterResizeHandlers=function(){document.removeEventListener("touchmove",e._handleTouchMove),document.removeEventListener("touchend",e._handleTouchEnd),document.removeEventListener("touchcancel",e._handleTouchEnd)},e}return(0,h.A)(t,e),(0,l.A)(t,[{key:"_handleAfterHide",value:function(e){e.stopPropagation(),this.open=!1;var t=new Event("closed",{bubbles:!0,composed:!0});this.dispatchEvent(t)}},{key:"updated",value:function(e){(0,u.A)(t,"updated",this,3)([e]),e.has("open")&&(this._drawerOpen=this.open)}},{key:"render",value:function(){return(0,v.qy)(r||(r=(0,i.A)([' <wa-drawer id="drawer" placement="bottom" .open="','" @wa-after-hide="','" without-header @touchstart="','"> <slot name="header"></slot> <div id="body" class="body ha-scrollbar"> <slot></slot> </div> </wa-drawer> '])),this._drawerOpen,this._handleAfterHide,this._handleTouchStart)}},{key:"_startResizing",value:function(e){document.addEventListener("touchmove",this._handleTouchMove,{passive:!1}),document.addEventListener("touchend",this._handleTouchEnd),document.addEventListener("touchcancel",this._handleTouchEnd),this._gestureRecognizer.start(e)}},{key:"_animateSnapBack",value:function(){var e=this;this.style.setProperty("--dialog-transition","transform ".concat(w,"ms ease-out")),this.style.removeProperty("--dialog-transform"),setTimeout(function(){e.style.removeProperty("--dialog-transition")},w)}},{key:"disconnectedCallback",value:function(){(0,u.A)(t,"disconnectedCallback",this,3)([]),this._unregisterResizeHandlers(),this._isDragging=!1}}])}(v.WF);b.styles=[y.dp,(0,v.AH)(n||(n=(0,i.A)(["wa-drawer{--wa-color-surface-raised:transparent;--spacing:0;--size:var(--ha-bottom-sheet-height, auto);--show-duration:","ms;--hide-duration:","ms}wa-drawer::part(dialog){max-height:var(--ha-bottom-sheet-max-height,90vh);align-items:center;transform:var(--dialog-transform);transition:var(--dialog-transition)}wa-drawer::part(body){max-width:var(--ha-bottom-sheet-max-width);width:100%;border-top-left-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));border-top-right-radius:var(--ha-bottom-sheet-border-radius,var(--ha-dialog-border-radius,var(--ha-border-radius-2xl)));background-color:var(--ha-bottom-sheet-surface-background,var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff)));padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}:host([flexcontent]) wa-drawer::part(body){display:flex;flex-direction:column}:host([flexcontent]) .body{flex:1;max-width:100%;display:flex;flex-direction:column;padding:var(--ha-bottom-sheet-padding,0 var(--safe-area-inset-right) var(--safe-area-inset-bottom) var(--safe-area-inset-left))}"])),w,w)],(0,p.__decorate)([(0,f.MZ)({type:Boolean})],b.prototype,"open",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],b.prototype,"flexContent",void 0),(0,p.__decorate)([(0,f.wk)()],b.prototype,"_drawerOpen",void 0),(0,p.__decorate)([(0,f.P)("#drawer")],b.prototype,"_drawer",void 0),b=(0,p.__decorate)([(0,f.EM)("ha-bottom-sheet")],b),a()}catch(A){a(A)}})},8034:function(e,t,o){var a,r,n=o(72153),i=o(44734),s=o(43080),c=o(69683),l=o(6454),d=(o(28706),o(40445)),h=o(96196),u=o(77845),p=function(e){function t(){var e;(0,i.A)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=(0,c.A)(this,t,[].concat(a))).narrow=!1,e.slim=!1,e.threeLine=!1,e.wrapHeading=!1,e}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return(0,h.qy)(a||(a=(0,n.A)([' <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="','" ?three-line="','"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> '])),!this.threeLine,this.threeLine)}}])}(h.WF);p.styles=(0,h.AH)(r||(r=(0,n.A)([":host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16px;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display,flex);flex-direction:var(--layout-vertical_-_flex-direction,column);justify-content:var(--layout-center-justified_-_justify-content,center);flex:var(--layout-flex_-_flex,1);flex-basis:var(--layout-flex_-_flex-basis,0.000000001px)}.body[three-line]{min-height:88px}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(\n        --mdc-typography-body2-font-family,\n        var(--mdc-typography-font-family, var(--ha-font-family-body))\n      );font-size:var(--mdc-typography-body2-font-size, var(--ha-font-size-s));-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-weight:var(--mdc-typography-body2-font-weight,var(--ha-font-weight-normal));line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(72px - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;min-width:0;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}:host([slim]),:host([slim]) .content,:host([slim]) ::slotted(ha-switch){padding:0}:host([slim]) .body{min-height:0}"]))),(0,d.__decorate)([(0,u.MZ)({type:Boolean,reflect:!0})],p.prototype,"narrow",void 0),(0,d.__decorate)([(0,u.MZ)({type:Boolean,reflect:!0})],p.prototype,"slim",void 0),(0,d.__decorate)([(0,u.MZ)({type:Boolean,attribute:"three-line"})],p.prototype,"threeLine",void 0),(0,d.__decorate)([(0,u.MZ)({type:Boolean,attribute:"wrap-heading",reflect:!0})],p.prototype,"wrapHeading",void 0),p=(0,d.__decorate)([(0,u.EM)("ha-settings-row")],p)},35930:function(e,t,o){o.a(e,async function(e,a){try{o.r(t);var r,n,i,s=o(61397),c=o(26520),l=o(50264),d=o(72153),h=o(44734),u=o(43080),p=o(69683),g=o(6454),v=o(40445),f=o(96196),_=o(77845),y=o(1087),m=(o(38962),o(72554)),w=o(64138),b=(o(8034),o(75709),o(18350)),A=o(68423),k=o(14503),x=o(16536),M=e([w,b,x]);[w,b,x]=M.then?(await M)():M;var E=function(e){function t(){return(0,h.A)(this,t),(0,p.A)(this,t,arguments)}return(0,g.A)(t,e),(0,u.A)(t,[{key:"showDialog",value:function(e){this._params=e,this._scope=e.scope,this._category=e.entityReg.categories[e.scope],this._error=void 0}},{key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,y.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){if(!this._params)return f.s6;var e=this._params.entityReg.categories[this._params.scope];return(0,f.qy)(r||(r=(0,d.A)([' <ha-dialog open @closed="','" .heading="','"> <div> ',' <div class="form"> <ha-category-picker .hass="','" .scope="','" .value="','" @value-changed="','"></ha-category-picker> </div> </div> <ha-button appearance="plain" slot="primaryAction" @click="','"> ',' </ha-button> <ha-button slot="primaryAction" @click="','" .disabled="','"> '," </ha-button> </ha-dialog> "])),this.closeDialog,(0,m.l)(this.hass,e?this.hass.localize("ui.panel.config.category.assign.edit"):this.hass.localize("ui.panel.config.category.assign.assign")),this._error?(0,f.qy)(n||(n=(0,d.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",this.hass,this._scope,this._category,this._categoryChanged,this.closeDialog,this.hass.localize("ui.common.cancel"),this._updateEntry,!!this._submitting,this.hass.localize("ui.common.save"))}},{key:"_categoryChanged",value:function(e){e.detail.value||(this._category=void 0),this._category=e.detail.value}},{key:"_updateEntry",value:(o=(0,l.A)((0,s.A)().m(function e(){var t;return(0,s.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return this._submitting=!0,this._error=void 0,e.p=1,e.n=2,(0,A.G_)(this.hass,this._params.entityReg.entity_id,{categories:(0,c.A)({},this._scope,this._category||null)});case 2:this.closeDialog(),e.n=4;break;case 3:e.p=3,t=e.v,this._error=t.message||this.hass.localize("ui.panel.config.category.assign.unknown_error");case 4:return e.p=4,this._submitting=!1,e.f(4);case 5:return e.a(2)}},e,this,[[1,3,4,5]])})),function(){return o.apply(this,arguments)})}],[{key:"styles",get:function(){return[k.nA,(0,f.AH)(i||(i=(0,d.A)(["ha-icon-picker,ha-textfield{display:block;margin-bottom:16px}"])))]}}]);var o}(f.WF);(0,v.__decorate)([(0,_.MZ)({attribute:!1})],E.prototype,"hass",void 0),(0,v.__decorate)([(0,_.wk)()],E.prototype,"_scope",void 0),(0,v.__decorate)([(0,_.wk)()],E.prototype,"_category",void 0),(0,v.__decorate)([(0,_.wk)()],E.prototype,"_error",void 0),(0,v.__decorate)([(0,_.wk)()],E.prototype,"_params",void 0),(0,v.__decorate)([(0,_.wk)()],E.prototype,"_submitting",void 0),E=(0,v.__decorate)([(0,_.EM)("dialog-assign-category")],E),a()}catch(C){a(C)}})},16536:function(e,t,o){o.a(e,async function(e,t){try{var a,r,n,i,s,c,l=o(61397),d=o(50264),h=o(7739),u=o(72153),p=o(44734),g=o(43080),v=o(69683),f=o(6454),_=(o(28706),o(2008),o(74423),o(23792),o(62062),o(18111),o(22489),o(61701),o(36033),o(26099),o(31415),o(17642),o(58004),o(33853),o(45876),o(32475),o(15024),o(31698),o(21699),o(47764),o(11392),o(62953),o(40445)),y=o(96196),m=o(77845),w=o(22786),b=o(1087),A=o(38508),k=(o(67094),o(76570)),x=o(54706),M=o(90986),E=e([A]);A=(E.then?(await E)():E)[0];var C="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",z="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",L="___ADD_NEW___",R="___NO_CATEGORIES___",H=function(e){function t(){var e;(0,p.A)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(e=(0,v.A)(this,t,[].concat(c))).noAdd=!1,e.disabled=!1,e.required=!1,e.hassSubscribeRequiredHostProps=["scope"],e._categoryMap=(0,w.A)(function(e){return e?new Map(e.map(function(e){return[e.category_id,e]})):new Map}),e._computeValueRenderer=(0,w.A)(function(t){return function(o){var s=e._categoryMap(t).get(o);return s?(0,y.qy)(r||(r=(0,u.A)([" ",' <span slot="headline">',"</span> "])),s.icon?(0,y.qy)(n||(n=(0,u.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),s.icon):(0,y.qy)(i||(i=(0,u.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),z),s.name):(0,y.qy)(a||(a=(0,u.A)([' <ha-svg-icon slot="start" .path="','"></ha-svg-icon> <span slot="headline">',"</span> "])),z,o)}}),e._getCategories=(0,w.A)(function(t){return t&&0!==t.length?t.map(function(e){return{id:e.category_id,primary:e.name,icon:e.icon||void 0,icon_path:e.icon?void 0:z,sorting_label:e.name,search_labels:[e.name,e.category_id].filter(function(e){return Boolean(e)})}}):[{id:R,primary:e.hass.localize("ui.components.category-picker.no_categories"),icon_path:z}]}),e._getItems=function(){return e._getCategories(e._categories)},e._allCategoryNames=(0,w.A)(function(e){return e?(0,h.A)(new Set(e.map(function(e){return e.name.toLowerCase()}).filter(Boolean))):[]}),e._getAdditionalItems=function(t){if(e.noAdd)return[];var o=e._allCategoryNames(e._categories);return t&&!o.includes(t.toLowerCase())?[{id:L+t,primary:e.hass.localize("ui.components.category-picker.add_new_sugestion",{name:t}),icon_path:C}]:[{id:L,primary:e.hass.localize("ui.components.category-picker.add_new"),icon_path:C}]},e._notFoundLabel=function(t){return e.hass.localize("ui.components.category-picker.no_match",{term:(0,y.qy)(s||(s=(0,u.A)(["<b>‘","’</b>"])),t)})},e}return(0,f.A)(t,e),(0,g.A)(t,[{key:"open",value:(o=(0,d.A)((0,l.A)().m(function e(){var t;return(0,l.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this._picker)||void 0===t?void 0:t.open();case 2:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"hassSubscribe",value:function(){var e=this;return[(0,k.Ar)(this.hass.connection,this.scope,function(t){e._categories=t})]}},{key:"render",value:function(){var e,t=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.category-picker.category"),o=this._computeValueRenderer(this._categories);return(0,y.qy)(c||(c=(0,u.A)([' <ha-generic-picker .hass="','" .autofocus="','" .label="','" .notFoundLabel="','" .emptyLabel="','" .placeholder="','" .value="','" .getItems="','" .getAdditionalItems="','" .valueRenderer="','" @value-changed="','"> </ha-generic-picker> '])),this.hass,this.autofocus,this.label,this._notFoundLabel,this.hass.localize("ui.components.category-picker.no_categories"),t,this.value,this._getItems,this._getAdditionalItems,o,this._valueChanged)}},{key:"_valueChanged",value:function(e){var t=this;e.stopPropagation();var o=e.detail.value;if(o!==R)if(o)if(o.startsWith(L)){this.hass.loadFragmentTranslation("config");var a=o.substring(13);(0,M.S)(this,{scope:this.scope,suggestedName:a,createEntry:(r=(0,d.A)((0,l.A)().m(function e(o){var a;return(0,l.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,k.s_)(t.hass,t.scope,o);case 1:return a=e.v,t._setValue(a.category_id),e.a(2,a)}},e)})),function(e){return r.apply(this,arguments)})})}else{var r;this._setValue(o)}else this._setValue(void 0)}},{key:"_setValue",value:function(e){var t=this;this.value=e,setTimeout(function(){(0,b.r)(t,"value-changed",{value:e}),(0,b.r)(t,"change")},0)}}]);var o}((0,x.E)(y.WF));(0,_.__decorate)([(0,m.MZ)({attribute:!1})],H.prototype,"hass",void 0),(0,_.__decorate)([(0,m.MZ)()],H.prototype,"scope",void 0),(0,_.__decorate)([(0,m.MZ)()],H.prototype,"label",void 0),(0,_.__decorate)([(0,m.MZ)()],H.prototype,"value",void 0),(0,_.__decorate)([(0,m.MZ)()],H.prototype,"helper",void 0),(0,_.__decorate)([(0,m.MZ)()],H.prototype,"placeholder",void 0),(0,_.__decorate)([(0,m.MZ)({type:Boolean,attribute:"no-add"})],H.prototype,"noAdd",void 0),(0,_.__decorate)([(0,m.MZ)({type:Boolean})],H.prototype,"disabled",void 0),(0,_.__decorate)([(0,m.MZ)({type:Boolean})],H.prototype,"required",void 0),(0,_.__decorate)([(0,m.wk)()],H.prototype,"_categories",void 0),(0,_.__decorate)([(0,m.P)("ha-generic-picker")],H.prototype,"_picker",void 0),H=(0,_.__decorate)([(0,m.EM)("ha-category-picker")],H),t()}catch(T){t(T)}})},91081:function(e,t,o){function a(e,t){return{top:Math.round(e.getBoundingClientRect().top-t.getBoundingClientRect().top),left:Math.round(e.getBoundingClientRect().left-t.getBoundingClientRect().left)}}o.d(t,{A:function(){return a}})},97039:function(e,t,o){o.d(t,{I7:function(){return i},JG:function(){return n},Rt:function(){return s}});o(23792),o(2892),o(26099),o(27495),o(31415),o(17642),o(58004),o(33853),o(45876),o(32475),o(15024),o(31698),o(47764),o(25440),o(62953);var a=o(91081),r=new Set;function n(e){if(r.add(e),!document.documentElement.classList.contains("wa-scroll-lock")){var t=(n=document.documentElement.clientWidth,Math.abs(window.innerWidth-n)+(a=Number(getComputedStyle(document.body).paddingRight.replace(/px/,"")),isNaN(a)||!a?0:a)),o=getComputedStyle(document.documentElement).scrollbarGutter;o&&"auto"!==o||(o="stable"),t<2&&(o=""),document.documentElement.style.setProperty("--wa-scroll-lock-gutter",o),document.documentElement.classList.add("wa-scroll-lock"),document.documentElement.style.setProperty("--wa-scroll-lock-size","".concat(t,"px"))}var a,n}function i(e){r.delete(e),0===r.size&&(document.documentElement.classList.remove("wa-scroll-lock"),document.documentElement.style.removeProperty("--wa-scroll-lock-size"))}function s(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"smooth",n=(0,a.A)(e,t),i=n.top+t.scrollTop,s=n.left+t.scrollLeft,c=t.scrollLeft,l=t.scrollLeft+t.offsetWidth,d=t.scrollTop,h=t.scrollTop+t.offsetHeight;"horizontal"!==o&&"both"!==o||(s<c?t.scrollTo({left:s,behavior:r}):s+e.clientWidth>l&&t.scrollTo({left:s-t.offsetWidth+e.clientWidth,behavior:r})),"vertical"!==o&&"both"!==o||(i<d?t.scrollTo({top:i,behavior:r}):i+e.clientHeight>h&&t.scrollTo({top:i-t.offsetHeight+e.clientHeight,behavior:r}))}}}]);
//# sourceMappingURL=16369.6d1bd968aed184b7.js.map