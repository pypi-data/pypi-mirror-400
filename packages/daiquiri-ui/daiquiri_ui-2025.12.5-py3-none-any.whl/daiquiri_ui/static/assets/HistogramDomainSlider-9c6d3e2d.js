import{j as u,r}from"./index-4cf586ed.js";import{F as v,a as T,I as C,k as H,H as y}from"./index-19c84627.js";import{d as A,t as S}from"./hooks-e7539055.js";const d=[.1,1];function E(a){const{histogram:n,scaleType:o,onDomainChange:s,domain:t=[0,1]}=a,e=A(n),{bins:M}=e,i=S(o),[D,f]=r.useState([null,null]),m=v(M,i),c=r.useMemo(()=>m||(a.dataMin!==void 0&&a.dataMax!==void 0?i===T.Log&&(a.dataMin<=0||a.dataMax<=0)?d:[a.dataMin,a.dataMax]:d),[m,a.dataMin,a.dataMax,i]);return r.useEffect(()=>{f(t)},[t[0],t[1]]),u.jsx(C,{dataDomain:c,customDomain:D,scaleType:i,onCustomDomainChange:g=>{const x=H(g,c),[h]=y(x,c,i);s(h)},histogram:{...e}})}const l=new Float64Array([]);function I(a){var n,o,s,t;return u.jsx(E,{histogram:{values:((n=a.histogram)==null?void 0:n.values.data)??l,bins:((o=a.histogram)==null?void 0:o.bins.data)??l,colorMap:a.colorMap,invertColorMap:a.invertColorMap},dataMin:((s=a.statistics)==null?void 0:s.min)??void 0,dataMax:((t=a.statistics)==null?void 0:t.max)??void 0,scaleType:a.scaleType,domain:a.scaleDomain,onDomainChange:e=>{a.autoscale&&a.setAutoscale(!1),a.setScaleDomain(e)}})}export{I as H};
