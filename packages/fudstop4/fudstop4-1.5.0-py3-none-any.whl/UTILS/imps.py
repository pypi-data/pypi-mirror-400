import asyncio
import pandas as pd
import aiohttp
from fudstop4.apis.polygonio.polygon_options import PolygonOptions
from fudstop4.apis.webull.webull_trading import WebullTrading
from fudstop4.apis.webull.webull_markets import WebullMarkets
from fudstop4.apis.webull.webull_options.webull_options import WebullOptions
from typing import Dict, Optional
from fudstop4.apis.webull.webull_ta import WebullTA
from fudstop4._markets.list_sets.ticker_lists import most_active_tickers
from asyncio import Semaphore, Lock
from datetime import datetime, timedelta
from dateutil import parser
from fudstop4.apis.helpers import get_human_readable_string
from discord_webhook import AsyncDiscordWebhook, DiscordEmbed
from fudstop4._markets.list_sets.dicts import hex_color_dict

opts = WebullOptions()
db = PolygonOptions()
trading = WebullTrading()
markets = WebullMarkets()
ta = WebullTA()


most_active_ticker_ids = [913323987, 913255489, 913257027, 950181408, 913256303, 913255598, 913303928, 913324489, 925418520, 913255353, 950126602, 913256192, 925377113, 913323467, 925284417, 913255490, 913243750, 913255509, 913323997, 950993116, 913255369, 913243249, 913256091, 950988322, 913255289, 913243581, 913243251, 913324459, 913256162, 913254998, 913257561, 913323878, 913255495, 950173560, 913254235, 913324096, 913323709, 913255447, 950979350, 913256180, 913324504, 950177837, 913255053, 913243250, 913256135, 913255414, 950064710, 913255327, 913254891, 950178015, 950136998, 913257299, 913303964, 913324077, 913324002, 913243073, 950178219, 913324421, 950136918, 913247475, 925376726, 913732468, 913254746, 913257435, 913254883, 950172475, 950102542, 913256407, 913255108, 913323778, 913323554, 913255163, 913324114, 925179279, 925415088, 950052670, 913254679, 913323815, 913324123, 913324495, 913255443, 913255007, 913244722, 950145440, 913256248, 913246626, 913324585, 913256043, 913324503, 913323809, 913255993, 950121423, 913254558, 913254903, 916040682, 913257472, 950118595, 913244089, 913255192, 950187715, 950989569, 913424717, 950178170, 950095560, 913255171, 950186274, 913323915, 913253512, 913255162, 913255309, 913244544, 913244725, 913255341, 913324537, 913254872, 913246740, 950153166, 913254303, 913246449, 913256419, 913244796, 913255055, 913243611, 913254895, 950172451, 913324551, 950125342, 913255105, 913424716, 913255033, 913255505, 913255467, 913324070, 913255864, 950179680, 913323901, 913254406, 913324337, 913324497, 913323750, 913255218, 950118597, 913255465, 913255501, 950169475, 913257268, 913255666, 913243154, 950977519, 950169866, 925418532, 913256672, 913324509, 913244540, 913256359, 913323796, 913254999, 913323786, 913255363, 950188842, 913255078, 913324525, 913244915, 950171618, 950178653, 913353636, 913243231, 913256042, 913243139, 913324118, 913255508, 913244503, 913255803, 913244105, 913323300, 913243555, 913255253, 913730084, 913324095, 913243122, 916040691, 913324397, 913243879, 913255266, 913323925, 913243128, 913256217, 913247399, 913354362, 925377660, 925323875, 950188431, 913254559]
