# ğŸ›ï¸ PyCourt å…¨ç³»åˆ—æ³•å®˜é…ç½® (config.yaml)
#
# èº«ä»½
# ==== 
# - æœ¬æ–‡ä»¶æ˜¯ Court é¢†åŸŸçš„ã€Œé…ç½®æ³•å…¸ã€å…¥å£ï¼Œåªæ‰¿è½½ä¸æ³•é™¢å®¡è®¡ç›´æ¥ç›¸å…³çš„äº‹å®ï¼›
# - å½“å‰ä»…å®šä¹‰ `laws:` æ®µï¼ŒæŒ‰æ³•æ¡ç¼–å·ç»„ç»‡é…ç½®ç©ºé—´ï¼ˆhc001 / ac001 / dt001 ...ï¼‰ï¼›
# - å…¶ä»–æ–‡æœ¬/è±å…ä¿¡æ¯åˆ†åˆ«ç”± `judges_text.yaml` ä¸ `exempt.yaml` ç®¡ç†ã€‚
#
# ç”¨æ³•
# ==== 
# - ä»…å…è®¸é€šè¿‡ :func:`tools.court.loader.load_court_config` è¯»å–æœ¬æ–‡ä»¶ï¼Œ
#   **ç¦æ­¢**åœ¨ä¸šåŠ¡ä»£ç æˆ– Law å®ç°ä¸­ç›´æ¥æ‰“å¼€/è§£ææ­¤ YAMLï¼›
# - æ¯æ¡æ³•æ¡åœ¨ `laws.<code>` ä¸‹æ‹¥æœ‰è‡ªå·±çš„é…ç½®å­æ ‘ï¼š
#   - åŸºç¡€å­—æ®µï¼ˆenabled / exempt_files / descriptionï¼‰ç”± :class:`PyCourtBase` æä¾›ï¼›
#   - å…¶ä½™å­—æ®µï¼ˆå¦‚ HCConfig çš„ module_patterns ç­‰ï¼‰ç”±å¯¹åº” Law å®¶æ—é…ç½®æ¨¡å‹è´Ÿè´£è§£é‡Šï¼›
# - ä¿®æ”¹æœ¬æ–‡ä»¶åï¼Œåº”è¿è¡Œ `./qas.sh -s tools/court` ç¡®ä¿æ³•é™¢å·¥å…·ä»ç„¶é€šè¿‡å®¡è®¡ã€‚
#
# ç¦æ­¢è¡Œä¸º
# ======== 
# - ç¦æ­¢åœ¨æ­¤æ–‡ä»¶ä¸­æ··å…¥ä¸ Court å®¡è®¡æ— å…³çš„é…ç½®ï¼ˆå¦‚ CLIã€OPSã€ä¸šåŠ¡æœåŠ¡ç­‰ï¼‰ï¼›
# - ç¦æ­¢ç»•è¿‡ Pydantic æ¨¡å‹ç›´æ¥åœ¨ä»£ç ä¸­ä¾èµ– YAML ç»“æ„ç»†èŠ‚ï¼ˆé”®å/åµŒå¥—è·¯å¾„ç­‰ï¼‰ï¼›
# - ç¦æ­¢åœ¨æ­¤æ–‡ä»¶ä¸­æ–°å¢ã€Œä¸´æ—¶è°ƒè¯•å­—æ®µã€ï¼šè°ƒè¯•å¼€å…³åº”é€šè¿‡ä»£ç æˆ–ä¸“é—¨çš„è°ƒè¯•é…ç½®å¤„ç†ã€‚

laws:
  # HC å®¶æ—é…ç½®ï¼ˆå¯¹åº” tools.court.config.HCConfigï¼‰
  # - ä»…æ‰¿è½½ç¡¬ç¼–ç å®¡è®¡å¯å‘å¼ï¼šæ¨¡å—åŒ¹é…æ¨¡å¼ã€åç§° tokenã€æ•°å€¼é˜ˆå€¼ç­‰ï¼›
  # - ä¸å­˜æ”¾å…·ä½“ä¸šåŠ¡ç³»ç»Ÿçš„ä¸šåŠ¡é˜ˆå€¼ï¼Œé¿å…æŠŠä¸šåŠ¡é…ç½®è¯¯å¡è¿› Courtï¼›
  # - å­—æ®µå¿…é¡»ä¸ HCConfig ä¸€ä¸€å¯¹åº”ï¼Œç¦æ­¢æ‰©å±•è‡ªç”±å½¢æ€ payload/dict ç­‰åŠ¨æ€ç»“æ„ã€‚
  hc001:
    # constants ç›¸å…³
    module_patterns:
      - "constants.py"
      - "constants/"
      - "/constants/"
    naked_const_exempt_patterns:
      - "__init__.py"
      - "conftest.py"
      - "test_"
      - "_test.py"
    system_const_prefixes:
      - "Final"
      - "Literal"
      - "TypeVar"
      - "Generic"
      - "Protocol"
      - "Callable"
      - "ClassVar"
      - "Annotated"
    allowed_naked_patterns:
      - "_LOGGER"
      - "_LOG"
      - "LOGGER_NAME"
    typevar_pattern: "^[A-Z]$"

    # strings ç›¸å…³
    # è¡Œçº§å¿«é€Ÿæ’é™¤çš„ç‰‡æ®µï¼ˆä¸æ—§ç‰ˆ EXCLUDE_SUBSTRINGS å«ä¹‰ä¸€è‡´ï¼Œç»Ÿä¸€å°å†™åŒ¹é…ï¼‰ã€‚
    exclude_substrings:
      - "test"
      - "example"
      - "debug"
      - "log"

    # æŠ¥è¡¨/Prompt ç”Ÿæˆç›¸å…³æ–‡ä»¶æ¨¡å¼ï¼ˆæ—§ç‰ˆ payload.report_generator_filesï¼‰ã€‚
    report_generator_files: []

    # å‘½ä¸­åˆ™æ•´è¡Œè±å… HC001 çš„ç‰‡æ®µï¼Œå¯¹åº”æ—§ hardcode.yaml ä¸­
    # laws.hc001.payload.strings çš„è¯­ä¹‰ã€‚
    exempt_strings:
      # Pydantic Field æè¿°
      - 'description="'
      - 'Field('
      - 'default='
      - 'ge='
      - 'le='
      - 'gt='
      - 'lt='
      # Finalå¸¸é‡å®šä¹‰
      - 'Final[str] = "'
      - 'Final[int] = '
      - 'Final[float] = '
      - 'Final[bool] = '
      - 'Final[list[str]] = '
      # TypeAliaså®šä¹‰
      - 'TypeAlias = str'
      - 'TypeAlias = int'
      - 'TypeAlias = float'
      - 'TypeAlias = bool'
      # å¸¸è§çš„æŠ€æœ¯å­—ç¬¦ä¸²
      - '"utf-8"'
      - '"ascii"'
      - '"GET"'
      - '"POST"'
      - '"PUT"'
      - '"DELETE"'
      - '"application/json"'
      - 'quality.yaml'
      - 'quality_linter.yaml'
      - 'Path(__file__)'
      # Pythonå†…ç½®
      - '"__name__"'
      - '"__main__"'
      - '"__init__"'
      - '"__all__"'
      - '"pyproject.toml"'

      # é…ç½®é”®å
      - 'extra="'
      - 'model_config'
      # å¸¸è§å­—å…¸é”®ä¹¦å†™æ¨¡å¼ï¼ˆé”®: å€¼ï¼‰ï¼Œé¿å…å°†ç»“æ„åŒ–æ—¥å¿—/åºåˆ—åŒ–é”®åè¯¯åˆ¤ä¸ºç¡¬ç¼–ç 
      - '": '
      # å‡½æ•°å‚æ•°é»˜è®¤å€¼
      - 'def __init__(self, message: str, '
      - '= "unknown"'
      - '= "development"'
      - '= "primary"'
      - '= "normal"'
      - '= "pending"'
      - '= "success"'
      - '= "error"'
      # ç±»å¸¸é‡å®šä¹‰
      - ' = "pending"'
      - ' = "running"'
      - ' = "completed"'
      - ' = "failed"'
      - ' = "cancelled"'
      - ' = "success"'
      - ' = "error"'
      - ' = "normal"'
      - ' = "urgent"'
      - ' = "critical"'
      # æ—¥å¿—å’Œé”™è¯¯æ¶ˆæ¯çš„å ä½ç¬¦
      - '": "'
      - '" "'
      - '","'
      # æ ¼å¼åŒ–å­—ç¬¦ä¸²
      - 'f"'
      - '.format('
      # æ³¨é‡Šä¸­çš„ç¤ºä¾‹
      - '# "'
      - "# \""

      # HC è‡ªèº«å…ƒæ•°æ® / åè®®å…³é”®å­—ä¸æŠ€æœ¯æ£€æµ‹æ¨¡å¼
      # CourtConfig / loader ç­‰é›†ä¸­é…ç½®é”®
      - enabled
      - exempt_files
      - description
      - template

      # ç»“æ„æ€§ç›®å½• / æ¨¡å—åç¼€é»˜è®¤å€¼ï¼ˆBC/PC/VT ç­‰é…ç½®æ¨¡å‹çš„é»˜è®¤æ‹“æ‰‘ï¼‰
      - api/routes/
      - infra/adapters/**
      - core.base.types
      - core.dto
      - api.http
      - core/constants/
      - infra/vector/providers.py

      # åè®®/å®¡è®¡ç›¸å…³å…³é”®å­—ï¼ˆç”±å…¶ä»–æ³•å®˜è´Ÿè´£å…·ä½“è¯­ä¹‰ï¼‰
      - TYPE_CHECKING
      - "pragma: exclude file"
      - datetime
      - datetime.now(
      - datetime.utcnow(
      - datetime.
      - CapsuleAssetType.
      - CapsuleIssuer.
      - AssetMaterializedEvent
      - CapsuleMaterializedEvent
      - stage_public_event
      - asset_type
      - capsule_kind
      - issuer

      # æµ‹è¯•/ä¾èµ–ç›¸å…³æŠ€æœ¯å­—ç¬¦ä¸²
      - import sqlalchemy
      - from sqlalchemy
      - import redis
      - from redis
      - importlib.import_module
      - hasattr(
      - \\.
      - OBJECT_PATTERN

      # å…¶ä»–æ³•å®˜çš„ä¸­æ–‡æç¤º/ç»†ç²’åº¦è¯´æ˜ï¼ˆè§†ä¸ºæ³•æ¡å…ƒæ•°æ®ï¼‰
      - é€šè¿‡ __all__ èšåˆå­æ¨¡å—ç¬¦å·
      - è¯¥ Skill ID æœªåœ¨ assets/skills ç´¢å¼•æˆ– SkillId å¸¸é‡ä¸­æ³¨å†Œ
      - "ğŸ“‹ ä½ç½®: è¿”å›å€¼"

      # AnyCast / RootModel ç­‰ç±»å‹ç³»ç»Ÿç›¸å…³å›ºå®šæ ‡è¯†
      - "cast justified:"
      - cast(
      - RootModel
      - <unknown>
      - subscript

    # æ—¥å¿— / å¼‚å¸¸ / ç±»å‹åˆ«å / f-string ç›¸å…³å‰ç¼€ã€‚
    logger_prefixes:
      - "logger."
      - "logging."
      - "log."
    exception_call_prefixes:
      - "raise "
    typealias_keywords:
      - "TypeAlias"
    fstring_prefixes:
      - "f\""
      - "f'"

    # numeric_params ç›¸å…³
    # ä»¥ä¸‹é»˜è®¤å€¼ä¸æ—§ hc001.py ä¸­çš„ç±»å¸¸é‡å«ä¹‰ä¸€è‡´ã€‚
    int_max: 5000
    min_control_value: 2

    # åç§° tokenï¼šå»ºè®®åœ¨æ—§è¡Œä¸ºåŸºç¡€ä¸Šè¡¥å……ä¸šåŠ¡ç‰¹å®š tokenã€‚
    strong_name_tokens:
      - "label_threshold_"
      - "high_score_threshold"
      - "score_threshold"
    weak_name_tokens:
      - "threshold"
      - "weight"
      - "ratio"
      - "score"
      - "prob"
      - "confidence"

    # æ§åˆ¶å‹ tokenï¼šå¯¹åº”æ—§å®ç°ä¸­çš„é‡è¯• / ä¸Šé™ / çª—å£ç­‰å…³é”®è¯ã€‚
    control_tokens:
      - "retry"
      - "retries"
      - "attempt"
      - "attempts"
      - "top_"
      - "max_"
      - "min_"
      - "limit"
      - "window"
      - "size"
      - "timeout"
      - "batch"

    # åç§°ç‰‡æ®µè±å…è¡¨ï¼šä¸æ—§ payload.numeric_params.exempt_names å«ä¹‰ä¸€è‡´ã€‚
    exempt_names: []

