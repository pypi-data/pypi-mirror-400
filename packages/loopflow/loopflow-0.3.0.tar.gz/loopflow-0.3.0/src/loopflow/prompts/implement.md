Turn a design doc into working code.

## What this task does

Given a design document (typically `<branch>.md` at repo root), implement the specified features:

1. Read the design doc to understand requirements
2. Plan the implementation approach
3. Write code following STYLE.md conventions
4. Add or update tests for new functionality
5. Verify the implementation works

## Approach

- Start with data structures and public APIs
- Follow existing patterns in the codebase
- Keep changes minimal and focused
- Write tests that prove the feature works
- Update documentation as needed

The design doc specifies what to build. This task builds it.
