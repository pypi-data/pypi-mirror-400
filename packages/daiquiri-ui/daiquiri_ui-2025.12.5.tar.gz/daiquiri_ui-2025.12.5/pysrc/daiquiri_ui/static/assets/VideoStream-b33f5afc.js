import{aR as n,r as i,j as t,a1 as l,q as c}from"./index-4cf586ed.js";import{J as o}from"./jsmpeg-player.esm-5b64ab36.js";function f(r){const s=n.useRef(null),e=n.useRef();return i.useEffect(()=>(s.current&&r.url.startsWith("ws")&&(e.current=new o.Player(r.url,{canvas:s.current,videoBufferSize:1024*1024*4,audio:!1,protocols:[]})),()=>{e.current&&(e.current.destroy(),e.current=void 0)}),[r.url]),t.jsxs(t.Fragment,{children:[!r.url.startsWith("ws")&&t.jsx("img",{className:"video-stream",style:{width:"100%"},src:r.url,alt:r.url}),r.url.startsWith("ws")&&t.jsx("canvas",{className:"video-stream",style:{width:"100%"},ref:s})]})}function v(r){const{providers:s,yamlNode:e,url:a,...u}=r;return l(e,"url",a),c(e,u),t.jsx(f,{url:a})}export{v as default};
