# ESN Tool

ä¸€ä¸ªå¼ºå¤§çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›å¤šç§å®ç”¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬ AI è‡ªåŠ¨ç”Ÿæˆæäº¤ä¿¡æ¯ã€æ‰¹é‡ Git æ“ä½œã€GitLab ç®¡ç†ç­‰ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **AI è‡ªåŠ¨æäº¤** - ä½¿ç”¨ AI ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ Git æäº¤ä¿¡æ¯
- ğŸ“¦ **æ‰¹é‡ Git æ“ä½œ** - å¯¹å¤šä¸ª Git ä»“åº“æ‰¹é‡æ‰§è¡Œå‘½ä»¤
- ğŸ¦Š **GitLab ç®¡ç†** - GitLab ç›¸å…³æ‰¹é‡æ“ä½œ
- ğŸ› ï¸ **å·¥å…·é›†åˆ** - äº¤äº’å¼ TUI å·¥å…·ç®±ï¼ˆé…ç½®ç®¡ç†ã€Git å·¥å…·ã€ç³»ç»Ÿä¿¡æ¯ç­‰ï¼‰
- âš™ï¸ **é¡¹ç›®åˆå§‹åŒ–** - é€‰æ‹©å’Œç®¡ç†è¦æ“ä½œçš„ Git é¡¹ç›®
- ğŸš€ **å¿«æ·è¿è¡Œ** - å¿«é€Ÿè¿è¡Œé¡¹ç›®å‘½ä»¤ï¼ˆå¦‚ Android æ„å»ºï¼‰

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

ä½¿ç”¨ `uv tool` å®‰è£…ï¼ˆæ¨èï¼‰ï¼š

```bash
# å®‰è£… uvï¼ˆå¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh

# å®‰è£… esn-tool
uv tool install esn-tool

# éªŒè¯å®‰è£…
esn --help
```

> ğŸ’¡ **å‡çº§å’Œå¸è½½**ï¼š
> ```bash
> # å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
> uv tool upgrade esn-tool
>
> # å¸è½½
> uv tool uninstall esn-tool
> ```

### å…¶ä»–å®‰è£…æ–¹å¼

```bash
# ä½¿ç”¨ pipï¼ˆå›½å†…ç”¨æˆ·æ¨èä½¿ç”¨é•œåƒï¼‰
pip install esn-tool -i https://pypi.tuna.tsinghua.edu.cn/simple

# ä½¿ç”¨ pipxï¼ˆéš”ç¦»ç¯å¢ƒï¼‰
pipx install esn-tool
```

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤ä¸€è§ˆ

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `esn acm` | AI ç”Ÿæˆ Git æäº¤ä¿¡æ¯å¹¶è‡ªåŠ¨æäº¤ |
| `esn git <cmd>` | æ‰¹é‡æ‰§è¡Œ Git å‘½ä»¤ |
| `esn gitlab` | GitLab ç›¸å…³æ“ä½œ |
| `esn config` | é…ç½® AI æ¥å£ç­‰è®¾ç½® |
| `esn init` | é€‰æ‹©è¦ç®¡ç†çš„ Git é¡¹ç›® |
| `esn run` | å¿«æ·è¿è¡Œé¡¹ç›®å‘½ä»¤ |
| `esn tools` | å¯åŠ¨å·¥å…·é›†åˆ TUI ç•Œé¢ |

### AI è‡ªåŠ¨æäº¤ (acm)

```bash
# åœ¨å½“å‰ç›®å½•æ‰«æ Git é¡¹ç›®å¹¶ç”Ÿæˆæäº¤ä¿¡æ¯
esn acm

# æŒ‡å®šç›®å½•
esn acm -d /path/to/projects

# å¯ç”¨ AI ä»£ç å®¡æŸ¥
esn acm -r

# è·³è¿‡ç¡®è®¤ç›´æ¥æäº¤
esn acm -y
```

### æ‰¹é‡ Git æ“ä½œ (git)

```bash
# æ‹‰å–æ‰€æœ‰é¡¹ç›®çš„æœ€æ–°ä»£ç 
esn git pull

# æŸ¥çœ‹æ‰€æœ‰é¡¹ç›®çŠ¶æ€
esn git status

# åˆ‡æ¢æ‰€æœ‰é¡¹ç›®åˆ° main åˆ†æ”¯
esn git checkout main

# è·å–æ‰€æœ‰è¿œç¨‹æ›´æ–°
esn git fetch --all
```

### é…ç½®ç®¡ç† (config)

é¦–æ¬¡ä½¿ç”¨å‰éœ€è¦é…ç½® AI æ¥å£ï¼š

```bash
esn config
```

### å·¥å…·é›†åˆ TUI (tools)

å¯åŠ¨äº¤äº’å¼å·¥å…·ç•Œé¢ï¼š

```bash
esn tools
```

åŒ…å«ä»¥ä¸‹å·¥å…·ï¼š
- ğŸ“‹ **é…ç½®å·¥å…·** - AI é…ç½®å’Œé¡¹ç›®ç®¡ç†
- ğŸ”€ **Git å·¥å…·** - Git æ‰¹é‡æ“ä½œç•Œé¢
- ğŸ’» **ç³»ç»Ÿä¿¡æ¯** - æŸ¥çœ‹ç³»ç»Ÿå’Œç¯å¢ƒä¿¡æ¯

**å¿«æ·é”®**ï¼š
- `â†`/`â†’` - åˆ‡æ¢å·¥å…·åˆ—è¡¨å’Œå†…å®¹åŒºåŸŸ
- `â†‘`/`â†“` - å¯¼èˆªå·¥å…·åˆ—è¡¨
- `Q` - é€€å‡º

## å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://git.yyrd.com/esn_tool/esn-command-line.git
cd esn-command-line

# å®‰è£…å¼€å‘ä¾èµ–
uv sync

# æœ¬åœ°å®‰è£…ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
uv tool install -e .

# è¿è¡Œæµ‹è¯•
uv run pytest

# ä»£ç æ ¼å¼åŒ–
uv run ruff format src/
uv run ruff check src/ --fix
```

## æ‰“åŒ…å’Œåˆ†å‘

### æ„å»º PKG å®‰è£…åŒ…

```bash
# æ„å»ºå½“å‰ç³»ç»Ÿæ¶æ„
uv run python build_pkg.py

# æˆ–æŒ‡å®šæ¶æ„
uv run python build_pkg.py --arch arm64
```

> ğŸ’¡ **æ¶æ„è¯´æ˜**ï¼š
> - M1/M2/M3 Mac åªèƒ½æ„å»º ARM64 æ¶æ„
> - Intel Mac å¯ä»¥æ„å»º x86_64 æ¶æ„

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [æ‰“åŒ…æ–‡æ¡£](docs/packaging.md)ã€‚

### CI/CD è‡ªåŠ¨æ„å»º

é¡¹ç›®å·²é…ç½® GitLab CI/CDï¼Œå¯è‡ªåŠ¨æ„å»ºå®‰è£…åŒ…ï¼š

- æ¨é€åˆ° `main` æˆ– `dev` åˆ†æ”¯æ—¶è‡ªåŠ¨æ„å»º
- åˆ›å»º tag æ—¶è‡ªåŠ¨æ„å»ºå¹¶å‘å¸ƒ Release
- è¯¦ç»†é…ç½®è¯·å‚è€ƒ [GitLab CI æ–‡æ¡£](docs/gitlab-ci.md)

## æ–‡æ¡£

- [ä½¿ç”¨æŒ‡å—](docs/usage.md) - è¯¦ç»†çš„å‘½ä»¤ä½¿ç”¨è¯´æ˜
- [æ‰“åŒ…æ–‡æ¡£](docs/packaging.md) - PKG å®‰è£…åŒ…æ„å»ºæŒ‡å—
- [GitLab CI æ–‡æ¡£](docs/gitlab-ci.md) - CI/CD é…ç½®è¯´æ˜

## è®¸å¯è¯

MIT License
