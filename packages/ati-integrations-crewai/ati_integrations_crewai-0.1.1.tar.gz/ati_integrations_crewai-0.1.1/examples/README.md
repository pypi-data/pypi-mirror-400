# CrewAI ATI Example

This example demonstrates how to instrument a CrewAI agent/crew with IOcane ATI.

## Prerequisites

- Python 3.10+
- An IOcane account (run `iocane connect` to setup your environment)

## Setup

1.  **Install Dependencies**
    ```bash
    pip install crewai
    pip install opentelemetry-sdk opentelemetry-exporter-otlp
    # Install ATI SDK and Integration
    pip install ati-sdk ati-integrations-crewai
    ```

2.  **Configure Environment**
    Get your API Key and Environment ID from `.env.iocane` (generated by `iocane connect`) or the IOcane Dashboard.

    ```bash
    # Linux/Mac
    export OPENAI_API_KEY="sk-..."  # CrewAI needs this by default
    export OTEL_SERVICE_NAME="crewai-example-crew"
    export OTEL_EXPORTER_OTLP_ENDPOINT="https://api.iocane.ai/v1/traces"
    export OTEL_EXPORTER_OTLP_HEADERS="x-iocane-key=<YOUR_KEY>,x-ati-env=<YOUR_ENV_ID>"
    ```

## Running the Example

```bash
python basic_crew.py
```

## Expected Output

You will see the Crew executing tasks.
In the IOcane Dashboard:
- **Orchestrator Span**: The `Crew.kickoff` process.
- **Worker Spans**: Each `Agent` executing a `Task`.
- **Tool Spans**: If tools are used (and instrumented via LangChain/Core hooks).
