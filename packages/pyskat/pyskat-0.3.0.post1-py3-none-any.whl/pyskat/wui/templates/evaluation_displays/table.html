<h2>Table of Scores</h2>

{% macro header(col, label) %}
    {% if sort == col %} <a class="text-reset text-decoration-none" href="{{ request.url.include_query_params(ascending=not ascending) }}"> {{ label }} {% if ascending %} <i class="bi bi-arrow-up-short"></i> {% else %} <i class="bi bi-arrow-down-short"></i> {% endif %} </a>
    {% else %}
    <a class="text-reset text-decoration-none" href="{{ request.url.include_query_params(sort=col) }}">{{ label }}</a>
    {% endif %}
{% endmacro %}

<table class="table">
    <thead>
    <tr>
        <th>#</th>
        <th>{{ header("player_id", "Player ID" ) }}</th>
        <th>{{ header("player_name", "Player Name" ) }}</th>
        <th>{{ header("score", "Game Score" ) }}</th>
        <th>{{ header("won", "Won" ) }}</th>
        <th>{{ header("won_score", "Won Score" ) }}</th>
        <th>{{ header("lost", "Lost" ) }}</th>
        <th>{{ header("lost_score", "Lost Score" ) }}</th>
        <th>{{ header("opponents_lost", "Opponents Lost" ) }}</th>
        <th>{{ header("opponents_lost_score", "Opponents Lost Score" ) }}</th>
        <th>{{ header("total_score", "Total Score" ) }}</th>
    </tr>
    </thead>
    <tbody>
    {% for index, row in evaluation_data.iterrows() %}
    <tr>
        <th>{{ index }}</th>
        <th>{{ row.player_id }}</th>
        <th>{{ row.player_name }}</th>
        <th>{{ row.score }}</th>
        <th>{{ row.won }}</th>
        <th>{{ row.won_score }}</th>
        <th>{{ row.lost }}</th>
        <th>{{ row.lost_score }}</th>
        <th>{{ row.opponents_lost }}</th>
        <th>{{ row.opponents_lost_score }}</th>
        <th>{{ row.total_score }}</th>
    </tr>
    {% endfor %}
    </tbody>
</table>
