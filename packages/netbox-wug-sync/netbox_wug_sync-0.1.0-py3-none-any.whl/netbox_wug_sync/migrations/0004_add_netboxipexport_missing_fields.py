# Generated by Django

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('netbox_wug_sync', '0003_fix_netboxipexport_schema'),
    ]

    operations = [
        # Add only the missing fields that don't exist yet
        migrations.AddField(
            model_name='netboxipexport',
            name='wug_scan_id',
            field=models.CharField(
                blank=True,
                help_text="WhatsUp Gold scan ID if scan was triggered",
                max_length=100,
            ),
        ),
        migrations.AddField(
            model_name='netboxipexport',
            name='wug_scan_status',
            field=models.CharField(
                blank=True,
                help_text="Status of WUG scan operation",
                max_length=50,
            ),
        ),
        migrations.AddField(
            model_name='netboxipexport',
            name='wug_device_discovered',
            field=models.BooleanField(
                default=False,
                help_text="Whether WUG discovered a device at this IP",
            ),
        ),
        migrations.AddField(
            model_name='netboxipexport',
            name='exported_at',
            field=models.DateTimeField(
                blank=True,
                help_text="Timestamp when IP was exported to WUG",
                null=True,
            ),
        ),
        migrations.AddField(
            model_name='netboxipexport',
            name='scan_triggered_at',
            field=models.DateTimeField(
                blank=True,
                help_text="Timestamp when WUG scan was triggered",
                null=True,
            ),
        ),
        
        # Remove exported_data field that's not in the model
        migrations.RemoveField(
            model_name='netboxipexport',
            name='exported_data',
        ),
        
        # Add unique constraint
        migrations.AlterUniqueTogether(
            name='netboxipexport',
            unique_together={('connection', 'ip_address')},
        ),
    ]