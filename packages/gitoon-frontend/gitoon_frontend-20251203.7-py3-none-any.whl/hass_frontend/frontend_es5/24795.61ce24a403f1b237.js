"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["24795"],{69093:function(t,e,a){a.d(e,{t:function(){return r}});var n=a(71727),r=function(t){return(0,n.m)(t.entity_id)}},82286:function(t,e,a){a.d(e,{$:function(){return n}});var n=function(t,e){return r(t.attributes,e)},r=function(t,e){return 0!==(t.supported_features&e)}},72554:function(t,e,a){a.d(e,{l:function(){return m}});var n,r,i,o=a(44734),s=a(43080),c=a(69683),l=a(6454),d=a(25460),u=a(72153),p=(a(49255),a(28706),a(40445)),h=a(30728),f=a(47705),v=a(96196),g=a(77845),_=(a(22444),a(26300),["button","ha-list-item"]),m=function(t,e){var a;return(0,v.qy)(n||(n=(0,u.A)([' <div class="header_title"> <ha-icon-button .label="','" .path="','" dialogAction="close" class="header_button"></ha-icon-button> <span>',"</span> </div> "])),null!==(a=null==t?void 0:t.localize("ui.common.close"))&&void 0!==a?a:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",e)},y=function(t){function e(){var t;(0,o.A)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=(0,c.A)(this,e,[].concat(n)))._onScroll=function(){t._updateScrolledAttribute()},t}return(0,l.A)(e,t),(0,s.A)(e,[{key:"scrollToPos",value:function(t,e){var a;null===(a=this.contentElement)||void 0===a||a.scrollTo(t,e)}},{key:"renderHeading",value:function(){return(0,v.qy)(r||(r=(0,u.A)(['<slot name="heading"> '," </slot>"])),(0,d.A)(e,"renderHeading",this,3)([]))}},{key:"firstUpdated",value:function(){var t;(0,d.A)(e,"firstUpdated",this,3)([]),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,_].join(", "),this._updateScrolledAttribute(),null===(t=this.contentElement)||void 0===t||t.addEventListener("scroll",this._onScroll,{passive:!0})}},{key:"disconnectedCallback",value:function(){(0,d.A)(e,"disconnectedCallback",this,3)([]),this.contentElement.removeEventListener("scroll",this._onScroll)}},{key:"_updateScrolledAttribute",value:function(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}}])}(h.u);y.styles=[f.R,(0,v.AH)(i||(i=(0,u.A)([":host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(\n          --dialog-scroll-divider-color,\n          var(--divider-color)\n        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:var(--ha-font-weight-normal);--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4) var(--ha-space-4)}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center);padding:var(--dialog-container-padding,var(--ha-space-0))}.mdc-dialog__title{padding:var(--ha-space-4) var(--ha-space-4) var(--ha-space-0) var(--ha-space-4)}.mdc-dialog__title:has(span){padding:var(--ha-space-3) var(--ha-space-3) var(--ha-space-0)}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,var(--ha-space-6))}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:var(--dialog-content-padding,var(--ha-space-6))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-width:var(--mdc-dialog-min-width,auto);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,var(--ha-border-radius-3xl));-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff));padding:var(--dialog-surface-padding,var(--ha-space-0))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{display:flex;align-items:center;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;padding-left:var(--ha-space-1);padding-right:var(--ha-space-1);margin-right:var(--ha-space-3);margin-inline-end:var(--ha-space-3);margin-inline-start:initial}.header_button{text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:calc(var(--ha-space-3) * -1);direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:var(--ha-space-0)!important;direction:var(--direction)}"])))],y=(0,p.__decorate)([(0,g.EM)("ha-dialog")],y)},15056:function(t,e,a){a.a(t,async function(t,n){try{a.r(e);var r,i,o,s,c,l,d,u,p,h=a(72153),f=a(44734),v=a(43080),g=a(69683),_=a(6454),m=a(25460),y=(a(28706),a(74423),a(79432),a(40445)),b=a(96196),k=a(77845),w=a(18350),A=(a(72554),a(52763),a(3587),a(65829)),E=a(82e3),S=a(14503),x=t([w,A]);[w,A]=x.then?(await x)():x;var L=0,M=function(t){function e(){var t;(0,f.A)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=(0,g.A)(this,e,[].concat(n)))._loading=!1,t._opened=!1,t._stepData={},t._computeLabel=function(e){return t.hass.localize("component.auth.mfa_setup.".concat(t._step.handler,".step.").concat(t._step.step_id,".data.").concat(e.name))||e.name},t._computeError=function(e){return t.hass.localize("component.auth.mfa_setup.".concat(t._step.handler,".error.").concat(e))||e},t}return(0,_.A)(e,t),(0,v.A)(e,[{key:"showDialog",value:function(t){var e=this,a=t.continueFlowId,n=t.mfaModuleId,r=t.dialogClosedCallback;this._instance=L++,this._dialogClosedCallback=r,this._opened=!0;var i=a?this.hass.callWS({type:"auth/setup_mfa",flow_id:a}):this.hass.callWS({type:"auth/setup_mfa",mfa_module_id:n}),o=this._instance;i.then(function(t){o===e._instance&&e._processStep(t)})}},{key:"closeDialog",value:function(){this._step&&this._flowDone(),this._opened=!1}},{key:"render",value:function(){var t,e,a;return this._opened?(0,b.qy)(r||(r=(0,h.A)([' <ha-dialog open .heading="','" @closed="','"> <div> '," ",' </div> <ha-button slot="primaryAction" @click="','" appearance="','">',"</ha-button> "," </ha-dialog> "])),this._computeStepTitle(),this.closeDialog,this._errorMessage?(0,b.qy)(i||(i=(0,h.A)(['<div class="error">',"</div>"])),this._errorMessage):"",this._step?(0,b.qy)(s||(s=(0,h.A)(["",""])),"abort"===this._step.type?(0,b.qy)(c||(c=(0,h.A)([' <ha-markdown allow-svg breaks .content="','"></ha-markdown>'])),this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".abort.").concat(this._step.reason))):"create_entry"===this._step.type?(0,b.qy)(l||(l=(0,h.A)(["<p> "," </p>"])),this.hass.localize("ui.panel.profile.mfa_setup.step_done",{step:this._step.title||this._step.handler})):"form"===this._step.type?(0,b.qy)(d||(d=(0,h.A)(['<ha-markdown allow-svg breaks .content="','"></ha-markdown> <ha-form .hass="','" .data="','" .schema="','" .error="','" .computeLabel="','" .computeError="','" @value-changed="','"></ha-form>'])),this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".step.").concat(this._step.step_id,".description"),this._step.description_placeholders),this.hass,this._stepData,(0,E.Hg)(this._step.data_schema),this._step.errors,this._computeLabel,this._computeError,this._stepDataChanged):""):(0,b.qy)(o||(o=(0,h.A)(['<div class="init-spinner"> <ha-spinner></ha-spinner> </div>']))),this.closeDialog,["abort","create_entry"].includes((null===(t=this._step)||void 0===t?void 0:t.type)||"")?"accent":"plain",this.hass.localize(["abort","create_entry"].includes((null===(e=this._step)||void 0===e?void 0:e.type)||"")?"ui.panel.profile.mfa_setup.close":"ui.common.cancel"),"form"===(null===(a=this._step)||void 0===a?void 0:a.type)?(0,b.qy)(u||(u=(0,h.A)(['<ha-button slot="primaryAction" .disabled="','" @click="','">',"</ha-button>"])),this._loading,this._submitStep,this.hass.localize("ui.panel.profile.mfa_setup.submit")):b.s6):b.s6}},{key:"firstUpdated",value:function(t){var a=this;(0,m.A)(e,"firstUpdated",this,3)([t]),this.hass.loadBackendTranslation("mfa_setup","auth"),this.addEventListener("keypress",function(t){"Enter"===t.key&&a._submitStep()})}},{key:"_stepDataChanged",value:function(t){this._stepData=t.detail.value}},{key:"_submitStep",value:function(){var t=this;this._loading=!0,this._errorMessage=void 0;var e=this._instance;this.hass.callWS({type:"auth/setup_mfa",flow_id:this._step.flow_id,user_input:this._stepData}).then(function(a){e===t._instance&&(t._processStep(a),t._loading=!1)},function(e){t._errorMessage=e&&e.body&&e.body.message||"Unknown error occurred",t._loading=!1})}},{key:"_processStep",value:function(t){t.errors||(t.errors={}),this._step=t,0===Object.keys(t.errors).length&&(this._stepData={})}},{key:"_flowDone",value:function(){var t=Boolean(this._step&&["create_entry","abort"].includes(this._step.type));this._dialogClosedCallback({flowFinished:t}),this._errorMessage=void 0,this._step=void 0,this._stepData={},this._dialogClosedCallback=void 0,this.closeDialog()}},{key:"_computeStepTitle",value:function(){var t,e,a;return"abort"===(null===(t=this._step)||void 0===t?void 0:t.type)?this.hass.localize("ui.panel.profile.mfa_setup.title_aborted"):"create_entry"===(null===(e=this._step)||void 0===e?void 0:e.type)?this.hass.localize("ui.panel.profile.mfa_setup.title_success"):"form"===(null===(a=this._step)||void 0===a?void 0:a.type)?this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".step.").concat(this._step.step_id,".title")):""}}],[{key:"styles",get:function(){return[S.nA,(0,b.AH)(p||(p=(0,h.A)([".error{color:red}ha-dialog{max-width:500px}ha-markdown{--markdown-svg-background-color:white;--markdown-svg-color:black;display:block;margin:0 auto}ha-markdown a{color:var(--primary-color)}ha-markdown-element p{text-align:center}ha-markdown-element code{background-color:transparent}ha-markdown-element>:last-child{margin-bottom:revert}.init-spinner{padding:10px 100px 34px;text-align:center}"])))]}}])}(b.WF);(0,y.__decorate)([(0,k.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,y.__decorate)([(0,k.wk)()],M.prototype,"_dialogClosedCallback",void 0),(0,y.__decorate)([(0,k.wk)()],M.prototype,"_instance",void 0),(0,y.__decorate)([(0,k.wk)()],M.prototype,"_loading",void 0),(0,y.__decorate)([(0,k.wk)()],M.prototype,"_opened",void 0),(0,y.__decorate)([(0,k.wk)()],M.prototype,"_stepData",void 0),(0,y.__decorate)([(0,k.wk)()],M.prototype,"_step",void 0),(0,y.__decorate)([(0,k.wk)()],M.prototype,"_errorMessage",void 0),M=(0,y.__decorate)([(0,k.EM)("ha-mfa-module-setup-flow")],M),n()}catch(C){n(C)}})},48646:function(t,e,a){var n=a(69565),r=a(28551),i=a(1767),o=a(50851);t.exports=function(t,e){e&&"string"==typeof t||r(t);var a=o(t);return i(r(void 0!==a?n(a,t):t))}},78350:function(t,e,a){var n=a(46518),r=a(70259),i=a(79306),o=a(48981),s=a(26198),c=a(1469);n({target:"Array",proto:!0},{flatMap:function(t){var e,a=o(this),n=s(a);return i(t),(e=c(a,0)).length=r(e,a,a,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},30237:function(t,e,a){a(6469)("flatMap")},30531:function(t,e,a){var n=a(46518),r=a(69565),i=a(79306),o=a(28551),s=a(1767),c=a(48646),l=a(19462),d=a(9539),u=a(96395),p=a(30684),h=a(84549),f=!u&&!p("flatMap",function(){}),v=!u&&!f&&h("flatMap",TypeError),g=u||f||v,_=l(function(){for(var t,e,a=this.iterator,n=this.mapper;;){if(e=this.inner)try{if(!(t=o(r(e.next,e.iterator))).done)return t.value;this.inner=null}catch(i){d(a,"throw",i)}if(t=o(r(this.next,a)),this.done=!!t.done)return;try{this.inner=c(n(t.value,this.counter++),!1)}catch(i){d(a,"throw",i)}}});n({target:"Iterator",proto:!0,real:!0,forced:g},{flatMap:function(t){o(this);try{i(t)}catch(e){d(this,"throw",e)}return v?r(v,this,t):new _(s(this),{mapper:t,inner:null})}})},64601:function(t,e,a){a(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},2209:function(t,e,a){a.d(e,{LV:function(){return m}});var n=a(78261),r=a(26520),i=a(55993),o=a(7739),s=a(31432),c=a(47075),l=(a(52675),a(89463),a(16280),a(28706),a(33771),a(23792),a(62062),a(72712),a(34782),a(55081),a(18111),a(61701),a(18237),a(36033),a(64601),a(69085),a(26099),a(3362),a(84864),a(57465),a(27495),a(90906),a(38781),a(47764),a(73772),a(62953),Symbol("Comlink.proxy")),d=Symbol("Comlink.endpoint"),u=Symbol("Comlink.releaseProxy"),p=Symbol("Comlink.finalizer"),h=Symbol("Comlink.thrown"),f=function(t){return"object"===(0,c.A)(t)&&null!==t||"function"==typeof t},v=new Map([["proxy",{canHandle:function(t){return f(t)&&t[l]},serialize:function(t){var e=new MessageChannel,a=e.port1,n=e.port2;return g(t,a),[n,[n]]},deserialize:function(t){return t.start(),m(t)}}],["throw",{canHandle:function(t){return f(t)&&h in t},serialize:function(t){var e=t.value;return[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"];e.addEventListener("message",function c(d){if(d&&d.data)if(function(t,e){var a,n=(0,s.A)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(e===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}(a,d.origin)){var u,f=Object.assign({path:[]},d.data),v=f.id,m=f.type,y=f.path,b=(d.data.argumentList||[]).map(L);try{var k=y.slice(0,-1).reduce(function(t,e){return t[e]},t),w=y.reduce(function(t,e){return t[e]},t);switch(m){case"GET":u=w;break;case"SET":k[y.slice(-1)[0]]=L(d.data.value),u=!0;break;case"APPLY":u=w.apply(k,b);break;case"CONSTRUCT":var A;u=function(t){return Object.assign(t,(0,r.A)({},l,!0))}((0,i.A)(w,(0,o.A)(b)));break;case"ENDPOINT":var E=new MessageChannel,M=E.port1,C=E.port2;g(t,C),u=function(t,e){return S.set(t,e),t}(M,[M]);break;case"RELEASE":u=void 0;break;default:return}}catch(A){u=(0,r.A)({value:A},h,0)}Promise.resolve(u).catch(function(t){return(0,r.A)({value:t},h,0)}).then(function(a){var r=x(a),i=(0,n.A)(r,2),o=i[0],s=i[1];e.postMessage(Object.assign(Object.assign({},o),{id:v}),s),"RELEASE"===m&&(e.removeEventListener("message",c),_(e),p in t&&"function"==typeof t[p]&&t[p]())}).catch(function(t){var a=x((0,r.A)({value:new TypeError("Unserializable return value")},h,0)),i=(0,n.A)(a,2),o=i[0],s=i[1];e.postMessage(Object.assign(Object.assign({},o),{id:v}),s)})}else console.warn("Invalid origin '".concat(d.origin,"' for comlink proxy"))}),e.start&&e.start()}function _(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function m(t,e){var a=new Map;return t.addEventListener("message",function(t){var e=t.data;if(e&&e.id){var n=a.get(e.id);if(n)try{n(e)}finally{a.delete(e.id)}}}),A(t,a,[],e)}function y(t){if(t)throw new Error("Proxy has been released and is not useable")}function b(t){return M(t,new Map,{type:"RELEASE"}).then(function(){_(t)})}var k=new WeakMap,w="FinalizationRegistry"in globalThis&&new FinalizationRegistry(function(t){var e=(k.get(t)||0)-1;k.set(t,e),0===e&&b(t)});function A(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!1,i=new Proxy(arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},{get:function(n,s){if(y(r),s===u)return function(){!function(t){w&&w.unregister(t)}(i),b(t),e.clear(),r=!0};if("then"===s){if(0===a.length)return{then:function(){return i}};var c=M(t,e,{type:"GET",path:a.map(function(t){return t.toString()})}).then(L);return c.then.bind(c)}return A(t,e,[].concat((0,o.A)(a),[s]))},set:function(i,s,c){y(r);var l=x(c),d=(0,n.A)(l,2),u=d[0],p=d[1];return M(t,e,{type:"SET",path:[].concat((0,o.A)(a),[s]).map(function(t){return t.toString()}),value:u},p).then(L)},apply:function(i,o,s){y(r);var c=a[a.length-1];if(c===d)return M(t,e,{type:"ENDPOINT"}).then(L);if("bind"===c)return A(t,e,a.slice(0,-1));var l=E(s),u=(0,n.A)(l,2),p=u[0],h=u[1];return M(t,e,{type:"APPLY",path:a.map(function(t){return t.toString()}),argumentList:p},h).then(L)},construct:function(i,o){y(r);var s=E(o),c=(0,n.A)(s,2),l=c[0],d=c[1];return M(t,e,{type:"CONSTRUCT",path:a.map(function(t){return t.toString()}),argumentList:l},d).then(L)}});return function(t,e){var a=(k.get(e)||0)+1;k.set(e,a),w&&w.register(t,e,t)}(i,t),i}function E(t){var e,a=t.map(x);return[a.map(function(t){return t[0]}),(e=a.map(function(t){return t[1]}),Array.prototype.concat.apply([],e))]}var S=new WeakMap;function x(t){var e,a=(0,s.A)(v);try{for(a.s();!(e=a.n()).done;){var r=(0,n.A)(e.value,2),i=r[0],o=r[1];if(o.canHandle(t)){var c=o.serialize(t),l=(0,n.A)(c,2);return[{type:"HANDLER",name:i,value:l[0]},l[1]]}}}catch(d){a.e(d)}finally{a.f()}return[{type:"RAW",value:t},S.get(t)||[]]}function L(t){switch(t.type){case"HANDLER":return v.get(t.name).deserialize(t.value);case"RAW":return t.value}}function M(t,e,a,n){return new Promise(function(r){var i=new Array(4).fill(0).map(function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}).join("-");e.set(i,r),t.start&&t.start(),t.postMessage(Object.assign({id:i},a),n)})}}}]);
//# sourceMappingURL=24795.61ce24a403f1b237.js.map