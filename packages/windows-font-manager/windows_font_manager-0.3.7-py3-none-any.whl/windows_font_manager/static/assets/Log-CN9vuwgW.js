import{k as U,af as X,I as $,ah as Z,ai as ee,K as F,J as A,d as q,$ as te,q as O,Y as re,V as oe,L as se,b as x,n as W,m as L,M as D,bN as ne,P as ae,Q as ie,bO as le,l as de,ac as ce,g as ue,w as fe,be as ve,bP as he,bQ as R,c as V,bh as M,bi as S,bj as p,a9 as ge,bn as be,o as T,bo as me,a as K,bm as G,br as B,bv as pe}from"./index-TSX_w_F2.js";import{t as ye,a as _e,b as ze,N as Oe}from"./ListItem-DdoQx4f_.js";import"./Close-CiNIbRc7.js";import"./replaceable-BbwpPSxY.js";const xe=U&&"loading"in document.createElement("img");function Le(e={}){var n;const{root:d=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(n=e.threshold)!==null&&n!==void 0?n:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof d=="string"?document.querySelector(d):d)||document.documentElement})}}const C=new WeakMap,N=new WeakMap,H=new WeakMap,we=(e,n,d)=>{if(!e)return()=>{};const a=Le(n),{root:u}=a.options;let s;const i=C.get(u);i?s=i:(s=new Map,C.set(u,s));let f,o;s.has(a.hash)?(o=s.get(a.hash),o[1].has(e)||(f=o[0],o[1].add(e),f.observe(e))):(f=new IntersectionObserver(y=>{y.forEach(v=>{if(v.isIntersecting){const b=N.get(v.target),z=H.get(v.target);b&&b(),z&&(z.value=!0)}})},a.options),f.observe(e),o=[f,new Set([e])],s.set(a.hash,o));let l=!1;const g=()=>{l||(N.delete(e),H.delete(e),l=!0,o[1].has(e)&&(o[0].unobserve(e),o[1].delete(e)),o[1].size<=0&&s.delete(a.hash),s.size||C.delete(u))};return N.set(e,g),H.set(e,d),g},Re=X("n-avatar-group"),Se=$("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[Z(F("&","--n-merged-color: var(--n-color-modal);")),ee(F("&","--n-merged-color: var(--n-color-popover);")),F("img",`
 width: 100%;
 height: 100%;
 `),A("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),$("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),A("text","line-height: 1.25")]),je=Object.assign(Object.assign({},D.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),Ee=q({name:"Avatar",props:je,slots:Object,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:d}=se(e),a=x(!1);let u=null;const s=x(null),i=x(null),f=()=>{const{value:t}=s;if(t&&(u===null||u!==t.innerHTML)){u=t.innerHTML;const{value:r}=i;if(r){const{offsetWidth:c,offsetHeight:m}=r,{offsetWidth:h,offsetHeight:E}=t,w=.9,P=Math.min(c/h*w,m/E*w,1);t.style.transform=`translateX(-50%) translateY(-50%) scale(${P})`}}},o=W(Re,null),l=L(()=>{const{size:t}=e;if(t)return t;const{size:r}=o||{};return r||"medium"}),g=D("Avatar","-avatar",Se,ne,e,n),y=W(ye,null),v=L(()=>{if(o)return!0;const{round:t,circle:r}=e;return t!==void 0||r!==void 0?t||r:y?y.roundRef.value:!1}),b=L(()=>o?!0:e.bordered||!1),z=L(()=>{const t=l.value,r=v.value,c=b.value,{color:m}=e,{self:{borderRadius:h,fontSize:E,color:w,border:P,colorModal:Q,colorPopover:Y},common:{cubicBezierEaseInOut:J}}=g.value;let k;return typeof t=="number"?k=`${t}px`:k=g.value.self[ae("height",t)],{"--n-font-size":E,"--n-border":c?P:"none","--n-border-radius":r?"50%":h,"--n-color":m||w,"--n-color-modal":m||Q,"--n-color-popover":m||Y,"--n-bezier":J,"--n-merged-size":`var(--n-avatar-size-override, ${k})`}}),_=d?ie("avatar",L(()=>{const t=l.value,r=v.value,c=b.value,{color:m}=e;let h="";return t&&(typeof t=="number"?h+=`a${t}`:h+=t[0]),r&&(h+="b"),c&&(h+="c"),m&&(h+=le(m)),h}),z,e):void 0,j=x(!e.lazy);de(()=>{if(e.lazy&&e.intersectionObserverOptions){let t;const r=ce(()=>{t?.(),t=void 0,e.lazy&&(t=we(i.value,e.intersectionObserverOptions,j))});ue(()=>{r(),t?.()})}}),fe(()=>{var t;return e.src||((t=e.imgProps)===null||t===void 0?void 0:t.src)},()=>{a.value=!1});const I=x(!e.lazy);return{textRef:s,selfRef:i,mergedRoundRef:v,mergedClsPrefix:n,fitTextTransform:f,cssVars:d?void 0:z,themeClass:_?.themeClass,onRender:_?.onRender,hasLoadError:a,shouldStartLoading:j,loaded:I,mergedOnError:t=>{if(!j.value)return;a.value=!0;const{onError:r,imgProps:{onError:c}={}}=e;r?.(t),c?.(t)},mergedOnLoad:t=>{const{onLoad:r,imgProps:{onLoad:c}={}}=e;r?.(t),c?.(t),I.value=!0}}},render(){var e,n;const{$slots:d,src:a,mergedClsPrefix:u,lazy:s,onRender:i,loaded:f,hasLoadError:o,imgProps:l={}}=this;i?.();let g;const y=!f&&!o&&(this.renderPlaceholder?this.renderPlaceholder():(n=(e=this.$slots).placeholder)===null||n===void 0?void 0:n.call(e));return this.hasLoadError?g=this.renderFallback?this.renderFallback():te(d.fallback,()=>[O("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):g=re(d.default,v=>{if(v)return O(oe,{onResize:this.fitTextTransform},{default:()=>O("span",{ref:"textRef",class:`${u}-avatar__text`},v)});if(a||l.src){const b=this.src||l.src;return O("img",Object.assign(Object.assign({},l),{loading:xe&&!this.intersectionObserverOptions&&s?"lazy":"eager",src:s&&this.intersectionObserverOptions?this.shouldStartLoading?b:void 0:b,"data-image-src":b,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[l.style||"",{objectFit:this.objectFit},y?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),O("span",{ref:"selfRef",class:[`${u}-avatar`,this.themeClass],style:this.cssVars},g,s&&y)}}),Pe={style:{position:"relative","overflow-y":"auto",padding:"1rem",height:"calc(100% - 2rem)",width:"calc(100% - 2rem)"}},ke={class:"log-list-item"},Fe=q({__name:"Log",setup(e){const{log_list:n}=ve(he()),d=new Map([[R.debug,"success"],[R.info,"info"],[R.warn,"warning"],[R.error,"error"]]),a=new Set(["string","number"]);return(u,s)=>(T(),V("div",Pe,[M(p(_e),null,{default:S(()=>[(T(!0),V(ge,null,be([...p(n)].reverse(),(i,f)=>(T(),me(p(ze),null,{default:S(()=>[K("div",ke,[M(p(Ee),{round:"",size:"small"},{default:S(()=>[G(B(p(n).length-f),1)]),_:2},1024),M(p(Oe),{type:p(d).get(i.type)||"default",style:{width:"5em",display:"flex","justify-content":"center"}},{default:S(()=>[G(B(i.type),1)]),_:2},1032,["type"]),K("span",null,B(i.data.reduce((o,l)=>o+" "+(p(a).has(typeof l)?l:`[${typeof l}]`),"")),1)])]),_:2},1024))),256))]),_:1})]))}}),Ne=pe(Fe,[["__scopeId","data-v-a26b6023"]]);export{Ne as default};
