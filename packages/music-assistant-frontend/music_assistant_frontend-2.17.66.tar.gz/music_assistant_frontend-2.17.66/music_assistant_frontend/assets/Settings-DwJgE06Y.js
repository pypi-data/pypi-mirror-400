import{C as F}from"./Container-DCgapsRo.js";import{T as U}from"./Toolbar-DxI-629_.js";import{u as q}from"./userPreferences-DgcDNgaI.js";import{q as H,c as o,Z as W,_ as X}from"./index-GGmWIGQT.js";import{M as Z}from"./index-kQIztB-E.js";import{u as j}from"./vue-router-BgJK_hRC.js";import{n as y,a4 as G,e as J,b as K,a as Q,c as Y,W as ee,X as te,d as V,_ as se}from"./vuetify-CDJMkNb9.js";import{d as ie,r as P,c,w as S,b as C,e as l,H as a,D as m,E as n,I as v,u as d,az as re,F as ne,M as oe,P as ae,al as le,$ as I,a1 as O,p as x}from"./lucide-C2DU1LFb.js";import{u as de}from"./vue-i18n-DySrp6mW.js";import"./qrcode-DSFhiIp2.js";import"./marked-C0Rlrcoy.js";import"./color-BTziYnFN.js";import"./vueuse-DIaEWNCo.js";/* empty css            */import"./swiper-Jy9GbtzK.js";const ue=ie({__name:"Settings",setup(ce){const u=j(),{t:r}=de(),{getPreference:b,setPreference:_}=q(),p=P("list"),$=c(()=>{const e=u.currentRoute.value.name?.toString()||"";return e.includes("players")||e==="addgroup"}),R=b("settings.players.viewMode","list");S(()=>R.value,e=>{(e==="list"||e==="card")&&(p.value=e)},{immediate:!0});const w=function(){p.value=p.value==="list"?"card":"list",_("settings.players.viewMode",p.value)};x("playersViewMode",{viewMode:p,toggleViewMode:w});const g=P("list"),T=c(()=>(u.currentRoute.value.name?.toString()||"").includes("providers")),D=b("settings.providers.viewMode","list");S(()=>D.value,e=>{(e==="list"||e==="card")&&(g.value=e)},{immediate:!0});const h=function(){g.value=g.value==="list"?"card":"list",_("settings.providers.viewMode",g.value)};x("providersViewMode",{viewMode:g,toggleViewMode:h});const L=[{name:"profile",label:"auth.profile",description:"settings.profile_description",icon:"mdi-account-cog",color:"indigo",route:{name:"profile"},adminOnly:!1},{name:"providers",label:"settings.providers",description:"settings.providers_description",icon:"mdi-monitor-dashboard",color:"blue",route:{name:"providersettings"},adminOnly:!0},{name:"players",label:"settings.players",description:"settings.players_description",icon:"mdi-speaker-multiple",color:"green",route:{name:"playersettings"},adminOnly:!0},{name:"system",label:"settings.system",description:"settings.system_description",icon:"mdi-server",color:"purple",route:{name:"systemsettings"},adminOnly:!0},{name:"remote_access",label:"settings.remote_access",description:"settings.remote_access_description",icon:"mdi-cloud-lock",color:"deep-purple",route:{name:"remoteaccesssettings"},adminOnly:!0},{name:"frontend",label:"settings.frontend",description:"settings.frontend_description",icon:"mdi-palette",color:"orange",route:{name:"frontendsettings"},adminOnly:!1},{name:"users",label:"auth.user_management",description:"settings.users_description",icon:"mdi-account-multiple",color:"teal",route:{name:"usersettings"},adminOnly:!0},{name:"about",label:"settings.about",description:"settings.about_description",icon:"mdi-information-outline",color:"grey-darken-1",route:{name:"aboutsettings"},adminOnly:!1}],N=c(()=>{const e=H.isAdmin();return L.filter(i=>!i.adminOnly||e)}),M=c(()=>u.currentRoute.value.name==="settings"),B=c(()=>{const e=u.currentRoute.value.name?.toString()||"";return e==="profile"?"profile":e.includes("player")||e==="addgroup"?"players":e.includes("system")||e.includes("core")||e.includes("serverlog")?"system":e.includes("frontend")?"frontend":e.includes("remoteaccess")?"remote_access":e.includes("user")?"users":e.includes("about")?"about":"providers"}),z=e=>{const i=o.getProvider(e);if(i)return i.name;const t=e.split("--")[0];return o.providerManifests[t]?.name||e},A=c(()=>{const e=u.currentRoute.value,i=e.name?.toString()||"",t=[{title:r("settings.settings"),disabled:!1,href:"#",to:{name:"settings"}}];if(!M.value){const s=B.value;s==="profile"?t.push({title:r("auth.profile"),disabled:i==="profile",to:{name:"profile"}}):s==="players"?t.push({title:r("settings.players"),disabled:i==="playersettings",to:{name:"playersettings"}}):s==="system"?t.push({title:r("settings.system"),disabled:i==="systemsettings",to:{name:"systemsettings"}}):s==="remote_access"?t.push({title:r("settings.remote_access"),disabled:i==="remoteaccesssettings",to:{name:"remoteaccesssettings"}}):s==="frontend"?t.push({title:r("settings.frontend"),disabled:i==="frontendsettings",to:{name:"frontendsettings"}}):s==="users"?t.push({title:r("settings.users"),disabled:i==="usersettings",to:{name:"usersettings"}}):s==="providers"?t.push({title:r("settings.providers"),disabled:i==="providersettings",to:{name:"providersettings"}}):s==="about"&&t.push({title:r("settings.about"),disabled:i==="aboutsettings",to:{name:"aboutsettings"}})}return Z(i).with("addproviderdetails",()=>{t.push({title:r("settings.setup_provider",[e.params.domain||""]),disabled:!0})}).with("editprovider",()=>{t.push({title:z(e.params.instanceId),disabled:!0})}).with("addgroup",()=>{t.push({title:r("settings.add_group_player"),disabled:!0})}).with("editplayer",()=>{t.push({title:r("settings.player_settings"),disabled:!0})}).with("editplayerdsp",()=>{t.push({title:"DSP",disabled:!0})}).with("editcore",()=>{const s=e.params.domain,f=r(`settings.core_module.${s}.name`),E=f!==`settings.core_module.${s}.name`?f:o.providerManifests[s]?.name||s;t.push({title:E,disabled:!0})}).with("serverlogs",()=>{t.push({title:r("settings.server_logging"),disabled:!0})}).otherwise(()=>{}),t}),k=c(()=>{const e=u.currentRoute.value,i=e.name?.toString()||"";if(i==="editcore"){const t=e.params.domain;if(t&&o.providerManifests[t])return o.providerManifests[t].documentation||null}else if(i==="editprovider"){const t=e.params.instanceId;if(t){const s=o.getProvider(t);if(s&&o.providerManifests[s.domain])return o.providerManifests[s.domain].documentation||null}}else if(i==="addproviderdetails"){const t=e.params.domain;if(t&&o.providerManifests[t])return o.providerManifests[t].documentation||null}return null});return(e,i)=>{const t=le("router-view");return l(),C("div",null,[a(U,{icon:d(re),"show-loading":!0},{title:n(()=>[a(G,{items:A.value,class:"pa-0"},null,8,["items"])]),append:n(()=>[$.value?(l(),m(y,{key:0,icon:p.value==="list"?"mdi-view-list":"mdi-grid",variant:"text",title:d(r)("tooltip.toggle_view_mode"),onClick:i[0]||(i[0]=s=>w())},null,8,["icon","title"])):v("",!0),T.value?(l(),m(y,{key:1,icon:g.value==="list"?"mdi-view-list":"mdi-grid",variant:"text",title:d(r)("tooltip.toggle_view_mode"),onClick:i[1]||(i[1]=s=>h())},null,8,["icon","title"])):v("",!0),k.value?(l(),m(y,{key:2,icon:"mdi-help-circle",variant:"text",title:d(r)("settings.view_documentation"),onClick:i[2]||(i[2]=s=>d(W)(k.value))},null,8,["title"])):v("",!0)]),_:1},8,["icon"]),a(J),M.value?(l(),m(F,{key:0,variant:"comfortable",class:"settings-overview"},{default:n(()=>[a(Q,{class:"settings-main-card"},{default:n(()=>[a(K,{class:"settings-list"},{default:n(()=>[(l(!0),C(ne,null,oe(N.value,s=>(l(),m(Y,{key:s.name,ripple:!0,class:"settings-list-item",onClick:f=>d(u).push(s.route)},{prepend:n(()=>[a(se,{color:s.color,size:"48"},{default:n(()=>[a(V,{icon:s.icon,size:"24",color:"white"},null,8,["icon"])]),_:2},1032,["color"])]),append:n(()=>[a(V,{icon:"mdi-chevron-right"})]),default:n(()=>[a(ee,{class:"text-h6"},{default:n(()=>[I(O(d(r)(s.label)),1)]),_:2},1024),a(te,null,{default:n(()=>[I(O(d(r)(s.description)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):(l(),m(t,{key:1},{default:n(({Component:s})=>[s?(l(),m(ae(s),{key:0})):v("",!0)]),_:1}))])}}}),Ce=X(ue,[["__scopeId","data-v-1f2656dc"]]);export{Ce as default};
