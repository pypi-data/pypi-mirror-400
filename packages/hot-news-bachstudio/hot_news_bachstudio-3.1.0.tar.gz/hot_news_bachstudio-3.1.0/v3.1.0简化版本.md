# 🎯 v3.1.0 简化版本

## ✨ 重大改进

### 简化工具接口

**之前**: 2个工具（get_hot_news + search_hot_news）+ Resources  
**现在**: 1个工具（search_news）

### 统一接口

只需要一个工具 `search_news`，支持所有场景：

```json
{
  "keyword": "关键词（可选）",
  "platform": "平台名称（可选，默认all）",
  "limit": 20
}
```

### 简化返回格式

**之前**: 复杂的文本格式
```
【抖音】热点 (2026-01-07 17:30)

1. 标题
   🔗 链接
...
```

**现在**: 简单的 JSON 数组
```json
[
  {
    "title": "新闻标题",
    "url": "链接地址"
  },
  {
    "title": "新闻标题2",
    "url": "链接地址2"
  }
]
```

---

## 📝 使用示例

### 1. 获取所有平台热点（不指定关键词）

**输入**:
```json
{
  "platform": "all"
}
```

**返回**:
```json
[
  {
    "title": "湖人111:103鹈鹕",
    "url": "https://www.douyin.com/search/..."
  },
  {
    "title": "探险鹅乐园手记",
    "url": "https://b23.tv/BV1F4ijBiEib"
  },
  ...
]
```

---

### 2. 获取单个平台热点

**输入**:
```json
{
  "platform": "douyin"
}
```

**返回**:
```json
[
  {
    "title": "湖人111:103鹈鹕",
    "url": "https://www.douyin.com/search/湖人111:103鹈鹕"
  },
  {
    "title": "沉浸式体验在东北逛吃有多快乐",
    "url": "https://www.douyin.com/search/沉浸式体验在东北逛吃有多快乐"
  },
  ...
]
```

---

### 3. 搜索关键词（所有平台）

**输入**:
```json
{
  "keyword": "科技",
  "platform": "all"
}
```

**返回**:
```json
[
  {
    "title": "中芯国际与嘉楠科技合作14nm矿机芯片",
    "url": "https://36kr.com/newsflashes/210949"
  },
  {
    "title": "【AI 学习】揭开AI卷积神经网络的神秘面纱",
    "url": "https://blog.csdn.net/weixin_63944437/article/details/156677282"
  },
  ...
]
```

---

### 4. 搜索关键词（指定平台）

**输入**:
```json
{
  "keyword": "AI",
  "platform": "csdn",
  "limit": 5
}
```

**返回**:
```json
[
  {
    "title": "WebUI LiuMo Batch：下一代AIGC工作流批量生成平台",
    "url": "https://blog.csdn.net/Liudef06/article/details/156574626"
  },
  {
    "title": "【AI 学习】揭开AI卷积神经网络的神秘面纱",
    "url": "https://blog.csdn.net/weixin_63944437/article/details/156677282"
  },
  ...
]
```

---

## 🎯 在 Claude 中使用

### 场景 1: 获取热点（不带关键词）

**你说**:
```
获取抖音的热点新闻
```

**Claude 会调用**:
```json
{
  "platform": "douyin"
}
```

**返回**: 抖音前20条热点新闻的标题和链接

---

### 场景 2: 搜索关键词

**你说**:
```
搜索包含"AI"的热点新闻
```

**Claude 会调用**:
```json
{
  "keyword": "AI",
  "platform": "all"
}
```

**返回**: 所有平台中包含"AI"的新闻

---

### 场景 3: 指定平台搜索

**你说**:
```
在CSDN上搜索"Python"相关的文章
```

**Claude 会调用**:
```json
{
  "keyword": "Python",
  "platform": "csdn"
}
```

**返回**: CSDN中包含"Python"的文章

---

### 场景 4: 获取所有平台

**你说**:
```
获取所有平台的热点
```

**Claude 会调用**:
```json
{
  "platform": "all"
}
```

**返回**: 所有可用平台的热点新闻

---

## 📊 支持的平台

只包含测试可用的平台：

| 平台 | 标识 | 数据量 |
|------|------|--------|
| 抖音 | `douyin` | 30条 |
| B站 | `bilibili` | 30条 |
| 今日头条 | `toutiao` | 30条 |
| 澎湃新闻 | `thepaper` | 20条 |
| CSDN | `csdn` | 30条 |
| GitHub | `github` | 30条 |
| V2EX | `v2ex` | 9条 |
| 36氪 | `36kr` | 10条 |
| 所有 | `all` | 189条 |

---

## 🔧 返回格式说明

### 成功返回

```json
[
  {
    "title": "新闻标题1",
    "url": "链接地址1"
  },
  {
    "title": "新闻标题2",
    "url": "链接地址2"
  }
]
```

### 错误返回

```json
{
  "error": "不支持的平台: xxx",
  "available_platforms": ["douyin", "bilibili", "toutiao", ...]
}
```

---

## 💡 使用技巧

### 1. 不带关键词 = 获取所有热点

```
获取抖音热点
获取所有平台的热点
```

### 2. 带关键词 = 搜索

```
搜索包含"科技"的新闻
在GitHub上搜索"Python"
```

### 3. 灵活组合

```
在抖音和B站上搜索"游戏"的内容
获取CSDN上关于"机器学习"的文章前10条
```

---

## 🎁 改进亮点

### ✅ 更简单
- 1个工具搞定所有场景
- 参数简单明了
- 返回格式统一

### ✅ 更灵活
- 关键词可选
- 平台可选
- 数量可控

### ✅ 更易用
- JSON 数组直接使用
- 便于程序处理
- 集成更方便

---

## 📦 安装使用

### 安装

```bash
pip install --upgrade hot-news-bachstudio
```

### 配置 Claude Desktop（uvx）

```json
{
  "mcpServers": {
    "hot-news": {
      "command": "uvx",
      "args": ["hot-news-bachstudio"]
    }
  }
}
```

### 测试

```bash
uvx hot-news-bachstudio-test
```

---

**版本**: v3.1.0  
**更新**: 简化工具接口，优化返回格式  
**发布时间**: 2026-01-07  

**更简单、更好用！** 🎉

