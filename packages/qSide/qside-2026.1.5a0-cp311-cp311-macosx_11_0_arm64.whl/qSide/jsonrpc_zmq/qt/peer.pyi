import zmq
from ..exceptions import JsonRpcError as JsonRpcError, RequestTimeoutError as RequestTimeoutError, TransportError as TransportError
from _typeshed import Incomplete
from jsonrpcclient.responses import Response as Response
from jsonrpcserver import Result as Result
from qtpy.QtCore import QObject
from typing import Any, Callable

logger: Incomplete

class QPendingRequest(QObject):
    def __init__(self) -> None: ...
    def done(self) -> bool: ...
    def wait(self, timeout: float | None = None): ...
    def set_result(self, result: Any): ...
    def set_exception(self, exc: Exception): ...
    def exception(self) -> Exception | None: ...
    def result(self) -> Any | None: ...

class SendWorker(QObject):
    exceptionOccurred: Incomplete
    def enqueue_message(self, msg: bytes): ...
    def __init__(self, zmq_socket: zmq.Socket) -> None: ...

class RecvWorker(QObject):
    responseReceived: Incomplete
    requestReceived: Incomplete
    exceptionOccurred: Incomplete
    def __init__(self, zmq_socket) -> None: ...

class QJsonRpcPeer(QObject):
    def __init__(self, zmq_addr: str, bind: bool = True) -> None: ...
    def last_endpoint(self) -> str: ...
    def started(self) -> bool: ...
    def stopped(self) -> bool: ...
    def start(self) -> None: ...
    def stop(self) -> None: ...
    def add_handler(self, method: str, handler: Callable[..., Result]): ...
    def remove_handler(self, method: str): ...
    def request(self, method: str, params: dict[str, Any] | tuple[Any, ...] | None = None, timeout: float | None = None) -> Any: ...
    def notify(self, method: str, params: dict[str, Any] | tuple[Any, ...] | None = None) -> None: ...
    def responseReceived(self, text: str): ...
    def requestReceived(self, text: str): ...
    def exceptionOccurred(self, e: Exception): ...
