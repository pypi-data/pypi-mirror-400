Metadata-Version: 2.4
Name: genbank_to
Version: 0.54
Summary: Convert GenBank format files to a swath of other formats
Author-email: Rob Edwards <raedwards@gmail.com>
License: MIT License
        
        Copyright (c) 2022 Rob Edwards
        
        Permission is hereby granted, free of charge, to any person obtaining a copy
        of this software and associated documentation files (the "Software"), to deal
        in the Software without restriction, including without limitation the rights
        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
        copies of the Software, and to permit persons to whom the Software is
        furnished to do so, subject to the following conditions:
        
        The above copyright notice and this permission notice shall be included in all
        copies or substantial portions of the Software.
        
        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
        SOFTWARE.
        
Project-URL: Homepage, https://github.com/linsalrob/genbank_to
Project-URL: Repository, https://github.com/linsalrob/genbank_to
Project-URL: Issues, https://github.com/linsalrob/genbank_to/issues
Keywords: genbank,bioinformatics,microbiology,genome,genomics
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Science/Research
Classifier: Natural Language :: English
Classifier: Operating System :: MacOS :: MacOS X
Classifier: Operating System :: POSIX :: Linux
Classifier: Operating System :: Unix
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Bio-Informatics
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: biopython>=1.74
Requires-Dist: numpy>=1.16.0
Requires-Dist: pandas
Requires-Dist: bcbio-gff>=0.6.6
Provides-Extra: test
Requires-Dist: pytest>=7.0; extra == "test"
Dynamic: license-file

# genbank_to

[![Edwards Lab](https://img.shields.io/badge/Bioinformatics-EdwardsLab-03A9F4)](https://edwards.flinders.edu.au/)
[![DOI](https://www.zenodo.org/badge/481464683.svg)](https://www.zenodo.org/badge/latestdoi/481464683)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
![GitHub language count](https://img.shields.io/github/languages/count/linsalrob/genbank_to)
[![PyPi](https://img.shields.io/pypi/pyversions/genbank_to.svg?style=flat-square&label=PyPi%20Versions)](https://pypi.org/project/genbank_to/)
[![Documentation Status](https://readthedocs.org/projects/genbank-to/badge/?version=latest)](https://genbank-to.readthedocs.io/en/latest/?badge=latest)

A straightforward application to convert NCBI GenBank format files to a swath of other formats. Hopefully we have the 
format you need, but if not either post [an issue](https://github.com/linsalrob/genbank_to/issues) using our template,
or if you have already got it working, post [a PR](https://github.com/linsalrob/genbank_to/pulls) so we can add it and
add you to the project.

You might also be interested [deprekate's](https://github.com/deprekate/) package called [genbank](https://github.com/deprekate/genbank) which includes
several of the features here, and you can `import genbank` into your Python projects.

## Documentation

For comprehensive documentation, including installation instructions, usage examples, and API reference, please visit:

**[https://genbank-to.readthedocs.io](https://genbank-to.readthedocs.io)**

# What it does

Read an NCBI GenBank format file (like our [test data](test/NC_001417.gbk)) and convert it to one of many
different formats.

# Input formats

At the moment we only support NCBI GenBank format. If you want us to read other common formats, 
[let us know](https://github.com/linsalrob/genbank_to/issues) and we'll add them.

# Output formats

Here are the output formats you can request. You can request as many of these at once as you like!

These outputs are assuming you provide a (for example) genome file that contains ORFs, Proteins, and Genomes.

## Nucleotide output

 - `-n` or `--nucleotide` outputs the whole DNA sequence (e.g. the genome)
 - `-o` or `--orfs` outputs the DNA sequence of the open reading frames

## Protein output

 - `-a` or `--aminoacids` outputs the protein sequence for each of the open reading frames

## Complex formats

 - `-p` or `--ptt` NCBI ptt protein table. This is a somewhat deprecated NCBI format from their genomes downloads
 - `-f` or `--functions` outputs tab separated data of `protein ID` and `protein function` (also called the `product`)
 - `--gff3` outputs GFF3 format
 - `--amr`  outputs a GFF file, an amino acid fasta file, and a nucleotide fasta file as required by [AMR Finder Plus](https://github.com/ncbi/amr/wiki/Running-AMRFinderPlus#examples). Note that this format checks for validity that often crashes AMRFinderPlus
 - `--phage_finder` outputs a unique format required by [phage_finder](http://phage-finder.sourceforge.net/)
 - `--bakta-json` outputs JSON format genome files similar to those created by [Bakta](https://github.com/oschwengers/bakta).
    - This option also allows you to specify additional information which can be recorded in the JSON output, including:
        - `--gram` [should be `+` or `-`] whether the strain is Gram +ve or Gram -ve. Note that if not provided we compute some from [our list of Bacteria](https://github.com/linsalrob/genbank_to/blob/main/GenBankToLib/bacteria.py)
        - `--translation-table` if you dind't use 11

## Output options

 - `--pseudo` normally we skip pseudogenes (e.g. in creating amino acid fasta files). This will try and include pseudogenes, but often biopython complains and ignores them!
 - `-i` or `--seqid` only output this sequence, or these sequences if you specify more than one `-i`/`--seqid`
 - `-z` or `--zip` compress some of the outputs
 - `--log` write logs to a different file

## Separate multi-GenBank files

If your GenBank files contains multiple sequence records (separated with `//`), you can provide the `--separate` flag. 
This will write each entry into its own file. This is compatible with `-n`/`--nucleotide`, `-o`/`--orfs`, and
`-a`/`--aminoacids`. However, if you provide the `--separate` flag on its own, it will write each entry in your 
multi-GenBank file to its own GenBank file.

## Examples

All of these examples use our [test data](test/NC_001417.gbk)

1. Extract a `fasta` of the genome:

```bash
genbank_to -g test/NC_001417.gbk -n test/NC_001417.fna
```

2. Extract the DNA sequences of the ORFs to a single file

```bash
genbank_to -g test/NC_001417.gbk -o test/NC_001417.orfs
```

3. Extract the protein (amino acid) sequences of the ORFs to a file

```bash
genbank_to -g test/NC_001417.gbk -a test/NC_001417.faa
```

4. Extract Bakta format JSON

```bash
genbank_to -g test/NC_001417.gbk --bakta-json test/NC_001417.json
```

5. Do all of these at once

```bash
genbank_to -g test/NC_001417.gbk -n test/NC_001417.fna -o test/NC_001417.orfs -a test/NC_001417.faa --bakta-json test/NC_001417.json
```

# Installation

You can install `genbank_to` in three different ways:

1. Using conda

This is the easiest and recommended method.

```bash
mamba create -n genbank_to genbank_to
conda activate genbank_to
genbank_to --help
```

2. Using pip

I recommend putting this into a virtual environment:

```bash
virtualenv venv
source venv/bin/activate
pip install genbank_to
genbank_to --help
```

3. Directly from this repository

(Not really recommended as things might break)

```bash
git clone https://github.com/linsalrob/genbank_to.git
cd genbank_to
virtualenv venv
source venv/bin/activate
pip install .
genbank_to --help
```

# More Information

For detailed documentation, including:
- Comprehensive usage examples
- Complete API reference for the Python library
- All output format specifications
- Contributing guidelines
- And much more!

Please visit our documentation at **[https://genbank-to.readthedocs.io](https://genbank-to.readthedocs.io)**

