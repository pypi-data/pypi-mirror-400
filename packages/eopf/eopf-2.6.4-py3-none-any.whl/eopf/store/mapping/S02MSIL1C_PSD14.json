{
    "recognition": {
        "function_uid": "rec_S02MSIL1C_PSD14",
        "product_type": "S02MSIL1C",
        "processing_version": "04.00"
    },
    "chunk_sizes_10m": {
        "y": 1830,
        "x": 1830
    },
    "chunk_sizes_20m": {
        "y": 915,
        "x": 915
    },
    "chunk_sizes_60m": {
        "y": 305,
        "x": 305
    },
    "data_mapping": [
        {
            "target_path": "attrs:/:stac_discovery",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B01.jp2'}#@",
            "accessor_id": "jp2metadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[stac_discovery]>'}#@"
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "coords:geometry:detector",
            "accessor_id": "xmlangles",
            "local_path": "to_detectors(n1:Geometric_Info/Tile_Angles/Viewing_Incidence_Angles_Grids)",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "detector"
                ],
                "attributes": {
                    "long_name": "detector module number",
                    "dimensions": "detector",
                    "dtype": "<U3"
                }
            }
        },
        {
            "target_path": "coords:geometry:angle",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "local_path": "n1:Geometric_Info/Tile_Angles/Mean_Sun_Angle",
            "accessor_id": "xml_angle_names_s02",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "angle"
                ],
                "attributes": {
                    "long_name": "zenith and azimuth angles",
                    "dimensions": "angle"
                }
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "coords:geometry:y",
            "accessor_id": "xmltp",
            "local_path": "n1:Geometric_Info/Tile_Geocoding/Geoposition[@resolution='10']/ULY",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@",
                "step_path": "@#copy{'map':'<SELF[xml_mapping/xmltp_angles/step_y_angle]>'}#@",
                "values_path": "@#copy{'map':'<SELF[xml_mapping/xmltp_angles/angle_values]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "y"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "y coordinates of angles grid, in steps of 5km from up-left pixel",
                    "dimensions": "y",
                    "dtype": "<f4"
                }
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "coords:geometry:x",
            "accessor_id": "xmltp",
            "local_path": "n1:Geometric_Info/Tile_Geocoding/Geoposition[@resolution='10']/ULX",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@",
                "step_path": "@#copy{'map':'<SELF[xml_mapping/xmltp_angles/step_x_angle]>'}#@",
                "values_path": "@#copy{'map':'<SELF[xml_mapping/xmltp_angles/angle_values]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "x"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "x coordinates of angles grid, in steps of 5km from up-left pixel",
                    "dimensions": "x",
                    "dtype": "<f4"
                }
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "coords:geometry:band",
            "accessor_id": "xmlangles",
            "local_path": "to_bands(n1:Geometric_Info/Tile_Angles/Viewing_Incidence_Angles_Grids)",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "band"
                ],
                "attributes": {
                    "long_name": "spectral band number",
                    "dimensions": "band",
                    "dtype": "<U3",
                    "flag_values": [
                        0,
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "B01 B02 B03 B04 B05 B06 B07 B08 B8A B09 B10 B11 B12"
                }
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B02.jp2'}#@",
            "target_path": "coords:r10m:y",
            "accessor_id": "jp2",
            "transform": {
                "dimensions": [
                    "y"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "y coordinates of image at 10m in meters from up-left pixel",
                    "dimensions": "y",
                    "dtype": "<f4"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "local_path": "coordinates/y"
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B02.jp2'}#@",
            "target_path": "coords:r10m:x",
            "accessor_id": "jp2",
            "transform": {
                "dimensions": [
                    "x"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "x coordinates of image at 10m in meters from up-left pixel",
                    "dimensions": "x",
                    "dtype": "<f4"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "local_path": "coordinates/x"
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B05.jp2'}#@",
            "target_path": "coords:r20m:y",
            "accessor_id": "jp2",
            "transform": {
                "dimensions": [
                    "y"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "y coordinates of image at 20m in meters from up-left pixel",
                    "dimensions": "y",
                    "dtype": "<f4"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "coordinates/y"
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B05.jp2'}#@",
            "target_path": "coords:r20m:x",
            "accessor_id": "jp2",
            "transform": {
                "dimensions": [
                    "x"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "x coordinates of image at 20m in meters from up-left pixel",
                    "dimensions": "x",
                    "dtype": "<f4"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "coordinates/x"
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B09.jp2'}#@",
            "target_path": "coords:r60m:y",
            "accessor_id": "jp2",
            "transform": {
                "dimensions": [
                    "y"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "y coordinates of image at 60m in meters from up-left pixel",
                    "dimensions": "y",
                    "dtype": "<f4"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "local_path": "coordinates/y"
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B09.jp2'}#@",
            "target_path": "coords:r60m:x",
            "accessor_id": "jp2",
            "transform": {
                "dimensions": [
                    "x"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "x coordinates of image at 60m in meters from up-left pixel",
                    "dimensions": "x",
                    "dtype": "<f4"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "coordinates/x"
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "coords:y",
            "local_path": "n1:Geometric_Info/Tile_Geocoding/Geoposition[@resolution='10']/ULY",
            "accessor_id": "xmltp",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@",
                "step_path": "@#copy{'map':'<SELF[xml_mapping/xmltp_angles/step_y_angle]>'}#@",
                "values_path": "@#copy{'map':'<SELF[xml_mapping/xmltp_angles/angle_values]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "y"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "y coordinates of angles grid, in steps of 5km from up-left pixel",
                    "dimensions": "y",
                    "dtype": "<f4"
                }
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "coords:x",
            "local_path": "n1:Geometric_Info/Tile_Geocoding/Geoposition[@resolution='10']/ULX",
            "accessor_id": "xmltp",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@",
                "step_path": "@#copy{'map':'<SELF[xml_mapping/xmltp_angles/step_x_angle]>'}#@",
                "values_path": "@#copy{'map':'<SELF[xml_mapping/xmltp_angles/angle_values]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "x"
                ],
                "attributes": {
                    "units": "m",
                    "long_name": "x coordinates of angles grid, in steps of 5km from up-left pixel",
                    "dimensions": "x",
                    "dtype": "<f4"
                }
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "coords:band",
            "accessor_id": "xmlangles",
            "local_path": "to_bands(n1:Geometric_Info/Tile_Angles/Viewing_Incidence_Angles_Grids)",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "band"
                ],
                "attributes": {
                    "long_name": "spectral band number",
                    "dimensions": "band",
                    "dtype": "<U3",
                    "flag_values": [
                        0,
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "B01 B02 B03 B04 B05 B06 B07 B08 B8A B09 B10 B11 B12"
                }
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "coords:detector",
            "accessor_id": "xmlangles",
            "local_path": "to_detectors(n1:Geometric_Info/Tile_Angles/Viewing_Incidence_Angles_Grids)",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "detector"
                ],
                "attributes": {
                    "long_name": "detector module number",
                    "dimensions": "detector",
                    "dtype": "<U3"
                }
            }
        },
        {
            "target_path": "coords:angle",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "angle"
                ],
                "attributes": {
                    "long_name": "zenith and azimuth angles",
                    "dimensions": "angle",
                    "dtype": "<u1"
                }
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_ECMWFT'}#@",
            "target_path": "coords:latitude",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "standard_name": "latitude",
                    "long_name": "latitudes of ECMWF grid",
                    "dtype": "<f4",
                    "dimensions": "latitude",
                    "units": "degrees_north"
                },
                "dimensions": [
                    "latitude"
                ]
            },
            "local_path": "coordinates/latitude"
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_ECMWFT'}#@",
            "target_path": "coords:longitude",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "standard_name": "longitude",
                    "long_name": "longitudes of ECMWF grid",
                    "dtype": "<f4",
                    "dimensions": "longitude",
                    "units": "degrees_east"
                },
                "dimensions": [
                    "longitude"
                ]
            },
            "local_path": "coordinates/longitude"
        },
        {
            "short_name": "b01_60m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B01.jp2'}#@",
            "target_path": "/measurements/reflectance/r60m/b01",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 01 443 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "b02_10m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B02.jp2'}#@",
            "target_path": "/measurements/reflectance/r10m/b02",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 02 490 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "b03_10m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B03.jp2'}#@",
            "target_path": "/measurements/reflectance/r10m/b03",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 03 560 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "b04_10m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B04.jp2'}#@",
            "target_path": "/measurements/reflectance/r10m/b04",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 04 665 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "b05_20m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B05.jp2'}#@",
            "target_path": "/measurements/reflectance/r20m/b05",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 05 705 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "b06_20m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B06.jp2'}#@",
            "target_path": "/measurements/reflectance/r20m/b06",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 06 740 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "b07_20m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B07.jp2'}#@",
            "target_path": "/measurements/reflectance/r20m/b07",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 07 783 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "b08_10m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B08.jp2'}#@",
            "target_path": "/measurements/reflectance/r10m/b08",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 08 842 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "b8a_20m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B8A.jp2'}#@",
            "target_path": "/measurements/reflectance/r20m/b8a",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 8A 865 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "b09_r60m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B09.jp2'}#@",
            "target_path": "/measurements/reflectance/r60m/b09",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 09 940 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "b10_60m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B10.jp2'}#@",
            "target_path": "/measurements/reflectance/r60m/b10",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 10 1375 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "b11_20m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B11.jp2'}#@",
            "target_path": "/measurements/reflectance/r20m/b11",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 11 1610 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "b12_20m",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/IMG_DATA/.*B12.jp2'}#@",
            "target_path": "/measurements/reflectance/r20m/b12",
            "accessor_id": "jp2",
            "transform": {
                "sub_array": {
                    "dim_0": 0
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "mask_and_scale": {
                    "add_offset": -0.1,
                    "fill_value": 0,
                    "scale_factor": 0.0001,
                    "valid_min": 1,
                    "valid_max": 65535
                },
                "attributes": {
                    "long_name": "TOA reflectance from MSI acquisition at spectral band 12 2190 nm",
                    "dtype": "<u2",
                    "dimensions": "y x",
                    "units": "digital_counts"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_cls_b00",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_CLASSI_B00.jp2'}#@",
            "target_path": "/conditions/mask/l1c_classification/r60m/b00",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4
                    ],
                    "flag_meanings": "opaque cirrus snow_ice",
                    "long_name": "cloud classification bitmask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b01",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B01.jp2'}#@",
            "target_path": "/quality/mask/r60m/b01",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b02",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B02.jp2'}#@",
            "target_path": "/quality/mask/r10m/b02",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b03",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B03.jp2'}#@",
            "target_path": "/quality/mask/r10m/b03",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b04",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B04.jp2'}#@",
            "target_path": "/quality/mask/r10m/b04",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b05",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B05.jp2'}#@",
            "target_path": "/quality/mask/r20m/b05",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b06",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B06.jp2'}#@",
            "target_path": "/quality/mask/r20m/b06",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b07",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B07.jp2'}#@",
            "target_path": "/quality/mask/r20m/b07",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b08",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B08.jp2'}#@",
            "target_path": "/quality/mask/r10m/b08",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b8a",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B8A.jp2'}#@",
            "target_path": "/quality/mask/r20m/b8a",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b09",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B09.jp2'}#@",
            "target_path": "/quality/mask/r60m/b09",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b10",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B10.jp2'}#@",
            "target_path": "/quality/mask/r60m/b10",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b11",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B11.jp2'}#@",
            "target_path": "/quality/mask/r20m/b11",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_quality_b12",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_QUALIT_B12.jp2'}#@",
            "target_path": "/quality/mask/r20m/b12",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_masks": [
                        1,
                        2,
                        4,
                        8,
                        16,
                        32,
                        64,
                        128,
                        256,
                        512
                    ],
                    "flag_meanings": "ANC_LOST ANC_DEG MSI_LOST MSI_DEG DEFECTIVE_PIXEL NODATA_PIXEL PARTIALLY_CORRECTED_PIXEL SATURATED_PIXEL_L1A SATURATED_PIXEL_L1B CLOUD",
                    "long_name": "quality mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "pack_bits": 0,
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b01",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B01.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r60m/b01",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b02",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B02.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r10m/b02",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b03",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B03.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r10m/b03",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b04",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B04.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r10m/b04",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b05",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B05.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r20m/b05",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b06",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B06.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r20m/b06",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b07",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B07.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r20m/b07",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b08",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B08.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r10m/b08",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_10m]>'}#@"
            },
            "coords_namespace": "r10m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b8a",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B8A.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r20m/b8a",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b09",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B09.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r60m/b09",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b10",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B10.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r60m/b10",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_60m]>'}#@"
            },
            "coords_namespace": "r60m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b11",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B11.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r20m/b11",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "msk_detfoo_b12",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/QI_DATA/MSK_DETFOO_B12.jp2'}#@",
            "target_path": "/conditions/mask/detector_footprint/r20m/b12",
            "accessor_id": "jp2",
            "transform": {
                "attributes": {
                    "flag_values": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12
                    ],
                    "flag_meanings": "D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12",
                    "long_name": "detector footprint mask provided in the final reference frame (ground geometry)",
                    "dtype": "<u1",
                    "dimensions": "y x"
                },
                "dimensions": [
                    "y",
                    "x"
                ],
                "sub_array": {
                    "dim_0": 0
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes_20m]>'}#@"
            },
            "coords_namespace": "r20m",
            "local_path": "value"
        },
        {
            "short_name": "sun_angles",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "/conditions/geometry/sun_angles",
            "accessor_id": "xml_angles_s02",
            "local_path": "n1:Geometric_Info/Tile_Angles/Sun_Angles_Grid",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "attributes": {
                    "long_name": "solar angles",
                    "dtype": "<f8",
                    "dimensions": "angle y x",
                    "units": "degrees"
                },
                "dimensions": [
                    "angle",
                    "y",
                    "x"
                ]
            },
            "coords_namespace": "geometry"
        },
        {
            "short_name": "viewing_incidence_angles",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "/conditions/geometry/viewing_incidence_angles",
            "accessor_id": "xml_incidence_angles_s02",
            "local_path": "n1:Geometric_Info/Tile_Angles/Viewing_Incidence_Angles_Grids",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "band",
                    "detector",
                    "angle",
                    "y",
                    "x"
                ],
                "attributes": {
                    "long_name": "viewing incidence angles",
                    "dtype": "<f8",
                    "dimensions": "band detector angle y x",
                    "units": "degrees"
                }
            },
            "coords_namespace": "geometry"
        },
        {
            "short_name": "mean_viewing_incidence_angles",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "/conditions/geometry/mean_viewing_incidence_angles",
            "accessor_id": "xml_mean_incidence_angles_s02",
            "local_path": "n1:Geometric_Info/Tile_Angles/Mean_Viewing_Incidence_Angle_List",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "band",
                    "angle"
                ],
                "attributes": {
                    "long_name": "mean viewing incidence angles",
                    "dtype": "<f8",
                    "dimensions": "band angle",
                    "units": "degrees"
                }
            },
            "coords_namespace": "geometry"
        },
        {
            "short_name": "mean_sun_angles",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "/conditions/geometry/mean_sun_angles",
            "accessor_id": "xml_mean_sun_angles_s02",
            "local_path": "n1:Geometric_Info/Tile_Angles/Mean_Sun_Angle",
            "accessor_config": {
                "namespace": "@#copy{'map':'<SELF[xml_mapping/namespace]>'}#@"
            },
            "transform": {
                "dimensions": [
                    "angle"
                ],
                "attributes": {
                    "long_name": "mean solar angles (all detectors, all bands)",
                    "dtype": "<f8",
                    "dimensions": "angle",
                    "units": "degrees"
                }
            },
            "coords_namespace": "geometry"
        },
        {
            "short_name": "tcwv",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_ECMWFT'}#@",
            "target_path": "/conditions/meteorology/ecmwf/tcwv",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "total column vertically-integrated water vapour",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude",
                    "standard_name": "lwe_thickness_of_atmosphere_mass_content_of_water_vapor",
                    "units": "kg/m2"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "tcwv",
            "is_optional": true
        },
        {
            "short_name": "msl",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_ECMWFT'}#@",
            "target_path": "/conditions/meteorology/ecmwf/msl",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "mean sea level pressure",
                    "standard_name": "air_pressure_at_mean_sea_level",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude",
                    "units": "hPa"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "msl",
            "is_optional": true
        },
        {
            "short_name": "tco3",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_ECMWFT'}#@",
            "target_path": "/conditions/meteorology/ecmwf/tco3",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "total column ozone",
                    "standard_name": "atmosphere_mass_content_of_ozone",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude",
                    "units": "kg/m2"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "tco3",
            "is_optional": true
        },
        {
            "short_name": "u10",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_ECMWFT'}#@",
            "target_path": "/conditions/meteorology/ecmwf/u10",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "units": "m/s",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude",
                    "long_name": "10m eastward wind component"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "u10",
            "is_optional": true
        },
        {
            "short_name": "v10",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_ECMWFT'}#@",
            "target_path": "/conditions/meteorology/ecmwf/v10",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "10m northward wind component",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude",
                    "units": "m/s"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "v10",
            "is_optional": true
        },
        {
            "short_name": "r",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_ECMWFT'}#@",
            "target_path": "/conditions/meteorology/ecmwf/r",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "relative humidity at surface pressure",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude",
                    "units": "%"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "r",
            "is_optional": true
        },
        {
            "short_name": "z",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/z",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "geopotential surface z",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude",
                    "units": "m2/s2"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "z",
            "is_optional": true
        },
        {
            "short_name": "aod469",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/aod469",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "total aerosol optical thickness at 469nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "aod469",
            "is_optional": true
        },
        {
            "short_name": "aod550",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/aod550",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "total aerosol optical thickness at 550nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "aod550",
            "is_optional": true
        },
        {
            "short_name": "aod670",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/aod670",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "total aerosol optical thickness at 670nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "aod670",
            "is_optional": true
        },
        {
            "short_name": "aod865",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/aod865",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "total aerosol optical thickness at 865nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "aod865",
            "is_optional": true
        },
        {
            "short_name": "aod1240",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/aod1240",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "total aerosol optical thickness at 1240nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "aod1240",
            "is_optional": true
        },
        {
            "short_name": "bcaod550",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/bcaod550",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "black carbon aerosol optical thickness at 550nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "bcaod550",
            "is_optional": true
        },
        {
            "short_name": "duaod550",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/duaod550",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "dust aerosol optical thickness at 550nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "duaod550",
            "is_optional": true
        },
        {
            "short_name": "omaod550",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/omaod550",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "organic matter aerosol optical thickness at 550nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "omaod550",
            "is_optional": true
        },
        {
            "short_name": "ssaod550",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/ssaod550",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "sea salt aerosol optical thickness at 550nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "ssaod550",
            "is_optional": true
        },
        {
            "short_name": "suaod550",
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/AUX_DATA/AUX_CAMSFO'}#@",
            "target_path": "/conditions/meteorology/cams/suaod550",
            "accessor_id": "grib",
            "transform": {
                "attributes": {
                    "long_name": "sulphate aerosol optical thickness at 550nm",
                    "dtype": "<f4",
                    "dimensions": "latitude longitude"
                },
                "dimensions": [
                    "latitude",
                    "longitude"
                ]
            },
            "local_path": "suaod550",
            "is_optional": true
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "attrs:/:stac_discovery",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[stac_discovery]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[tile_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[MTD_TL_template_path]>'}#@"
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'GRANULE/.*/MTD_TL.xml'}#@",
            "target_path": "attrs:/:other_metadata",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[other_metadata]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[tile_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[MTD_TL_template_path]>'}#@"
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'DATASTRIP/.*/MTD_DS.xml'}#@",
            "target_path": "attrs:/:stac_discovery",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[stac_discovery]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[datastrip_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[MTD_DS_template_path]>'}#@"
            }
        },
        {
            "source_path": "@#find{'product_url': '<URL>','pattern':'DATASTRIP/.*/MTD_DS.xml'}#@",
            "target_path": "attrs:/:other_metadata",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[other_metadata]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[datastrip_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[MTD_DS_template_path]>'}#@"
            }
        },
        {
            "target_path": "attrs:/:stac_discovery",
            "source_path": "manifest.safe",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[stac_discovery]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[product_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[manifest_template_path]>'}#@"
            }
        },
        {
            "target_path": "attrs:/:other_metadata",
            "source_path": "manifest.safe",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[other_metadata]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[product_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[manifest_template_path]>'}#@"
            }
        },
        {
            "target_path": "attrs:/:stac_discovery",
            "source_path": "MTD_MSIL1C.xml",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[stac_discovery]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[product_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[MTD_MSIL1C_template_path]>'}#@"
            }
        },
        {
            "target_path": "attrs:/:processing_history",
            "source_path": "MTD_MSIL1C.xml",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[processing_history]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[product_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[MTD_MSIL1C_template_path]>'}#@"
            }
        },
        {
            "target_path": "attrs:/:other_metadata",
            "source_path": "MTD_MSIL1C.xml",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[other_metadata]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[product_namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[MTD_MSIL1C_template_path]>'}#@"
            }
        }
    ],
    "stac_discovery": {
        "type": "Text(Feature)",
        "stac_version": "Text(1.1.0)",
        "stac_extensions": [
            "Text(https://stac-extensions.github.io/eopf/v1.2.0/schema.json)",
            "Text(https://stac-extensions.github.io/eo/v1.1.0/schema.json)",
            "Text(https://stac-extensions.github.io/raster/v2.0.0/schema.json)",
            "Text(https://stac-extensions.github.io/sat/v1.1.0/schema.json)",
            "Text(https://stac-extensions.github.io/view/v1.0.0/schema.json)",
            "Text(https://stac-extensions.github.io/scientific/v1.0.0/schema.json)",
            "Text(https://stac-extensions.github.io/processing/v1.2.0/schema.json)",
            "Text(https://stac-extensions.github.io/product/v0.1.0/schema.json)"
        ],
        "id": "n1:General_Info/Product_Info/PRODUCT_URI",
        "geometry": "to_geoJson(metadataSection/metadataObject[@ID='measurementFrameSet']/metadataWrap/xmlData/safe:frameSet/safe:footPrint/gml:coordinates)",
        "bbox": "to_bbox(metadataSection/metadataObject[@ID='measurementFrameSet']/metadataWrap/xmlData/safe:frameSet/safe:footPrint/gml:coordinates)",
        "properties": {
            "datetime": "to_datetime(n1:General_Info/Product_Info/*[contains(local-name(), '_TIME')])",
            "start_datetime": "n1:General_Info/Product_Info/PRODUCT_START_TIME",
            "end_datetime": "n1:General_Info/Product_Info/PRODUCT_STOP_TIME",
            "created": "n1:General_Info/Product_Info/GENERATION_TIME",
            "platform": "to_platform(n1:General_Info/Product_Info/Datatake/SPACECRAFT_NAME)",
            "instruments": [
                "msi"
            ],
            "constellation": "Text(sentinel-2)",
            "gsd": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='1']/RESOLUTION",
            "providers": [
                {
                    "name": "Text(L1C processor)",
                    "roles": [
                        "Text(processor)"
                    ]
                },
                {
                    "name": "Text(ESA)",
                    "roles": [
                        "Text(producer)"
                    ]
                }
            ],
            "product:timeliness_category": "Text(NRT)",
            "product:timeliness": "Text(PT3H)",
            "eopf:instrument_mode": "n1:General_Info/Product_Info/Datatake/DATATAKE_TYPE",
            "product:type": "Text(S02MSIL1C)",
            "processing:version": "n1:General_Info/Product_Info/PROCESSING_BASELINE",
            "eopf:datatake_id": "n1:General_Info/Product_Info/Datatake/@datatakeIdentifier",
            "eopf:datastrip_id": "n1:General_Info/Product_Info/Product_Organisation/Granule_List/Granule/@datastripIdentifier",
            "sat:absolute_orbit": "to_int(metadataSection/metadataObject[@ID='measurementOrbitReference']/metadataWrap/xmlData/safe:orbitReference/safe:orbitNumber)",
            "sat:relative_orbit": "to_int(n1:General_Info/Product_Info/Datatake/SENSING_ORBIT_NUMBER)",
            "sat:orbit_state": "metadataSection/metadataObject[@ID='measurementOrbitReference']/metadataWrap/xmlData/safe:orbitReference/safe:orbitNumber/@groundTrackDirection",
            "sat:platform_international_designator": "Text(2015-028A)",
            "sci:doi": "to_sci_doi(n1:General_Info/Product_Info/PRODUCT_DOI)",
            "processing:lineage": "Text(systematic)",
            "processing:facility": "Text(ESA)",
            "processing:software": "sentinel-2 level-1 processor",
            "processing:level": "Text(L1C)",
            "eo:cloud_cover": "to_float(n1:Quality_Indicators_Info/Image_Content_QI/CLOUDY_PIXEL_PERCENTAGE)",
            "eo:snow_cover": "to_float(n1:Quality_Indicators_Info/Image_Content_QI/SNOW_PIXEL_PERCENTAGE)",
            "bands": [
                {
                    "name": "Text(01)",
                    "eo:common_name": "Text(coastal)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='0']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.020)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='0'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='0']/RESOLUTION"
                },
                {
                    "name": "Text(02)",
                    "eo:common_name": "Text(blue)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='1']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.065)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='1'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='1']/RESOLUTION"
                },
                {
                    "name": "Text(03)",
                    "eo:common_name": "Text(green)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='2']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.035)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='2'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='2']/RESOLUTION"
                },
                {
                    "name": "Text(04)",
                    "eo:common_name": "Text(red)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='3']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.030)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='3'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='3']/RESOLUTION"
                },
                {
                    "name": "Text(05)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='4']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.015)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='4'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='4']/RESOLUTION"
                },
                {
                    "name": "Text(06)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='5']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.015)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='5'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='5']/RESOLUTION"
                },
                {
                    "name": "Text(07)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='6']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.020)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='6'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='6']/RESOLUTION"
                },
                {
                    "name": "Text(08)",
                    "eo:common_name": "Text(nir)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='7']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.105)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='7'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='7']/RESOLUTION"
                },
                {
                    "name": "Text(8A)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='8']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.020)",
                    "eo:solar_illumination": "tp_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='8'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='8']/RESOLUTION"
                },
                {
                    "name": "Text(09)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='9']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.020)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='9'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='9']/RESOLUTION"
                },
                {
                    "name": "Text(10)",
                    "eo:common_name": "Text(cirrus)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='10']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.030)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='10'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='10']/RESOLUTION"
                },
                {
                    "name": "Text(11)",
                    "eo:common_name": "Text(swir16)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='11']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.090)",
                    "eo:solar_illumination": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='11'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='11']/RESOLUTION"
                },
                {
                    "name": "Text(12)",
                    "eo:common_name": "Text(swir22)",
                    "eo:center_wavelength": "to_microm_from_nanom(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='12']/Wavelength/CENTRAL)",
                    "eo:full_width_half_max": "to_float(0.180)",
                    "eo:solar_illumination": "to_flooat(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/Solar_Irradiance_List/SOLAR_IRRADIANCE[@bandId='12'])",
                    "raster:spatial_resolution": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='12']/RESOLUTION"
                }
            ],
            "proj:code": "n1:Geometric_Info/Tile_Geocoding/HORIZONTAL_CS_CODE",
            "proj:bbox": "jp2metadata:bounds"
        },
        "links": [
            {
                "rel": "Text(self)",
                "href": "Text(./.zattrs.json)",
                "type": "Text(application/json)"
            }
        ],
        "assets": {}
    },
    "other_metadata": {
        "eopf_category": "Text(eoproduct)",
        "utm_zone_identification": "to_utm_zone(n1:Geometric_Info/Tile_Geocoding/HORIZONTAL_CS_NAME)",
        "horizontal_crs_name": "n1:Geometric_Info/Tile_Geocoding/HORIZONTAL_CS_NAME",
        "horizontal_crs_code": "n1:Geometric_Info/Tile_Geocoding/HORIZONTAL_CS_CODE",
        "mean_sun_azimuth_angle_in_deg_for_all_bands_all_detectors": "to_float(n1:Geometric_Info/Tile_Angles/Mean_Sun_Angle/AZIMUTH_ANGLE)",
        "mean_sun_zenith_angle_in_deg_for_all_bands_all_detectors": "to_float(n1:Geometric_Info/Tile_Angles/Mean_Sun_Angle/ZENITH_ANGLE)",
        "l0_ephemeris_data_quality": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_QI/EPHEMERIS_QUALITY)",
        "l0_ancillary_data_quality": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_QI/ANCILLARY_QUALITY)",
        "absolute_location_assessment_from_aocs": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_QI/Absolute_Location)",
        "planimetric_stability_assessment_from_aocs": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_QI/Planimetric_Stability)",
        "multispectral_registration_assessment": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_QI/Multi_Spectral_Registration)",
        "reflectance_correction_factor_from_the_sun_earth_distance_variation_computed_using_the_acquisition_date": "to_float(n1:General_Info/Product_Image_Characteristics/Reflectance_Conversion/U)",
        "percentage_of_degraded_msi_data": "to_float(n1:Quality_Indicators_Info/Technical_Quality_Assessment/DEGRADED_MSI_DATA_PERCENTAGE)",
        "spectral_band_of_reference": "is_optional(to_int(n1:General_Info/Product_Image_Characteristics/REFERENCE_BAND))",
        "band_description": {
            "01": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='0']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='0']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='0']/Wavelength/MAX)",
                "bandwidth": "Text(20.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='0']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='0']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='0'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='0']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='0']/INTEGRATION_TIME)"
            },
            "02": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='1']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='1']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='1']/Wavelength/MAX)",
                "bandwidth": "Text(65.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='1']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='1']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='1'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='1']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='1']/INTEGRATION_TIME)"
            },
            "03": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='2']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='2']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='2']/Wavelength/MAX)",
                "bandwidth": "Text(35.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='2']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='2']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='2'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='2']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='2']/INTEGRATION_TIME)"
            },
            "04": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='3']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='3']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='3']/Wavelength/MAX)",
                "bandwidth": "Text(30.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='3']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='3']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='3'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='3']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='3']/INTEGRATION_TIME)"
            },
            "05": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='4']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='4']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='4']/Wavelength/MAX)",
                "bandwidth": "Text(15.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='4']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='4']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='4'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='4']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='4']/INTEGRATION_TIME)"
            },
            "06": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='5']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='5']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='5']/Wavelength/MAX)",
                "bandwidth": "Text(13.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='5']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='5']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='5'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='5']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='5']/INTEGRATION_TIME)"
            },
            "07": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='6']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='6']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='6']/Wavelength/MAX)",
                "bandwidth": "Text(19.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='6']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='6']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='6'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='6']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='6']/INTEGRATION_TIME)"
            },
            "08": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='7']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='7']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='7']/Wavelength/MAX)",
                "bandwidth": "Text(105.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='7']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='7']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='7'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='7']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='7']/INTEGRATION_TIME)"
            },
            "8A": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='8']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='8']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='8']/Wavelength/MAX)",
                "bandwidth": "Text(20.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='8']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='8']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='8'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='8']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='8']/INTEGRATION_TIME)"
            },
            "09": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='9']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='9']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='9']/Wavelength/MAX)",
                "bandwidth": "Text(20.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='9']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='9']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='9'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='9']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='9']/INTEGRATION_TIME)"
            },
            "10": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='10']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='10']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='10']/Wavelength/MAX)",
                "bandwidth": "Text(30.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='10']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='10']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='10'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='10']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='10']/INTEGRATION_TIME)"
            },
            "11": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='11']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='11']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='11']/Wavelength/MAX)",
                "bandwidth": "Text(90.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='11']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='11']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='11'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='11']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='11']/INTEGRATION_TIME)"
            },
            "12": {
                "units": "Text(nm)",
                "central_wavelength": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='12']/Wavelength/CENTRAL)",
                "wavelength_min": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='12']/Wavelength/MIN)",
                "wavelength_max": "to_float(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='12']/Wavelength/MAX)",
                "bandwidth": "Text(180.0)",
                "spectral_response_step": "to_int(n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='12']/Spectral_Response/STEP)",
                "spectral_response_values": "n1:General_Info/Product_Image_Characteristics/Spectral_Information_List/Spectral_Information[@bandId='12']/Spectral_Response/VALUES",
                "physical_gain": "to_float(n1:General_Info/Product_Image_Characteristics/PHYSICAL_GAINS[@bandId='12'])",
                "onboard_compression_rate": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='12']/COMPRESSION_RATE)",
                "onboard_integration_time": "to_float(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/Spectral_Band_Info/Spectral_Band_Information[@bandId='12']/INTEGRATION_TIME)"
            }
        },
        "meteo": {
            "source": "Text(ECMWF)",
            "type": "Text(FORECAST)"
        },
        "product_quality_status": "n1:Quality_Indicators_Info/Quality_Control_Checks/Quality_Inspections/quality_check['GENERAL_QUALITY']",
        "nuc_table_id": "to_int(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/NUC_TABLE_ID)",
        "onboard_compression_flag": "n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/COMPRESS_MODE",
        "onboard_equalization_flag": "is_optional(n1:Image_Data_Info/Sensor_Configuration/Acquisition_Configuration/EQUALIZATION_MODE)",
        "swir_rearrangement_flag": "is_optional(n1:Image_Data_Info/Radiometric_Info/SWIR_REARRANGEMENT_PROC)",
        "optical_crosstalk_correction_flag": "is_optional(n1:Image_Data_Info/Radiometric_Info/CROSSTALK_OPTICAL_PROC)",
        "electronic_crosstalk_correction_flag": "is_optional(n1:Image_Data_Info/Radiometric_Info/CROSSTALK_ELECTRONIC_PROC)",
        "geometric_refinement": {
            "spacecraft_rotation": {
                "X": {
                    "degree": "is_optional(n1:Image_Data_Info/Geometric_Info/Refined_Corrections_List/Refined_Corrections/MSI_State/Rotation/X/DEGREE)",
                    "coefficients": "is_optional(n1:Image_Data_Info/Geometric_Info/Refined_Corrections_List/Refined_Corrections/MSI_State/Rotation/X/COEFFICIENTS)"
                },
                "Y": {
                    "degree": "is_optional(n1:Image_Data_Info/Geometric_Info/Refined_Corrections_List/Refined_Corrections/MSI_State/Rotation/Y/DEGREE)",
                    "coefficients": "is_optional(n1:Image_Data_Info/Geometric_Info/Refined_Corrections_List/Refined_Corrections/MSI_State/Rotation/Y/COEFFICIENTS)"
                },
                "Z": {
                    "degree": "is_optional(n1:Image_Data_Info/Geometric_Info/Refined_Corrections_List/Refined_Corrections/MSI_State/Rotation/Z/DEGREE)",
                    "coefficients": "is_optional(n1:Image_Data_Info/Geometric_Info/Refined_Corrections_List/Refined_Corrections/MSI_State/Rotation/Z/COEFFICIENTS)"
                }
            },
            "mean_value_of_residual_displacements_at_all_tie_points_after_refinement_m": {
                "x_mean": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_Refining_Quality/Image_Refining/Correlation_Quality/Local_Residual_List/Local_Residual/X_MEAN)",
                "y_mean": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_Refining_Quality/Image_Refining/Correlation_Quality/Local_Residual_List/Local_Residual/Y_MEAN)"
            },
            "standard_deviation_of_residual_displacements_at_all_tie_points_after_refinement_m": {
                "x_stdv": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_Refining_Quality/Image_Refining/Correlation_Quality/Local_Residual_List/Local_Residual/X_STDV)",
                "y_stdv": "is_optional(n1:Quality_Indicators_Info/Geometric_Info/Geometric_Refining_Quality/Image_Refining/Correlation_Quality/Local_Residual_List/Local_Residual/Y_STDV)"
            }
        }
    },
    "xml_mapping": {
        "namespace": {
            "n1": "https://psd-14.sentinel2.eo.esa.int/PSD/S2_PDI_Level-1C_Tile_Metadata.xsd"
        },
        "xmltp_angles": {
            "step_x_angle": "n1:Geometric_Info/Tile_Angles/Sun_Angles_Grid/Zenith/COL_STEP",
            "step_y_angle": "n1:Geometric_Info/Tile_Angles/Sun_Angles_Grid/Zenith/ROW_STEP",
            "angle_values": "n1:Geometric_Info/Tile_Angles/Sun_Angles_Grid/Zenith/Values_List/VALUES"
        }
    },
    "product_namespaces": {
        "xfdu": "urn:ccsds:schema:xfdu:1",
        "gml": "http://www.opengis.net/gml",
        "safe": "http://www.esa.int/safe/sentinel/1.1",
        "sentinel-safe": "http://www.esa.int/safe/sentinel/1.1",
        "n1": "https://psd-14.sentinel2.eo.esa.int/PSD/User_Product_Level-1C.xsd",
        "xsi": "http://www.w3.org/2001/XMLSchema-instance"
    },
    "tile_namespaces": {
        "n1": "https://psd-14.sentinel2.eo.esa.int/PSD/S2_PDI_Level-1C_Tile_Metadata.xsd",
        "xsi": "http://www.w3.org/2001/XMLSchema-instance"
    },
    "datastrip_namespaces": {
        "xfdu": "urn:ccsds:schema:xfdu:1",
        "gml": "http://www.opengis.net/gml",
        "safe": "http://www.esa.int/safe/sentinel/1.1",
        "sentinel-safe": "http://www.esa.int/safe/sentinel/1.1",
        "n1": "https://psd-14.sentinel2.eo.esa.int/PSD/S2_PDI_Level-1C_Datastrip_Metadata.xsd",
        "xsi": "http://www.w3.org/2001/XMLSchema-instance"
    },
    "manifest_template_path": {
        "template_folder": "$EOPF_ROOT/store/templates",
        "template_name": "S02MSIL1C_manifest.xml"
    },
    "MTD_DS_template_path": {
        "template_folder": "$EOPF_ROOT/store/templates",
        "template_name": "S02MSIL1C_MTD_DS.xml"
    },
    "MTD_MSIL1C_template_path": {
        "template_folder": "$EOPF_ROOT/store/templates",
        "template_name": "S02MSIL1C_MTD_MSIL1C.xml"
    },
    "MTD_TL_template_path": {
        "template_folder": "$EOPF_ROOT/store/templates",
        "template_name": "S02MSIL1C_MTD_TL.xml"
    },
    "processing_history": {
        "Level-0 Product": [
            {
                "processor": "Text(L0 processor)",
                "version": "Text(Unknown)",
                "facility": "Text(ESA)",
                "inputs": "Text(Downlinked Data)",
                "outputs": "Text(S02MSIL0__etc)",
                "time": "1970-01-01T00:00:00.000000Z"
            }
        ],
        "Level-1A Product": [
            {
                "processor": "Text(Sentinel-2 IPF)",
                "version": "Text(Unknown)",
                "facility": "Text(ESA)",
                "adfs": "to_s02_adfs(['PRODUCTION_DEM_TYPE', 'GRI_List/GRI_FILENAME',  'IERS_BULLETIN_FILENAME', 'ECMWF_DATA_REF', 'GIPP_List/GIPP_FILENAME'])",
                "inputs": "Text(S02MSIL0__etc)",
                "outputs": "Text(S02MSIL1A_etc)",
                "time": "1970-01-01T00:00:00.000000Z"
            }
        ],
        "Level-1B Product": [
            {
                "processor": "Text(Sentinel-2 IPF)",
                "version": "Text(Unknown)",
                "facility": "Text(ESA)",
                "adfs": "to_s02_adfs(['PRODUCTION_DEM_TYPE', 'GRI_List/GRI_FILENAME',  'IERS_BULLETIN_FILENAME', 'ECMWF_DATA_REF', 'GIPP_List/GIPP_FILENAME'])",
                "inputs": "Text(S02MSIL1A_etc)",
                "outputs": "Text(S02MSIL1B_etc)",
                "time": "1970-01-01T00:00:00.000000Z"
            }
        ],
        "Level-1C Product": [
            {
                "processor": "Text(Sentinel-2 IPF)",
                "version": "n1:General_Info/Product_Info/PROCESSING_BASELINE",
                "time": "n1:General_Info/Product_Info/GENERATION_TIME",
                "facility": "Text(ESA)",
                "adfs": "to_s02_adfs(['PRODUCTION_DEM_TYPE', 'GRI_List/GRI_FILENAME',  'IERS_BULLETIN_FILENAME', 'ECMWF_DATA_REF', 'GIPP_List/GIPP_FILENAME'])",
                "inputs": "Text(S02MSIL1B_etc)",
                "outputs": "Text(S02MSIL1C_etc)"
            }
        ]
    }
}
