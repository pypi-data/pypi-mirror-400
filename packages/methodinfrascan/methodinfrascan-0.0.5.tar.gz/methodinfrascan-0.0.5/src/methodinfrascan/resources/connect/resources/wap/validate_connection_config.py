# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from .....core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .security_expectation import SecurityExpectation
from .test_client_profile import TestClientProfile


class ValidateConnectionConfig(UniversalBaseModel):
    """
    Configuration for active connection validation.
    Specifies target network and test client profile to use.
    """

    interface: typing.Optional[str] = None
    target_ssid: typing.Optional[str] = pydantic.Field(alias="targetSsid", default=None)
    target_bssid: typing.Optional[str] = pydantic.Field(alias="targetBssid", default=None)
    test_client_profile_ref: typing.Optional[str] = pydantic.Field(alias="testClientProfileRef", default=None)
    test_credentials: typing.Optional[typing.List[TestClientProfile]] = pydantic.Field(
        alias="testCredentials", default=None
    )
    timeout: typing.Optional[int] = None
    expected_security: typing.Optional[SecurityExpectation] = pydantic.Field(alias="expectedSecurity", default=None)
    test_platform_connectivity: typing.Optional[bool] = pydantic.Field(alias="testPlatformConnectivity", default=None)
    """
    If true, after successful connection, test HTTP connectivity to platformUrl.
    Requires platformUrl to be set.
    """

    platform_url: typing.Optional[str] = pydantic.Field(alias="platformUrl", default=None)
    """
    URL to test for platform connectivity (e.g., https://api.example.com/health).
    Required if testPlatformConnectivity is true.
    The tool will follow redirects and check for HTTP 200 response.
    """

    return_to_original_wifi_if_no_platform_connectivity: typing.Optional[bool] = pydantic.Field(
        alias="returnToOriginalWifiIfNoPlatformConnectivity", default=None
    )
    """
    Only used when testOnly is false (stay connected mode).
    If true and platform connectivity test fails, disconnect from target network
    and reconnect to original WiFi. If false, stay connected even if platform
    connectivity fails.
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow")  # type: ignore # Pydantic v2
    else:

        class Config:
            extra = pydantic.Extra.allow
