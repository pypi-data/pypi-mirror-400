{
  "permissions": {
    "allow": [
      "Bash(python3:*)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(ls:*)",
      "Bash(uv sync:*)",
      "Bash(cat:*)",
      "Bash(.venv/bin/python:*)",
      "Bash(uv build:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(uv publish:*)",
      "Bash(uv pip install:*)",
      "Bash(python -m twine upload --username __token__ --password pypi-AgEIcHlwaS5vcmcCJGRkMGYxY2M4LTFmMTAtNDU5Mi04OWQ3LTJlNjYyMTMzMTFmMwACKlszLCIwNDk1MjQzMy1jODQyLTQ2YTgtYTdkOC03YjU3ODI1ZjhkMGEiXQAABiDZq27jeqPMXxL86VRETdxyUdmSHyhC5gjTPenUCaKmDA dist/*)",
      "Bash(git reset:*)",
      "Bash(git checkout:*)",
      "Bash(pip install:*)",
      "Bash(export KAKAO_ID=\"dragon1086@naver.com\")",
      "Bash(export KAKAO_PW=\"1Gmrfyd2@@\")",
      "Bash(uv run twine upload:*)",
      "Bash(curl:*)",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3:*)",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_nearest_business_day_in_a_week\nfrom datetime import datetime\n\ntoday_str = datetime.today\\(\\).strftime\\(''%Y%m%d''\\)\nprint\\(f''현재 시간: {datetime.now\\(\\).strftime\\(\"\"%H:%M\"\"\\)}''\\)\nprint\\(f''today_str: {today_str}''\\)\n\n# trigger_batch.py와 동일한 호출 방식\ntrade_date = get_nearest_business_day_in_a_week\\(today_str, prev=True\\)\nprint\\(f''get_nearest_business_day_in_a_week 결과: {trade_date}''\\)\n\")",
      "Bash(git revert:*)",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_ohlcv_by_date\ndf = get_market_ohlcv_by_date\\(''20251220'', ''20260102'', ''012200''\\)\nprint\\(''계양전기 10일 데이터:''\\)\nprint\\(df\\)\nprint\\(\\)\nprint\\(f''최저가\\(지지선\\): {df[\"\"Low\"\"].min\\(\\)}''\\)\nprint\\(f''최고가\\(저항선\\): {df[\"\"High\"\"].max\\(\\)}''\\)\nprint\\(f''현재가\\(종가\\): {df[\"\"Close\"\"].iloc[-1]}''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_ohlcv_by_date\n\n# 테라뷰 최근 데이터 조회\nprint\\(''=== 최근 10일 조회 ===''\\)\ndf = get_market_ohlcv_by_date\\(''20251220'', ''20260102'', ''950250''\\)\nprint\\(df\\)\nprint\\(\\)\n\n# 로그에서 본 날짜 범위로 조회\nprint\\(''=== 로그의 날짜 범위 \\(20250105-20260105\\) ===''\\)\ndf2 = get_market_ohlcv_by_date\\(''20250105'', ''20260105'', ''950250''\\)\nprint\\(f''데이터 건수: {len\\(df2\\)}''\\)\nprint\\(df2.head\\(\\) if not df2.empty else ''데이터 없음''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_ohlcv_by_date\n\n# 테라뷰 최근 데이터 조회\nprint\\(''=== 테라뷰 \\(950250\\) 최근 데이터 ===''\\)\ndf = get_market_ohlcv_by_date\\(''20251220'', ''20260102'', ''950250''\\)\nprint\\(df if not df.empty else ''데이터 없음''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import _get_client\n\nclient = _get_client\\(\\)\n\n# ISIN 캐시 빌드해서 950250이 있는지 확인\nclient._build_isin_cache\\(''20260102''\\)\nprint\\(f''ISIN 캐시 종목 수: {len\\(client._isin_cache\\)}''\\)\nprint\\(f''950250 ISIN: {client._isin_cache.get\\(\"\"950250\"\", \"\"없음\"\"\\)}''\\)\n\n# 테라뷰와 비슷한 코드들 확인\nsimilar = {k: v for k, v in client._isin_cache.items\\(\\) if k.startswith\\(''950''\\)}\nprint\\(f''950xxx 코드들: {similar}''\\)\n\")",
      "WebSearch",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import _get_client\n\nclient = _get_client\\(\\)\n\n# fundamental_all API 직접 호출해서 결과 확인\nitems = client._request\\(\n    client.BLD[''fundamental_all''],\n    {''mktId'': ''ALL'', ''trdDd'': ''20260102''}\n\\)\n\nprint\\(f''총 종목 수: {len\\(items\\)}''\\)\n\n# 950으로 시작하는 종목 찾기\nfound = [item for item in items if item.get\\(''ISU_SRT_CD'', ''''\\).startswith\\(''950''\\)]\nprint\\(f''950xxx 종목: {found}''\\)\n\n# 테라뷰 찾기\nteraview = [item for item in items if ''테라뷰'' in item.get\\(''ISU_ABBRV'', ''''\\)]\nprint\\(f''테라뷰 검색 결과: {teraview}''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import _get_client\n\nclient = _get_client\\(\\)\n\n# finder_stkisu API에서 950250 찾기\nitems = client._request\\(\n    client.BLD[''finder_stkisu''],\n    {''locale'': ''ko_KR'', ''mktsel'': ''ALL'', ''searchText'': ''950250'', ''typeNo'': 0}\n\\)\n\nprint\\(f''검색 결과: {items}''\\)\n\")",
      "Bash(pip show:*)",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_ohlcv_by_date\nfrom datetime import datetime, timedelta\n\nend_date = datetime.now\\(\\).strftime\\(''%Y%m%d''\\)\nstart_date = \\(datetime.now\\(\\) - timedelta\\(days=30\\)\\).strftime\\(''%Y%m%d''\\)\n\ndf = get_market_ohlcv_by_date\\(start_date, end_date, ''123690''\\)\nprint\\(''Columns:'', df.columns.tolist\\(\\)\\)\nprint\\(\\)\nprint\\(df.head\\(\\)\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_cap_by_date\nfrom datetime import datetime, timedelta\n\nend_date = datetime.now\\(\\).strftime\\(''%Y%m%d''\\)\nstart_date = \\(datetime.now\\(\\) - timedelta\\(days=30\\)\\).strftime\\(''%Y%m%d''\\)\n\ndf = get_market_cap_by_date\\(start_date, end_date, ''005930''\\)\nprint\\(''Columns:'', df.columns.tolist\\(\\)\\)\nprint\\(\\)\nprint\\(df.head\\(\\)\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom cores.stock_chart import create_price_chart, get_chart_as_base64_html\nimport logging\nlogging.basicConfig\\(level=logging.INFO\\)\n\n# 테스트: 한국화장품 \\(123690\\)\nticker = ''123690''\ncompany = ''한국화장품''\n\nprint\\(''Testing price chart...''\\)\ntry:\n    html = get_chart_as_base64_html\\(ticker, company, create_price_chart, ''Price Chart'', width=900, dpi=80, image_format=''jpg'', compress=True, days=730, adjusted=True\\)\n    if html:\n        print\\(f''SUCCESS: Price chart generated, length={len\\(html\\)}''\\)\n    else:\n        print\\(''FAILED: Price chart returned None''\\)\nexcept Exception as e:\n    print\\(f''ERROR: {e}''\\)\n    import traceback\n    traceback.print_exc\\(\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_ohlcv_by_date\nfrom datetime import datetime, timedelta\nimport logging\nlogging.basicConfig\\(level=logging.INFO\\)\n\nend_date = datetime.now\\(\\).strftime\\(''%Y%m%d''\\)\nstart_date = \\(datetime.now\\(\\) - timedelta\\(days=30\\)\\).strftime\\(''%Y%m%d''\\)\n\nprint\\(''Testing direct API call for 005930...''\\)\ndf = get_market_ohlcv_by_date\\(start_date, end_date, ''005930''\\)\nif df is not None and len\\(df\\) > 0:\n    print\\(f''SUCCESS: Got {len\\(df\\)} rows''\\)\n    print\\(df.columns.tolist\\(\\)\\)\nelse:\n    print\\(''FAILED: No data''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import _get_client\nfrom datetime import datetime\n\nclient = _get_client\\(\\)\ntoday = datetime.now\\(\\).strftime\\(''%Y%m%d''\\)\nnearest = client.get_nearest_business_day\\(today\\)\nprint\\(f''Today: {today}''\\)\nprint\\(f''Nearest business day: {nearest}''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import _get_client\n\nclient = _get_client\\(\\)\n\n# 직접 fundamental_all API 호출 테스트\nprint\\(''Testing fundamental_all API with 20260102...''\\)\ntry:\n    items = client._request\\(\n        client.BLD[''fundamental_all''],\n        {''mktId'': ''ALL'', ''trdDd'': ''20260102''}\n    \\)\n    print\\(f''SUCCESS: Got {len\\(items\\)} items''\\)\nexcept Exception as e:\n    print\\(f''FAILED: {e}''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import _get_client\nimport requests\n\nclient = _get_client\\(\\)\n\n# 세션의 쿠키 확인\nprint\\(''Session cookies:''\\)\nfor k, v in client._session.cookies.items\\(\\):\n    print\\(f''  {k}: {v[:50]}...'' if len\\(v\\) > 50 else f''  {k}: {v}''\\)\n\n# 직접 요청 보내기\nurl = ''http://data.krx.co.kr/comm/bldAttendant/getJsonData.cmd''\nbld = ''dbms/MDC/STAT/standard/MDCSTAT03501''\nparams = {''bld'': bld, ''mktId'': ''ALL'', ''trdDd'': ''20260102''}\n\nprint\\(\\)\nprint\\(''Request URL:'', url\\)\nprint\\(''Params:'', params\\)\n\nresp = client._session.post\\(url, data=params\\)\nprint\\(\\)\nprint\\(''Response status:'', resp.status_code\\)\nprint\\(''Response headers:'', dict\\(resp.headers\\)\\)\nprint\\(\\)\nprint\\(''Response text \\(first 500 chars\\):''\\)\nprint\\(resp.text[:500] if resp.text else ''Empty''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import _get_client\n\nclient = _get_client\\(\\)\n\n# 세션의 쿠키 확인\nprint\\(''Session cookies:''\\)\nfor k, v in client.session.cookies.items\\(\\):\n    print\\(f''  {k}: {v[:50]}...'' if len\\(str\\(v\\)\\) > 50 else f''  {k}: {v}''\\)\n\n# 직접 요청 보내기\nurl = ''http://data.krx.co.kr/comm/bldAttendant/getJsonData.cmd''\nbld = ''dbms/MDC/STAT/standard/MDCSTAT03501''\nparams = {''bld'': bld, ''mktId'': ''ALL'', ''trdDd'': ''20260102''}\n\nprint\\(\\)\nprint\\(''Request URL:'', url\\)\nprint\\(''Params:'', params\\)\n\nresp = client.session.post\\(url, data=params\\)\nprint\\(\\)\nprint\\(''Response status:'', resp.status_code\\)\nprint\\(''Response text \\(first 1000 chars\\):''\\)\nprint\\(resp.text[:1000] if resp.text else ''Empty''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom cores.stock_chart import \\(\n    create_price_chart,\n    create_market_cap_chart,\n    create_fundamentals_chart,\n    create_trading_volume_chart,\n    get_chart_as_base64_html\n\\)\nimport logging\nlogging.basicConfig\\(level=logging.INFO\\)\n\nticker = ''005930''\ncompany = ''삼성전자''\n\nprint\\(''Testing all charts for Samsung Electronics...''\\)\n\n# Price chart\nhtml = get_chart_as_base64_html\\(ticker, company, create_price_chart, ''Price'', days=730\\)\nprint\\(f''Price chart: {\"\"SUCCESS\"\" if html else \"\"FAILED\"\"} \\({len\\(html\\) if html else 0} bytes\\)''\\)\n\n# Market cap chart\nhtml = get_chart_as_base64_html\\(ticker, company, create_market_cap_chart, ''MarketCap'', days=730\\)\nprint\\(f''Market cap chart: {\"\"SUCCESS\"\" if html else \"\"FAILED\"\"} \\({len\\(html\\) if html else 0} bytes\\)''\\)\n\n# Fundamentals chart\nhtml = get_chart_as_base64_html\\(ticker, company, create_fundamentals_chart, ''Fundamentals'', days=730\\)\nprint\\(f''Fundamentals chart: {\"\"SUCCESS\"\" if html else \"\"FAILED\"\"} \\({len\\(html\\) if html else 0} bytes\\)''\\)\n\n# Trading volume chart\nhtml = get_chart_as_base64_html\\(ticker, company, create_trading_volume_chart, ''Volume'', days=30\\)\nprint\\(f''Trading volume chart: {\"\"SUCCESS\"\" if html else \"\"FAILED\"\"} \\({len\\(html\\) if html else 0} bytes\\)''\\)\n\nprint\\(''All tests complete!''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_cap_by_date\n\n# 현재 로그인 방식으로 시가총액 조회\ndf = get_market_cap_by_date\\(''20251201'', ''20260102'', ''005930''\\)\nprint\\(f''로그인 방식 결과: {len\\(df\\)} rows''\\)\nprint\\(df.head\\(\\) if not df.empty else ''Empty''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_fundamental_by_date\n\n# 로그인 방식으로 PER/PBR 조회\ndf = get_market_fundamental_by_date\\(''20251201'', ''20260102'', ''005930''\\)\nprint\\(f''로그인 방식 결과: {len\\(df\\)} rows''\\)\nprint\\(df.head\\(\\) if not df.empty else ''Empty''\\)\n\")",
      "Bash(KAKAO_ID=\"dragon1086@naver.com\" KAKAO_PW=\"1Gmrfyd2@@\" python3 -c \"\nfrom krx_data_client import get_market_trading_volume_by_date, get_index_ohlcv_by_date\n\n# 1. 지수 OHLCV\nprint\\(''=== 1. 지수 OHLCV \\(KOSPI\\) - 로그인 ===''\\)\ndf = get_index_ohlcv_by_date\\(''20251220'', ''20260102'', ''1001''\\)\nprint\\(f''결과: {len\\(df\\)} rows''\\)\nprint\\(df.head\\(\\)\\)\n\n# 2. 투자자별 거래량\nprint\\(\\)\nprint\\(''=== 2. 투자자별 거래량 \\(삼성전자\\) - 로그인 ===''\\)\ndf = get_market_trading_volume_by_date\\(''20251220'', ''20260102'', ''005930''\\)\nprint\\(f''결과: {len\\(df\\)} rows''\\)\nprint\\(df\\)\n\")"
    ]
  }
}
