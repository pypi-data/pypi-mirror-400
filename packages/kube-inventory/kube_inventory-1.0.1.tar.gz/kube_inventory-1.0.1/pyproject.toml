[tool.poetry]
name = "kube-inventory"
version = "1.0.1"
description = "Inventory of softwares running in a Kubernetes cluster"
authors = ["Emerson Candido <emerson.candido@live.com>"]
readme = "README.md"
license = "MIT"
packages = [{include = "app"}]
include = ["app/config/data/*.yaml"]

[tool.poetry.dependencies]
python = "^3.13"
python-dotenv = "1.1.1"
kubernetes = "34.1.0"
requests = "2.32.4"
poetry-core = "^2.2.1"
prometheus-client = "0.23.1"
gunicorn = "23.0.0"
flask = "3.1.2"
psutil = "7.1.0"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.poetry.group.dev.dependencies]
pytest = "8.4.1"
coverage = "7.9.2"
pytest-cov = "^4.1.0"
ruff = "^0.1.0"
mypy = "^1.0.0"
bandit = "^1.8.6"
kubernetes-stubs = "^22.6.0.post1"
types-pyyaml = "^6.0.12.20250915"
types-requests = "^2.32.4.20250913"

[tool.ruff]
line-length = 80

[tool.ruff.format]
quote-style = "double"
indent-style = "space"

[tool.mypy]
python_version = "3.13"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
exclude = [
    "^build/",
    "^dist/",
]
namespace_packages = true
explicit_package_bases = true

[tool.poetry.scripts]
kube-inventory = "app.__main__:main"
