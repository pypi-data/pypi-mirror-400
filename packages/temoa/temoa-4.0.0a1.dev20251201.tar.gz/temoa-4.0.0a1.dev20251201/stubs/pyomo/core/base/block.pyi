from collections.abc import Generator

from _typeshed import Incomplete
from pyomo.common.autoslots import AutoSlots as AutoSlots
from pyomo.common.collections import Mapping as Mapping
from pyomo.common.deprecation import RenamedClass as RenamedClass
from pyomo.common.deprecation import deprecated as deprecated
from pyomo.common.deprecation import deprecation_warning as deprecation_warning
from pyomo.common.formatting import StreamIndenter as StreamIndenter
from pyomo.common.gc_manager import PauseGC as PauseGC
from pyomo.common.log import is_debug_set as is_debug_set
from pyomo.common.pyomo_typing import overload as overload
from pyomo.common.timing import ConstructionTimer as ConstructionTimer
from pyomo.core.base.component import ActiveComponentData as ActiveComponentData
from pyomo.core.base.component import Component as Component
from pyomo.core.base.component import ModelComponentFactory as ModelComponentFactory
from pyomo.core.base.componentuid import ComponentUID as ComponentUID
from pyomo.core.base.enums import SortComponents as SortComponents
from pyomo.core.base.enums import TraversalStrategy as TraversalStrategy
from pyomo.core.base.global_set import UnindexedComponent_index as UnindexedComponent_index
from pyomo.core.base.indexed_component import ActiveIndexedComponent as ActiveIndexedComponent
from pyomo.core.base.indexed_component import IndexedComponent as IndexedComponent
from pyomo.core.base.indexed_component import UnindexedComponent_set as UnindexedComponent_set
from pyomo.core.base.initializer import Initializer as Initializer
from pyomo.core.base.set import Any as Any
from pyomo.core.base.var import Var as Var
from pyomo.opt import WriterFactory as WriterFactory
from pyomo.opt.base import ProblemFormat as ProblemFormat
from pyomo.opt.base import guess_format as guess_format

logger: Incomplete

class _generic_component_decorator:
    def __init__(self, component, block, *args, **kwds) -> None: ...
    def __call__(self, rule): ...

class _component_decorator:
    def __init__(self, block, component) -> None: ...
    def __call__(self, *args, **kwds): ...

class SubclassOf:
    ctype: Incomplete
    def __init__(self, *ctype) -> None: ...
    def __contains__(self, item) -> bool: ...
    def __len__(self) -> int: ...
    def __getitem__(self, item): ...
    def __iter__(self): ...

class _DeduplicateInfo:
    seen_components: Incomplete
    seen_comp_thru_reference: Incomplete
    seen_data: Incomplete
    def __init__(self) -> None: ...
    def unique(self, comp, items, are_values): ...

class _BlockConstruction:
    data: Incomplete

class PseudoMap(AutoSlots.Mixin):
    def __init__(self, block, ctype, active=None, sort: bool = False) -> None: ...
    def __iter__(self): ...
    def __getitem__(self, key): ...
    def __nonzero__(self): ...
    __bool__ = __nonzero__
    def __len__(self) -> int: ...
    def __contains__(self, key) -> bool: ...
    def keys(self): ...
    def values(self): ...
    def items(self) -> Generator[Incomplete]: ...
    def iterkeys(self): ...
    def itervalues(self): ...
    def iteritems(self): ...

class BlockData(ActiveComponentData):
    def __init__(self, component) -> None: ...
    def __getattr__(self, val) -> Component | IndexedComponent | Any: ...
    def __setattr__(self, name: str, val: Component | IndexedComponent | Any): ...
    def __delattr__(self, name) -> None: ...
    def set_value(self, val) -> None: ...
    def clear(self) -> None: ...
    def transfer_attributes_from(self, src) -> None: ...
    def collect_ctypes(self, active=None, descend_into: bool = True): ...
    def model(self): ...
    def find_component(self, label_or_component): ...
    def add_component(self, name, val) -> None: ...
    def del_component(self, name_or_object) -> None: ...
    def reclassify_component_type(
        self, name_or_object, new_ctype, preserve_declaration_order: bool = True
    ) -> None: ...
    def clone(self, memo=None): ...
    def contains_component(self, ctype): ...
    def component(self, name_or_object): ...
    def component_map(self, ctype=None, active=None, sort: bool = False): ...
    def all_components(self, *args, **kwargs): ...
    def active_components(self, *args, **kwargs): ...
    def all_component_data(self, *args, **kwargs): ...
    def active_component_data(self, *args, **kwargs): ...
    def component_objects(
        self,
        ctype=None,
        active=None,
        sort: bool = False,
        descend_into: bool = True,
        descent_order=None,
    ) -> Generator[Incomplete, Incomplete]: ...
    def component_data_objects(
        self,
        ctype=None,
        active=None,
        sort: bool = False,
        descend_into: bool = True,
        descent_order=None,
    ) -> Generator[Incomplete, Incomplete]: ...
    def component_data_iterindex(
        self,
        ctype=None,
        active=None,
        sort: bool = False,
        descend_into: bool = True,
        descent_order=None,
    ) -> Generator[Incomplete, Incomplete]: ...
    def all_blocks(self, *args, **kwargs): ...
    def active_blocks(self, *args, **kwargs): ...
    def block_data_objects(
        self, active=None, sort: bool = False, descend_into: bool = True, descent_order=None
    ): ...
    def fix_all_vars(self) -> None: ...
    def unfix_all_vars(self) -> None: ...
    def is_constructed(self): ...
    def display(self, filename=None, ostream=None, prefix: str = '') -> None: ...
    def valid_problem_types(self): ...
    solutions: Incomplete
    def write(
        self,
        filename=None,
        format=None,
        solver_capability=None,
        io_options={},
        int_marker: bool = False,
    ): ...
    def private_data(self, scope=None): ...

class _BlockData(metaclass=RenamedClass):
    __renamed__new_class__ = BlockData
    __renamed__version__: str

class Block(ActiveIndexedComponent):
    def construct(self, data=None) -> None: ...
    def display(self, filename=None, ostream=None, prefix: str = '') -> None: ...
    @staticmethod
    def register_private_data_initializer(initializer, scope=None) -> None: ...

class ScalarBlock(BlockData, Block):
    def __init__(self, *args, **kwds) -> None: ...
    display: Incomplete

class SimpleBlock(metaclass=RenamedClass):
    __renamed__new_class__ = ScalarBlock
    __renamed__version__: str

class IndexedBlock(Block):
    def __init__(self, *args, **kwds) -> None: ...
    @overload
    def __getitem__(self, index) -> BlockData: ...
    __getitem__: Incomplete

def generate_cuid_names(block, ctype=None, descend_into: bool = True): ...
def active_components(block, ctype, sort_by_names: bool = False, sort_by_keys: bool = False): ...
def components(block, ctype, sort_by_names: bool = False, sort_by_keys: bool = False): ...
def active_components_data(
    block, ctype, sort=None, sort_by_keys: bool = False, sort_by_names: bool = False
): ...
def components_data(
    block, ctype, sort=None, sort_by_keys: bool = False, sort_by_names: bool = False
): ...

class ScalarCustomBlockMixin:
    def __init__(self, *args, **kwargs) -> None: ...

class CustomBlock(Block):
    def __init__(self, *args, **kwargs) -> None: ...
    def __new__(cls, *args, **kwargs): ...

def declare_custom_block(name, new_ctype=None): ...
