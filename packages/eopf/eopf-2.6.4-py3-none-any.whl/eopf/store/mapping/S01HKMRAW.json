{
    "recognition": {
        "filename_pattern": "S1[A-D]_HK_RAW__0____.*SAFE|S01HKMRAW.*",
        "product_type": "S01HKMRAW",
        "processing_version": "2025"
    },
    "chunk_sizes": {
        "packet_number": 10000,
        "packet_length": 10000
    },
    "l0_mapping": {
        "types": {
            "bool": "bool",
            "scalar_bool": "s_bool",
            "uint8": "uint8",
            "scalar_uint8": "s_uint8",
            "uint16": "uint16",
            "scalar_uint16": "s_uint16",
            "uint32": "uint32",
            "scalar_uint32": "s_uint32",
            "uint64": "uint64",
            "scalar_uint64": "s_uint64",
            "double": "double",
            "var_bytearray": "var_bytearray",
            "bytearray": "bytearray"
        },
        "accessor_config": {
            "packet_fixed_length": 1912,
            "product_type": "S01HKMRAW"
        }
    },
    "stac_discovery": {
        "type": "Text(Feature)",
        "stac_version": "Text(1.1.0)",
        "stac_extensions": [
            "Text(https://stac-extensions.github.io/eopf/v1.0.0/schema.json)",
            "Text(https://stac-extensions.github.io/product/v0.1.0/schema.json)",
            "Text(https://stac-extensions.github.io/eo/v1.1.0/schema.json)",
            "Text(https://stac-extensions.github.io/sat/v1.0.0/schema.json)",
            "Text(https://stac-extensions.github.io/view/v1.0.0/schema.json)",
            "Text(https://stac-extensions.github.io/scientific/v1.0.0/schema.json)",
            "Text(https://stac-extensions.github.io/processing/v1.2.0/schema.json)"
        ],
        "geometry": "to_geoJson(metadataSection/metadataObject[@ID='measurementFrameSet']/metadataWrap/xmlData/s0:frameSet/s0:frame/s0:footPrint/gml:coordinates)",
        "bbox": "to_bbox(metadataSection/metadataObject[@ID='measurementFrameSet']/metadataWrap/xmlData/s0:frameSet/s0:frame/s0:footPrint/gml:coordinates)",
        "properties": {
            "datetime": "Text(null)",
            "start_datetime": "corrected_Date_ISO8601(metadataSection/metadataObject[@ID='acquisitionPeriod']/metadataWrap/xmlData/s0:acquisitionPeriod/s0:startTime)",
            "end_datetime": "corrected_Date_ISO8601(metadataSection/metadataObject[@ID='acquisitionPeriod']/metadataWrap/xmlData/s0:acquisitionPeriod/s0:stopTime)",
            "created": "corrected_Date_ISO8601(metadataSection/metadataObject[@ID='processing']/metadataWrap/xmlData/s0:processing/@stop)",
            "sat:platform_international_designator": "metadataSection/metadataObject[@ID='platform']/metadataWrap/xmlData/s0:platform/s0:nssdcIdentifier",
            "sat:anx_datetime": "metadataSection/metadataObject[@ID='measurementOrbitReference']/metadataWrap/xmlData/s0:orbitReference/s0:extension/s1:orbitProperties/s1:ascendingNodeTime",
            "sat:relative_orbit": "to_int(metadataSection/metadataObject[@ID='measurementOrbitReference']/metadataWrap/xmlData/s0:orbitReference/s0:relativeOrbitNumber[@type='stop'])",
            "sat:absolute_orbit": "to_int(metadataSection/metadataObject[@ID='measurementOrbitReference']/metadataWrap/xmlData/s0:orbitReference/s0:orbitNumber[@type='stop'])",
            "sat:orbit_state": "to_sat_orbit_state(metadataSection/metadataObject[@ID='measurementOrbitReference']/metadataWrap/xmlData/s0:orbitReference/s0:extension/s1:orbitProperties/s1:pass)",
            "sat:orbit_cycle": "to_int(metadataSection/metadataObject[@ID='measurementOrbitReference']/metadataWrap/xmlData/s0:orbitReference/s0:cycleNumber)",
            "processing:expression": "Text(systematic)",
            "processing:facility": "metadataSection/metadataObject[@ID='processing']/metadataWrap/xmlData/s0:processing/s0:facility/@name",
            "processing:software": "to_processing_software(metadataSection/metadataObject[@ID='processing']/metadataWrap/xmlData/s0:processing/s0:resource[2])",
            "platform": "to_str_lower(concat(metadataSection/metadataObject[@ID='platform']/metadataWrap/xmlData/s0:platform/s0:familyName, metadataSection/metadataObject[@ID='platform']/metadataWrap/xmlData/s0:platform/s0:number))",
            "providers": [
                {
                    "name": "to_providers(metadataSection/metadataObject[@ID='processing']/metadataWrap/xmlData/s0:processing/s0:facility/@site)",
                    "roles": [
                        "Text(processor)"
                    ]
                },
                {
                    "name": "to_providers(metadataSection/metadataObject[@ID='processing']/metadataWrap/xmlData/s0:processing/s0:facility/@organisation)",
                    "roles": [
                        "Text(producer)"
                    ]
                }
            ],
            "product:timeliness_category": "Text(NRT)",
            "product:timeliness": "Text(PT3H)",
            "processing:level": "Text(L0)",
            "product:type": "Text(S01HKMRAW)",
            "instruments": [
                "Text(hktm)"
            ],
            "constellation": "Text(sentinel-1)"
        },
        "links": [
            {
                "rel": "Text(self)",
                "href": "Text(./.zattrs.json)",
                "type": "Text(application/json)"
            }
        ],
        "assets": {}
    },
    "other_metadata": {
        "eopf_category": "Text(eoproduct)",
        "phase_identifier": "to_int(metadataSection/metadataObject[@ID='measurementOrbitReference']/metadataWrap/xmlData/s0:orbitReference/s0:phaseIdentifier)"
    },
    "manifest_template_path": {
        "template_folder": "$EOPF_ROOT/product/store/templates",
        "template_name": "S01_L0_manifest.xml"
    },
    "namespaces": {
        "sdf": "http://www.gael.fr/2004/12/drb/sdf",
        "xs": "http://www.w3.org/2001/XMLSchema",
        "safe": "http://www.esa.int/safe/sentinel/1.1",
        "s0": "http://www.esa.int/safe/sentinel-1.0",
        "s1": "http://www.esa.int/safe/sentinel-1.0/sentinel-1",
        "s1hkm": "http://www.esa.int/safe/sentinel-1.0/sentinel-1/hktm",
        "s1hkml0": "http://www.esa.int/safe/sentinel-1.0/sentinel-1/hktm/level-0",
        "xfdu": "urn:ccsds:schema:xfdu:1",
        "gml": "http://www.opengis.net/gml",
        "sentinel1": "http://www.esa.int/safe/sentinel/sentinel-1/1.0",
        "xsi": "http://www.w3.org/2001/XMLSchema-instance"
    },
    "data_mapping": [
        {
            "target_path": "attrs:/:processing_history",
            "source_path": "manifest.safe",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[processing_history]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[manifest_template_path]>'}#@"
            }
        },
        {
            "target_path": "attrs:/:stac_discovery",
            "source_path": "manifest.safe",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[stac_discovery]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[manifest_template_path]>'}#@"
            }
        },
        {
            "target_path": "attrs:/:other_metadata",
            "source_path": "manifest.safe",
            "accessor_id": "xmlmetadata",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[other_metadata]>'}#@",
                "namespaces": "@#copy{'map':'<SELF[namespaces]>'}#@",
                "path_template": "@#copy{'map':'<SELF[manifest_template_path]>'}#@"
            }
        },
        {
            "target_path": "attrs:/:other_metadata",
            "source_path": "",
            "accessor_id": "MemMapToAttrAccessor",
            "accessor_config": {
                "mapping": "@#copy{'map':'<SELF[other_metadata]>'}#@",
                "types_mapping": "@#copy{'map':'<SELF[l0_mapping/types]>'}#@",
                "primary_header_length_bytes": 6,
                "ancillary_header_length_bytes": 0,
                "packet_length_start_position_bytes": 4,
                "packet_length_stop_position_bytes": 6
            }
        },
        {
            "short_name": "transfer_frames",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "measurements/transfer_frames",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "transfer frames"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number",
                    "transfer_frame_length"
                ]
            },
            "local_path": "mpduPacketZone"
        },
        {
            "short_name": "transfer_frame_version_number",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "conditions/transfer_frame_version_number",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "transfer frame version number"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number"
                ]
            },
            "local_path": "transferFrameVersionNumber"
        },
        {
            "short_name": "spacecraft_id",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "conditions/spacecraft_id",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "spacecraft id"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number"
                ]
            },
            "local_path": "spacecraftId"
        },
        {
            "short_name": "virtual_channel_id",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "conditions/virtual_channel_id",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "virtual channel id"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number"
                ]
            },
            "local_path": "virtualChannelId"
        },
        {
            "short_name": "virtual_channel_frame_count",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "conditions/virtual_channel_frame_count",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "virtual channel frame count"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number"
                ]
            },
            "local_path": "virtualChannelFrameCount"
        },
        {
            "short_name": "replay_flag",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "conditions/replay_flag",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "replay flag"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number"
                ]
            },
            "local_path": "replayFlag"
        },
        {
            "short_name": "reserved_spare_flags",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "conditions/reserved_spare_flags",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "reserved spare flags"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number"
                ]
            },
            "local_path": "reservedSpareFlag"
        },
        {
            "short_name": "frame_header_error_control",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "conditions/frame_header_error_control",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "frame header error control"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number"
                ]
            },
            "local_path": "frameHeaderErrorControl"
        },
        {
            "short_name": "m_pdu_headers",
            "source_path": "@#find{'product_url': '<URL>','pattern': 's1.*-??-.*(?<!annot)(?<!index)\\.dat'}#@",
            "target_path": "conditions/m_pdu_headers",
            "accessor_id": "L0Accessor",
            "accessor_config": "@#copy{'map':'<SELF[l0_mapping/accessor_config]>'}#@",
            "transform": {
                "attributes": {
                    "long_name": "m pdu headers"
                },
                "rechunk": "@#copy{'map':'<SELF[chunk_sizes]>'}#@",
                "dimensions": [
                    "transfer_frame_number"
                ]
            },
            "local_path": "mpduHeader"
        }
    ],
    "processing_history": "to_processing_history_s01l0(metadataSection/metadataObject[@ID='processing']/metadataWrap/xmlData/s0:processing)"
}
