import"./_initCloneObject-w666mXAM.js";import"./_baseClone-BEd4hvTE.js";import"./clone-BmyFpy2t.js";import{n as e,r as t,t as n}from"./css-CzALU0nX.js";import{$r as r,Br as i,Ir as a,Qr as o,Sr as s,a as c,ai as l,dr as u,hr as d,qn as f,qr as p,r as m,tr as h,vr as g,xr as _}from"./index-EnPYNmIz.js";var v={class:`min-h-[calc(100vh-16rem)] flex items-center justify-center`},y={class:`w-full max-w-md bg-white dark:bg-gray-900 rounded-lg shadow-md p-8 border border-gray-200 dark:border-gray-800`},b={class:`mt-4 text-center text-sm text-gray-600 dark:text-gray-400`},x={__name:`login`,setup(x){let S=h(),C=f(),w=r(null),T=r(!1),E=o({username:``,password:``}),D={username:[{required:!0,message:`Please enter username`,trigger:`blur`}],password:[{required:!0,message:`Please enter password`,trigger:`blur`}]};async function O(){w.value&&await w.value.validate(async e=>{if(e){T.value=!0;try{await C.login(E),m.success(`Login successful`),S.push(`/`)}catch(e){m.error(e.response?.data?.detail||`Login failed`)}finally{T.value=!1}}})}return(r,o)=>{let f=t,m=e,h=c,x=n,S=i(`router-link`);return a(),g(`div`,v,[d(`div`,y,[o[5]||=d(`h1`,{class:`text-2xl font-bold mb-6 text-center text-gray-900 dark:text-gray-100`},` Login to KohakuBoard `,-1),s(x,{ref_key:`formRef`,ref:w,model:l(E),rules:D,"label-position":`top`,onSubmit:u(O,[`prevent`])},{default:p(()=>[s(m,{label:`Username`,prop:`username`},{default:p(()=>[s(f,{modelValue:l(E).username,"onUpdate:modelValue":o[0]||=e=>l(E).username=e,placeholder:`Enter your username`,size:`large`},null,8,[`modelValue`])]),_:1}),s(m,{label:`Password`,prop:`password`},{default:p(()=>[s(f,{modelValue:l(E).password,"onUpdate:modelValue":o[1]||=e=>l(E).password=e,type:`password`,placeholder:`Enter your password`,size:`large`,"show-password":``},null,8,[`modelValue`])]),_:1}),s(h,{type:`primary`,size:`large`,class:`w-full`,loading:l(T),onClick:O},{default:p(()=>[...o[2]||=[_(` Login `,-1)]]),_:1},8,[`loading`])]),_:1},8,[`model`]),d(`div`,b,[o[4]||=_(` Don't have an account? `,-1),s(S,{to:`/register`,class:`text-blue-500 dark:text-blue-400 hover:underline`},{default:p(()=>[...o[3]||=[_(` Sign up `,-1)]]),_:1})])])])}}};export{x as default};