from _typeshed import Incomplete
from pyomo.common.collections import ComponentMap as ComponentMap
from pyomo.common.collections import ComponentSet as ComponentSet
from pyomo.common.dependencies import attempt_import as attempt_import
from pyomo.common.timing import HierarchicalTimer as HierarchicalTimer
from pyomo.contrib.incidence_analysis import IncidenceGraphInterface as IncidenceGraphInterface
from pyomo.contrib.incidence_analysis.scc_solver import (
    generate_strongly_connected_components as generate_strongly_connected_components,
)
from pyomo.contrib.pynumero.algorithms.solvers.cyipopt_solver import CyIpoptSolver as CyIpoptSolver
from pyomo.contrib.pynumero.algorithms.solvers.scipy_solvers import (
    FsolveNlpSolver as FsolveNlpSolver,
)
from pyomo.contrib.pynumero.algorithms.solvers.scipy_solvers import (
    NewtonNlpSolver as NewtonNlpSolver,
)
from pyomo.contrib.pynumero.algorithms.solvers.scipy_solvers import (
    SecantNewtonNlpSolver as SecantNewtonNlpSolver,
)
from pyomo.contrib.pynumero.interfaces.cyipopt_interface import CyIpoptNLP as CyIpoptNLP
from pyomo.core.base.objective import Objective as Objective
from pyomo.core.base.suffix import Suffix as Suffix
from pyomo.core.expr.visitor import identify_variables as identify_variables
from pyomo.util.calc_var_value import (
    calculate_variable_from_constraint as calculate_variable_from_constraint,
)
from pyomo.util.subsystems import TemporarySubsystemManager as TemporarySubsystemManager
from pyomo.util.subsystems import create_subsystem_block as create_subsystem_block
from pyomo.util.subsystems import generate_subsystem_blocks as generate_subsystem_blocks

pyomo_nlp: Incomplete
nlp_proj: Incomplete

class NlpSolverBase:
    def __init__(self, nlp, options=None, timer=None) -> None: ...
    def solve(self, **kwds) -> None: ...

class CyIpoptSolverWrapper(NlpSolverBase):
    def __init__(self, nlp, options=None, timer=None) -> None: ...
    def solve(self, **kwds): ...

class ScipySolverWrapper(NlpSolverBase):
    def __init__(self, nlp, timer=None, options=None) -> None: ...
    def solve(self, x0=None): ...

class PyomoImplicitFunctionBase:
    def __init__(self, variables, constraints, parameters) -> None: ...
    def get_variables(self): ...
    def get_constraints(self): ...
    def get_parameters(self): ...
    def get_block(self): ...
    def set_parameters(self, values) -> None: ...
    def evaluate_outputs(self) -> None: ...
    def update_pyomo_model(self) -> None: ...

class ImplicitFunctionSolver(PyomoImplicitFunctionBase):
    def __init__(
        self, variables, constraints, parameters, solver_class=None, solver_options=None, timer=None
    ) -> None: ...
    def set_parameters(self, values, **kwds): ...
    def evaluate_outputs(self): ...
    def update_pyomo_model(self) -> None: ...

class DecomposedImplicitFunctionBase(PyomoImplicitFunctionBase):
    def __init__(
        self,
        variables,
        constraints,
        parameters,
        solver_class=None,
        solver_options=None,
        timer=None,
        use_calc_var: bool = True,
    ) -> None: ...
    def n_subsystems(self): ...
    def partition_system(self, variables, constraints) -> None: ...
    def set_parameters(self, values) -> None: ...
    def evaluate_outputs(self): ...
    def update_pyomo_model(self) -> None: ...

class SccImplicitFunctionSolver(DecomposedImplicitFunctionBase):
    def partition_system(self, variables, constraints): ...
