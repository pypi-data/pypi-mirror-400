# Lints de restricción para mantener el núcleo libre de IO y logging
# Ejecutar con `cargo clippy --manifest-path project/pycore/Cargo.toml -- -D warnings`

# Métodos prohibidos en el núcleo
[[disallowed-methods]]
path = "std::fs::read"
reason = "IO prohibida en el núcleo (leer ficheros)"

[[disallowed-methods]]
path = "std::fs::read_to_string"
reason = "IO prohibida en el núcleo (leer ficheros a memoria)"

[[disallowed-methods]]
path = "std::fs::write"
reason = "IO prohibida en el núcleo (escribir ficheros)"

[[disallowed-methods]]
path = "std::fs::copy"
reason = "IO prohibida en el núcleo (copia de ficheros)"

[[disallowed-methods]]
path = "std::fs::File::open"
reason = "IO prohibida en el núcleo (abrir ficheros)"

[[disallowed-methods]]
path = "std::fs::File::create"
reason = "IO prohibida en el núcleo (crear ficheros)"

[[disallowed-methods]]
path = "std::fs::metadata"
reason = "IO prohibida en el núcleo (lectura de metadatos del sistema de ficheros)"

[[disallowed-methods]]
path = "std::fs::canonicalize"
reason = "IO prohibida en el núcleo (resolución del sistema de ficheros)"

[[disallowed-methods]]
path = "std::fs::remove_file"
reason = "IO prohibida en el núcleo (eliminación de ficheros)"

[[disallowed-methods]]
path = "std::fs::remove_dir"
reason = "IO prohibida en el núcleo (eliminación de directorios)"

[[disallowed-methods]]
path = "std::fs::remove_dir_all"
reason = "IO prohibida en el núcleo (eliminación recursiva de directorios)"

[[disallowed-methods]]
path = "std::fs::rename"
reason = "IO prohibida en el núcleo (operaciones de renombrado/movido)"

[[disallowed-methods]]
path = "std::io::stdin"
reason = "IO prohibida en el núcleo (leer de stdin)"

[[disallowed-methods]]
path = "std::io::stdout"
reason = "IO prohibida en el núcleo (escribir en stdout)"

[[disallowed-methods]]
path = "std::io::stderr"
reason = "IO prohibida en el núcleo (escribir en stderr)"

[[disallowed-methods]]
path = "std::io::BufReader::new"
reason = "IO prohibida en el núcleo (lectura bufferizada)"

[[disallowed-methods]]
path = "std::io::BufWriter::new"
reason = "IO prohibida en el núcleo (escritura bufferizada)"

[[disallowed-methods]]
path = "std::io::LineWriter::new"
reason = "IO prohibida en el núcleo (escritura línea a línea)"

# Tipos prohibidos en el núcleo
[[disallowed-types]]
path = "std::fs::File"
reason = "IO prohibida en el núcleo (manejador de fichero)"

[[disallowed-types]]
path = "std::fs::Metadata"
reason = "IO prohibida en el núcleo (metadatos del sistema de ficheros)"

[[disallowed-types]]
path = "std::io::Stdin"
reason = "IO prohibida en el núcleo"

[[disallowed-types]]
path = "std::io::Stdout"
reason = "IO prohibida en el núcleo"

[[disallowed-types]]
path = "std::io::Stderr"
reason = "IO prohibida en el núcleo"

[[disallowed-types]]
path = "std::io::BufReader"
reason = "IO prohibida en el núcleo (lectura bufferizada)"

[[disallowed-types]]
path = "std::io::BufWriter"
reason = "IO prohibida en el núcleo (escritura bufferizada)"

[[disallowed-types]]
path = "std::io::LineWriter"
reason = "IO prohibida en el núcleo (escritura línea a línea)"

# Macros prohibidas en el núcleo
[[disallowed-macros]]
path = "log::trace"
reason = "Logging no permitido en el núcleo"

[[disallowed-macros]]
path = "log::debug"
reason = "Logging no permitido en el núcleo"

[[disallowed-macros]]
path = "log::info"
reason = "Logging no permitido en el núcleo"

[[disallowed-macros]]
path = "log::warn"
reason = "Logging no permitido en el núcleo"

[[disallowed-macros]]
path = "log::error"
reason = "Logging no permitido en el núcleo"
