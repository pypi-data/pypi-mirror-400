

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.6. uniseg.wrap — Text Wrapping &mdash; uniseg 0.9.1.dev7+gc6856fb.d20241109 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=e6a7d776"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Sample Scripts" href="samples.html" />
    <link rel="prev" title="2.5. uniseg.linebreak — Line Break" href="linebreak.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            uniseg
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">2. Module References</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="codepoint.html">2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">uniseg.codepoint</span></code> — Code Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphemecluster.html">2.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">uniseg.graphemecluster</span></code> — Grapheme Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="wordbreak.html">2.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">uniseg.wordbreak</span></code> — Word Break</a></li>
<li class="toctree-l2"><a class="reference internal" href="sentencebreak.html">2.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">uniseg.sentencebreak</span></code> — Sentence Break</a></li>
<li class="toctree-l2"><a class="reference internal" href="linebreak.html">2.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">uniseg.linebreak</span></code> — Line Break</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">uniseg.wrap</span></code> — Text Wrapping</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#uniseg.wrap.Formatter"><code class="docutils literal notranslate"><span class="pre">Formatter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.Formatter.handle_new_line"><code class="docutils literal notranslate"><span class="pre">Formatter.handle_new_line()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.Formatter.handle_text"><code class="docutils literal notranslate"><span class="pre">Formatter.handle_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.Formatter.reset"><code class="docutils literal notranslate"><span class="pre">Formatter.reset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.Formatter.tab_width"><code class="docutils literal notranslate"><span class="pre">Formatter.tab_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.Formatter.text_extents"><code class="docutils literal notranslate"><span class="pre">Formatter.text_extents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.Formatter.wrap_width"><code class="docutils literal notranslate"><span class="pre">Formatter.wrap_width</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uniseg.wrap.TTFormatter"><code class="docutils literal notranslate"><span class="pre">TTFormatter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.ambiguous_as_wide"><code class="docutils literal notranslate"><span class="pre">TTFormatter.ambiguous_as_wide</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.handle_new_line"><code class="docutils literal notranslate"><span class="pre">TTFormatter.handle_new_line()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.handle_text"><code class="docutils literal notranslate"><span class="pre">TTFormatter.handle_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.lines"><code class="docutils literal notranslate"><span class="pre">TTFormatter.lines()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.reset"><code class="docutils literal notranslate"><span class="pre">TTFormatter.reset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.tab_char"><code class="docutils literal notranslate"><span class="pre">TTFormatter.tab_char</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.tab_width"><code class="docutils literal notranslate"><span class="pre">TTFormatter.tab_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.text_extents"><code class="docutils literal notranslate"><span class="pre">TTFormatter.text_extents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.TTFormatter.wrap_width"><code class="docutils literal notranslate"><span class="pre">TTFormatter.wrap_width</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uniseg.wrap.Wrapper"><code class="docutils literal notranslate"><span class="pre">Wrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uniseg.wrap.Wrapper.wrap"><code class="docutils literal notranslate"><span class="pre">Wrapper.wrap()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uniseg.wrap.tt_text_extents"><code class="docutils literal notranslate"><span class="pre">tt_text_extents()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#uniseg.wrap.tt_width"><code class="docutils literal notranslate"><span class="pre">tt_width()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#uniseg.wrap.tt_wrap"><code class="docutils literal notranslate"><span class="pre">tt_wrap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#uniseg.wrap.wrap"><code class="docutils literal notranslate"><span class="pre">wrap()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="samples.html">3. Sample Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">4. License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">uniseg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html"><span class="section-number">2. </span>Module References</a></li>
      <li class="breadcrumb-item active"><span class="section-number">2.6. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">uniseg.wrap</span></code> — Text Wrapping</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/wrap.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-uniseg.wrap">
<span id="uniseg-wrap-text-wrapping"></span><h1><span class="section-number">2.6. </span><a class="reference internal" href="#module-uniseg.wrap" title="uniseg.wrap"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uniseg.wrap</span></code></a> — Text Wrapping<a class="headerlink" href="#module-uniseg.wrap" title="Link to this heading"></a></h1>
<p>Unicode-aware text wrapping.</p>
<dl class="py class">
<dt class="sig sig-object py" id="uniseg.wrap.Formatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uniseg.wrap.</span></span><span class="sig-name descname"><span class="pre">Formatter</span></span><a class="headerlink" href="#uniseg.wrap.Formatter" title="Link to this definition"></a></dt>
<dd><p>The abstruct base class for formatters invoked by a <a class="reference internal" href="#uniseg.wrap.Wrapper" title="uniseg.wrap.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wrapper</span></code></a>
object</p>
<p>This class is implemented only for convinience sake and does nothing
itself.  You don’t have to design your own formatter as a subclass of it,
while it is not deprecated either.</p>
<p><strong>Your formatters should have the methods and properties this class has.</strong>
They are invoked by a <a class="reference internal" href="#uniseg.wrap.Wrapper" title="uniseg.wrap.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wrapper</span></code></a> object to determin <em>logical widths</em>
of texts and to give you the ways to handle them, such as to render them.</p>
<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.Formatter.handle_new_line">
<span class="sig-name descname"><span class="pre">handle_new_line</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#uniseg.wrap.Formatter.handle_new_line" title="Link to this definition"></a></dt>
<dd><p>The handler method which is invoked when the current line is
over and a new line begins</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.Formatter.handle_text">
<span class="sig-name descname"><span class="pre">handle_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#uniseg.wrap.Formatter.handle_text" title="Link to this definition"></a></dt>
<dd><p>The handler method which is invoked when <cite>text</cite> should be put
on the current position with <cite>extents</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.Formatter.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#uniseg.wrap.Formatter.reset" title="Link to this definition"></a></dt>
<dd><p>Reset all states of the formatter.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="uniseg.wrap.Formatter.tab_width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tab_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#uniseg.wrap.Formatter.tab_width" title="Link to this definition"></a></dt>
<dd><p>The logical width of tab forwarding.</p>
<p>This property value is used by a <a class="reference internal" href="#uniseg.wrap.Wrapper" title="uniseg.wrap.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wrapper</span></code></a> object to determin
the actual forwarding extents of tabs in each of the positions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.Formatter.text_extents">
<span class="sig-name descname"><span class="pre">text_extents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#uniseg.wrap.Formatter.text_extents" title="Link to this definition"></a></dt>
<dd><p>Return a list of logical lengths from start of the string to
each of characters in <cite>s</cite>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="uniseg.wrap.Formatter.wrap_width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wrap_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#uniseg.wrap.Formatter.wrap_width" title="Link to this definition"></a></dt>
<dd><p>The logical width of text wrapping.</p>
<p>Note that returning <code class="docutils literal notranslate"><span class="pre">None</span></code> (which is the default) means <em>“do not
wrap”</em> while returning <code class="docutils literal notranslate"><span class="pre">0</span></code> means <em>“wrap as narrowly as possible.”</em></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uniseg.wrap.</span></span><span class="sig-name descname"><span class="pre">TTFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tab_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tab_char</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ambiguous_as_wide</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#uniseg.wrap.TTFormatter" title="Link to this definition"></a></dt>
<dd><p>A Fixed-width text wrapping formatter.</p>
<dl class="py property">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.ambiguous_as_wide">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ambiguous_as_wide</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#uniseg.wrap.TTFormatter.ambiguous_as_wide" title="Link to this definition"></a></dt>
<dd><p>Treat code points with its East_Easian_Width property is ‘A’ as
those with ‘W’; having double width as alpha-numerics</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.handle_new_line">
<span class="sig-name descname"><span class="pre">handle_new_line</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#uniseg.wrap.TTFormatter.handle_new_line" title="Link to this definition"></a></dt>
<dd><p>The handler which is invoked when the current line is over and a
new line begins</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.handle_text">
<span class="sig-name descname"><span class="pre">handle_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#uniseg.wrap.TTFormatter.handle_text" title="Link to this definition"></a></dt>
<dd><p>The handler which is invoked when a text should be put on the
current position</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.lines">
<span class="sig-name descname"><span class="pre">lines</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#uniseg.wrap.TTFormatter.lines" title="Link to this definition"></a></dt>
<dd><p>Iterate every wrapped line strings</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#uniseg.wrap.TTFormatter.reset" title="Link to this definition"></a></dt>
<dd><p>Reset all states of the formatter</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.tab_char">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tab_char</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#uniseg.wrap.TTFormatter.tab_char" title="Link to this definition"></a></dt>
<dd><p>Character to fill tab spaces with</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.tab_width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tab_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#uniseg.wrap.TTFormatter.tab_width" title="Link to this definition"></a></dt>
<dd><p>forwarding size of tabs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.text_extents">
<span class="sig-name descname"><span class="pre">text_extents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#uniseg.wrap.TTFormatter.text_extents" title="Link to this definition"></a></dt>
<dd><p>Return a list of logical lengths from start of the string to
each of characters in <cite>s</cite></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="uniseg.wrap.TTFormatter.wrap_width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wrap_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#uniseg.wrap.TTFormatter.wrap_width" title="Link to this definition"></a></dt>
<dd><p>Wrapping width</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="uniseg.wrap.Wrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">uniseg.wrap.</span></span><span class="sig-name descname"><span class="pre">Wrapper</span></span><a class="headerlink" href="#uniseg.wrap.Wrapper" title="Link to this definition"></a></dt>
<dd><p>Text wrapping engine.</p>
<p>Usually, you don’t need to create an instance of the class directly.  Use
<a class="reference internal" href="#uniseg.wrap.wrap" title="uniseg.wrap.wrap"><code class="xref py py-func docutils literal notranslate"><span class="pre">wrap()</span></code></a> instead.</p>
<dl class="py method">
<dt class="sig sig-object py" id="uniseg.wrap.Wrapper.wrap">
<span class="sig-name descname"><span class="pre">wrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formatter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#uniseg.wrap.Formatter" title="uniseg.wrap.Formatter"><span class="pre">Formatter</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cur</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">char_wrap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#uniseg.wrap.Wrapper.wrap" title="Link to this definition"></a></dt>
<dd><p>Wrap string <cite>s</cite> with <cite>formatter</cite> and invoke its handlers</p>
<p>The optional arguments, <cite>cur</cite> is the starting position of the string
in logical length, and <cite>offset</cite> means left-side offset of the wrapping
area in logical length — this parameter is only used for calculating
tab-stopping positions for now.</p>
<p>If <cite>char_wrap</cite> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the text will be warpped with its
grapheme cluster boundaries instead of its line break boundaries.
This may be helpful when you don’t want the word wrapping feature in
your application.</p>
<p>This function returns the total count of wrapped lines.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="uniseg.wrap.tt_text_extents">
<span class="sig-prename descclassname"><span class="pre">uniseg.wrap.</span></span><span class="sig-name descname"><span class="pre">tt_text_extents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ambiguous_as_wide</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#uniseg.wrap.tt_text_extents" title="Link to this definition"></a></dt>
<dd><p>Return a list of logical widths from the start of <cite>s</cite> to each of
characters <em>(not of code points)</em> on fixed-width typography</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tt_text_extents</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt_text_extents</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt_text_extents</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\u3042\u3044\u3046</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">[2, 4, 6]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\U00029e3d</span><span class="s1">&#39;</span>   <span class="c1"># test a code point out of BMP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">actual</span> <span class="o">=</span> <span class="n">tt_text_extents</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxunicode</span> <span class="o">&gt;</span> <span class="mh">0xffff</span> <span class="k">else</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">expect</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">actual</span> <span class="o">==</span> <span class="n">expect</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The meaning of <cite>ambiguous_as_wide</cite> is the same as that of
<a class="reference internal" href="#uniseg.wrap.tt_width" title="uniseg.wrap.tt_width"><code class="xref py py-func docutils literal notranslate"><span class="pre">tt_width()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="uniseg.wrap.tt_width">
<span class="sig-prename descclassname"><span class="pre">uniseg.wrap.</span></span><span class="sig-name descname"><span class="pre">tt_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ambiguous_as_wide</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#uniseg.wrap.tt_width" title="Link to this definition"></a></dt>
<dd><p>Return logical width of the grapheme cluster at <cite>s[index]</cite> on
fixed-width typography</p>
<p>Return value will be <code class="docutils literal notranslate"><span class="pre">1</span></code> (halfwidth) or <code class="docutils literal notranslate"><span class="pre">2</span></code> (fullwidth).</p>
<p>Generally, the width of a grapheme cluster is determined by its leading
code point.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tt_width</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt_width</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\u8240</span><span class="s1">&#39;</span><span class="p">)</span>     <span class="c1"># U+8240: CJK UNIFIED IDEOGRAPH-8240</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt_width</span><span class="p">(</span><span class="s1">&#39;g</span><span class="se">\u0308</span><span class="s1">&#39;</span><span class="p">)</span>    <span class="c1"># U+0308: COMBINING DIAERESIS</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt_width</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\U00029e3d</span><span class="s1">&#39;</span><span class="p">)</span> <span class="c1"># U+29E3D: CJK UNIFIED IDEOGRAPH-29E3D</span>
<span class="go">2</span>
</pre></div>
</div>
<p>If <cite>ambiguous_as_wide</cite> is specified to <code class="docutils literal notranslate"><span class="pre">True</span></code>, some characters such as
greek alphabets are treated as they have fullwidth as well as ideographics
does.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tt_width</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\u03b1</span><span class="s1">&#39;</span><span class="p">)</span>     <span class="c1"># U+03B1: GREEK SMALL LETTER ALPHA</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt_width</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\u03b1</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ambiguous_as_wide</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="uniseg.wrap.tt_wrap">
<span class="sig-prename descclassname"><span class="pre">uniseg.wrap.</span></span><span class="sig-name descname"><span class="pre">tt_wrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tab_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tab_char</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ambiguous_as_wide</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cur</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">char_wrap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#uniseg.wrap.tt_wrap" title="Link to this definition"></a></dt>
<dd><p>Wrap <cite>s</cite> with given parameters and return a list of wrapped lines</p>
<p>See <a class="reference internal" href="#uniseg.wrap.TTFormatter" title="uniseg.wrap.TTFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">TTFormatter</span></code></a> for <cite>wrap_width</cite>, <cite>tab_width</cite> and <cite>tab_char</cite>, and
<a class="reference internal" href="#uniseg.wrap.tt_wrap" title="uniseg.wrap.tt_wrap"><code class="xref py py-func docutils literal notranslate"><span class="pre">tt_wrap()</span></code></a> for <cite>cur</cite>, <cite>offset</cite> and <cite>char_wrap</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="uniseg.wrap.wrap">
<span class="sig-prename descclassname"><span class="pre">uniseg.wrap.</span></span><span class="sig-name descname"><span class="pre">wrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formatter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#uniseg.wrap.Formatter" title="uniseg.wrap.Formatter"><span class="pre">Formatter</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cur</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">char_wrap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#uniseg.wrap.wrap" title="Link to this definition"></a></dt>
<dd><p>Wrap string <cite>s</cite> with <cite>formatter</cite> using the module’s static
<a class="reference internal" href="#uniseg.wrap.Wrapper" title="uniseg.wrap.Wrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wrapper</span></code></a> instance</p>
<p>See <a class="reference internal" href="#uniseg.wrap.Wrapper.wrap" title="uniseg.wrap.Wrapper.wrap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Wrapper.wrap()</span></code></a> for further details of the parameters.</p>
<ul class="simple">
<li><p><em>Changed in version 0.7.1:</em> It returns the count of lines now.</p></li>
</ul>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="linebreak.html" class="btn btn-neutral float-left" title="2.5. uniseg.linebreak — Line Break" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="samples.html" class="btn btn-neutral float-right" title="3. Sample Scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2024, Masaaki Shibata.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>