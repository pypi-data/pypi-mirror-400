from typing import Any, Dict


def 长度(数据: Dict[str, Any]) -> int:
    """
    获取字典中键值对的数量。

    本函数用于安全地获取字典的长度，
    等价于 Python 原生的 `len(dict)`，
    但在类型校验与异常处理上更加稳健。

    设计特性：
        - 若传入对象不是字典类型，返回 0；
        - 仅统计字典最外层键的数量；
        - 不修改原始数据；
        - 不抛出任何异常，适合作为底层基础工具函数使用。

    行为说明：
        - 数据为 dict      → 返回键值对数量；
        - 数据不是 dict    → 返回 0；
        - 空字典            → 返回 0。

    设计取舍说明：
        - 将“非字典”视为长度为 0，是出于防御性设计考虑；
        - 本函数用于结构统计，而非严格类型校验；
        - 若需要区分“非字典”与“空字典”，应由上层逻辑处理。

    Args:
        数据 (dict): 需要获取长度的字典对象。

    Returns:
        int:
            - 成功：返回字典中键值对的数量；
            - 失败：返回 0。
    """
    try:
        if not isinstance(数据, dict):
            return 0

        return len(数据)
    except Exception:
        return 0