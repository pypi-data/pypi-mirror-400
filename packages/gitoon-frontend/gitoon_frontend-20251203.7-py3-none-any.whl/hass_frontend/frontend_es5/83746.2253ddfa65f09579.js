"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["83746"],{30162:function(t,e,a){a.a(t,async function(t,o){try{a.d(e,{LW:function(){return f},Xs:function(){return p},fU:function(){return l},ie:function(){return h}});var r=a(74487),i=a(22786),n=a(8480),s=a(69543),c=t([r,n]);[r,n]=c.then?(await c)():c;var l=function(t,e,a){return d(e,a.time_zone).format(t)},d=(0,i.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,s.J)(t)?"h12":"h23",timeZone:(0,n.w)(t.time_zone,e)})}),h=function(t,e,a){return u(e,a.time_zone).format(t)},u=(0,i.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{hour:(0,s.J)(t)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,s.J)(t)?"h12":"h23",timeZone:(0,n.w)(t.time_zone,e)})}),p=function(t,e,a){return v(e,a.time_zone).format(t)},v=(0,i.A)(function(t,e){return new Intl.DateTimeFormat(t.language,{weekday:"long",hour:(0,s.J)(t)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(t)?"h12":"h23",timeZone:(0,n.w)(t.time_zone,e)})}),f=function(t,e,a){return g(e,a.time_zone).format(t)},g=(0,i.A)(function(t,e){return new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,n.w)(t.time_zone,e)})});o()}catch(m){o(m)}})},8480:function(t,e,a){a.a(t,async function(t,o){try{a.d(e,{n:function(){return h},w:function(){return u}});var r,i,n,s=a(74487),c=a(46927),l=t([s]);s=(l.then?(await l)():l)[0];var d=null===(r=Intl.DateTimeFormat)||void 0===r||null===(i=(n=r.call(Intl)).resolvedOptions)||void 0===i?void 0:i.call(n).timeZone,h=null!=d?d:"UTC",u=function(t,e){return t===c.Wj.local&&d?h:e};o()}catch(p){o(p)}})},69543:function(t,e,a){a.d(e,{J:function(){return i}});a(74423),a(21699);var o=a(22786),r=a(46927),i=(0,o.A)(function(t){if(t.time_format===r.Hg.language||t.time_format===r.Hg.system){var e=t.time_format===r.Hg.language?t.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(e).includes("10")}return t.time_format===r.Hg.am_pm})},26218:function(t,e,a){a.d(e,{a:function(){return i}});var o=a(47075),r=(a(16280),a(69085),a(83851),(0,a(77796).n)(function(t){history.replaceState({scrollPosition:t},"")},300));function i(t){return function(e,a){if("object"===(0,o.A)(a))throw new Error("This decorator does not support this compilation type.");var i=e.connectedCallback;e.connectedCallback=function(){var e=this;i.call(this);var o=this[a];o&&this.updateComplete.then(function(){var a=e.renderRoot.querySelector(t);a&&setTimeout(function(){a.scrollTop=o},0)})};var n,s=Object.getOwnPropertyDescriptor(e,a);if(void 0===s)n={get:function(){var t;return this["__".concat(String(a))]||(null===(t=history.state)||void 0===t?void 0:t.scrollPosition)},set:function(t){r(t),this["__".concat(String(a))]=t},configurable:!0,enumerable:!0};else{var c=s.set;n=Object.assign(Object.assign({},s),{},{set:function(t){r(t),this["__".concat(String(a))]=t,null==c||c.call(this,t)}})}Object.defineProperty(e,a,n)}}},20058:function(t,e,a){a.a(t,async function(t,o){try{a.d(e,{ZQ:function(){return h},ZV:function(){return d},ty:function(){return l},x:function(){return c}});var r=a(74487),i=(a(28706),a(74423),a(25276),a(2892),a(32637),a(40150),a(69085),a(26099),a(38781),a(21699),a(46927)),n=a(79791),s=t([r]);r=(s.then?(await s)():s)[0];var c=function(t){return l(t.attributes)},l=function(t,e){return!!t.unit_of_measurement||!!t.state_class||(e||[]).includes(t.device_class||"")},d=function(t,e,a){var o=e?function(t){switch(t.number_format){case i.jG.comma_decimal:return["en-US","en"];case i.jG.decimal_comma:return["de","es","it"];case i.jG.space_comma:return["fr","sv","cs"];case i.jG.quote_decimal:return["de-CH"];case i.jG.system:return;default:return t.language}}(e):void 0;return Number.isNaN=Number.isNaN||function t(e){return"number"==typeof e&&t(e)},(null==e?void 0:e.number_format)===i.jG.none||Number.isNaN(Number(t))?Number.isNaN(Number(t))||""===t||(null==e?void 0:e.number_format)!==i.jG.none?"string"==typeof t?t:"".concat((0,n.L)(t,null==a?void 0:a.maximumFractionDigits).toString()).concat("currency"===(null==a?void 0:a.style)?" ".concat(a.currency):""):new Intl.NumberFormat("en-US",u(t,Object.assign(Object.assign({},a),{},{useGrouping:!1}))).format(Number(t)):new Intl.NumberFormat(o,u(t,a)).format(Number(t))},h=function(t,e){var a,o=null==e?void 0:e.display_precision;return null!=o?{maximumFractionDigits:o,minimumFractionDigits:o}:Number.isInteger(Number(null==t||null===(a=t.attributes)||void 0===a?void 0:a.step))&&Number.isInteger(Number(null==t?void 0:t.state))?{maximumFractionDigits:0}:void 0},u=function(t,e){var a=Object.assign({maximumFractionDigits:2},e);if("string"!=typeof t)return a;if(!e||void 0===e.minimumFractionDigits&&void 0===e.maximumFractionDigits){var o=t.indexOf(".")>-1?t.split(".")[1].length:0;a.minimumFractionDigits=o,a.maximumFractionDigits=o}return a};o()}catch(p){o(p)}})},79791:function(t,e,a){a.d(e,{L:function(){return o}});var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}},77796:function(t,e,a){a.d(e,{n:function(){return o}});var o=function(t,e){var a,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=0,n=function(){for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];var l=Date.now();i||!1!==o||(i=l);var d=e-(l-i);d<=0||d>e?(a&&(clearTimeout(a),a=void 0),i=l,t.apply(void 0,s)):a||!1===r||(a=window.setTimeout(function(){i=!1===o?0:Date.now(),a=void 0,t.apply(void 0,s)},d))};return n.cancel=function(){clearTimeout(a),a=void 0,i=0},n}},38962:function(t,e,a){a.r(e);var o,r,i,n,s=a(26520),c=a(72153),l=a(44734),d=a(43080),h=a(69683),u=a(6454),p=(a(28706),a(40445)),v=a(96196),f=a(77845),g=a(94333),m=a(1087),b=(a(26300),a(67094),{info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),y=function(t){function e(){var t;(0,l.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,h.A)(this,e,[].concat(o))).title="",t.alertType="info",t.dismissable=!1,t.narrow=!1,t}return(0,u.A)(e,t),(0,d.A)(e,[{key:"render",value:function(){return(0,v.qy)(o||(o=(0,c.A)([' <div class="issue-type ','" role="alert"> <div class="icon ','"> <slot name="icon"> <ha-svg-icon .path="','"></ha-svg-icon> </slot> </div> <div class="','"> <div class="main-content"> ',' <slot></slot> </div> <div class="action"> <slot name="action"> '," </slot> </div> </div> </div> "])),(0,g.H)((0,s.A)({},this.alertType,!0)),this.title?"":"no-title",b[this.alertType],(0,g.H)({content:!0,narrow:this.narrow}),this.title?(0,v.qy)(r||(r=(0,c.A)(['<div class="title">',"</div>"])),this.title):v.s6,this.dismissable?(0,v.qy)(i||(i=(0,c.A)(['<ha-icon-button @click="','" label="Dismiss alert" .path="','"></ha-icon-button>'])),this._dismissClicked,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):v.s6)}},{key:"_dismissClicked",value:function(){(0,m.r)(this,"alert-dismissed-clicked")}}])}(v.WF);y.styles=(0,v.AH)(n||(n=(0,c.A)(['.issue-type{position:relative;padding:8px;display:flex}.icon{height:var(--ha-alert-icon-size,24px);width:var(--ha-alert-icon-size,24px)}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:var(--ha-border-radius-sm)}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.content.narrow{flex-direction:column;align-items:flex-end}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;line-height:normal;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:8px}.title{margin-top:2px;font-weight:var(--ha-font-weight-bold)}.action ha-icon-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}:host ::slotted(ul){margin:0;padding-inline-start:20px}']))),(0,p.__decorate)([(0,f.MZ)()],y.prototype,"title",void 0),(0,p.__decorate)([(0,f.MZ)({attribute:"alert-type"})],y.prototype,"alertType",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean})],y.prototype,"dismissable",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean})],y.prototype,"narrow",void 0),y=(0,p.__decorate)([(0,f.EM)("ha-alert")],y)},76776:function(t,e,a){var o,r,i,n=a(72153),s=a(44734),c=a(43080),l=a(69683),d=a(6454),h=(a(28706),a(40445)),u=a(96196),p=a(77845),v=function(t){function e(){var t;(0,s.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,l.A)(this,e,[].concat(o))).raised=!1,t}return(0,d.A)(e,t),(0,c.A)(e,[{key:"render",value:function(){return(0,u.qy)(o||(o=(0,n.A)([" "," <slot></slot> "])),this.header?(0,u.qy)(r||(r=(0,n.A)(['<h1 class="card-header">',"</h1>"])),this.header):u.s6)}}])}(u.WF);v.styles=(0,u.AH)(i||(i=(0,n.A)([":host{background:var(--ha-card-background,var(--card-background-color,#fff));-webkit-backdrop-filter:var(--ha-card-backdrop-filter,none);backdrop-filter:var(--ha-card-backdrop-filter,none);box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,var(--ha-border-radius-lg));border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,var(--primary-text-color));font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, var(--ha-font-size-2xl));letter-spacing:-.012em;line-height:var(--ha-line-height-expanded);padding:var(--ha-space-3) var(--ha-space-4) var(--ha-space-4);display:block;margin-block-start:var(--ha-space-0);margin-block-end:var(--ha-space-0);font-weight:var(--ha-font-weight-normal)}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:var(--ha-space-0);margin-top:calc(var(--ha-space-2) * -1)}:host ::slotted(.card-content){padding:var(--ha-space-4)}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:var(--ha-space-2)}"]))),(0,h.__decorate)([(0,p.MZ)()],v.prototype,"header",void 0),(0,h.__decorate)([(0,p.MZ)({type:Boolean,reflect:!0})],v.prototype,"raised",void 0),v=(0,h.__decorate)([(0,p.EM)("ha-card")],v)},90248:function(t,e,a){a.r(e),a.d(e,{HaIconButtonArrowPrev:function(){return p}});var o,r=a(72153),i=a(44734),n=a(43080),s=a(69683),c=a(6454),l=(a(28706),a(40445)),d=a(96196),h=a(77845),u=a(63091),p=(a(26300),function(t){function e(){var t;(0,i.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,s.A)(this,e,[].concat(o))).disabled=!1,t._icon="rtl"===u.G.document.dir?"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z":"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z",t}return(0,c.A)(e,t),(0,n.A)(e,[{key:"render",value:function(){var t;return(0,d.qy)(o||(o=(0,r.A)([' <ha-icon-button .disabled="','" .label="','" .path="','"></ha-icon-button> '])),this.disabled,this.label||(null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.back"))||"Back",this._icon)}}])}(d.WF));(0,l.__decorate)([(0,h.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,l.__decorate)([(0,h.MZ)({type:Boolean})],p.prototype,"disabled",void 0),(0,l.__decorate)([(0,h.MZ)()],p.prototype,"label",void 0),(0,l.__decorate)([(0,h.wk)()],p.prototype,"_icon",void 0),p=(0,l.__decorate)([(0,h.EM)("ha-icon-button-arrow-prev")],p)},26300:function(t,e,a){a.r(e),a.d(e,{HaIconButton:function(){return g}});var o,r,i,n,s=a(72153),c=a(44734),l=a(43080),d=a(69683),h=a(6454),u=(a(28706),a(40445)),p=(a(11677),a(96196)),v=a(77845),f=a(32288),g=(a(67094),function(t){function e(){var t;(0,c.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,d.A)(this,e,[].concat(o))).disabled=!1,t.hideTitle=!1,t}return(0,h.A)(e,t),(0,l.A)(e,[{key:"focus",value:function(){var t;null===(t=this._button)||void 0===t||t.focus()}},{key:"render",value:function(){return(0,p.qy)(o||(o=(0,s.A)([' <mwc-icon-button aria-label="','" title="','" aria-haspopup="','" .disabled="','"> '," </mwc-icon-button> "])),(0,f.J)(this.label),(0,f.J)(this.hideTitle?void 0:this.label),(0,f.J)(this.ariaHasPopup),this.disabled,this.path?(0,p.qy)(r||(r=(0,s.A)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),this.path):(0,p.qy)(i||(i=(0,s.A)(["<slot></slot>"]))))}}])}(p.WF));g.shadowRootOptions={mode:"open",delegatesFocus:!0},g.styles=(0,p.AH)(n||(n=(0,s.A)([":host{display:inline-block;outline:0}:host([disabled]){pointer-events:none}mwc-icon-button{--mdc-theme-on-primary:currentColor;--mdc-theme-text-disabled-on-light:var(--disabled-text-color)}"]))),(0,u.__decorate)([(0,v.MZ)({type:Boolean,reflect:!0})],g.prototype,"disabled",void 0),(0,u.__decorate)([(0,v.MZ)({type:String})],g.prototype,"path",void 0),(0,u.__decorate)([(0,v.MZ)({type:String})],g.prototype,"label",void 0),(0,u.__decorate)([(0,v.MZ)({type:String,attribute:"aria-haspopup"})],g.prototype,"ariaHasPopup",void 0),(0,u.__decorate)([(0,v.MZ)({attribute:"hide-title",type:Boolean})],g.prototype,"hideTitle",void 0),(0,u.__decorate)([(0,v.P)("mwc-icon-button",!0)],g.prototype,"_button",void 0),g=(0,u.__decorate)([(0,v.EM)("ha-icon-button")],g)},2054:function(t,e,a){var o,r,i,n=a(72153),s=a(44734),c=a(43080),l=a(69683),d=a(6454),h=a(25460),u=(a(16280),a(28706),a(2892),a(40445)),p=a(96196),v=a(77845),f=a(1087),g=a(44249),m=(a(26300),function(t){function e(){var t;(0,s.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,l.A)(this,e,[].concat(o))).hassio=!1,t.narrow=!1,t._hasNotifications=!1,t._show=!1,t._alwaysVisible=!1,t._attachNotifOnConnect=!1,t}return(0,d.A)(e,t),(0,c.A)(e,[{key:"connectedCallback",value:function(){(0,h.A)(e,"connectedCallback",this,3)([]),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}},{key:"disconnectedCallback",value:function(){(0,h.A)(e,"disconnectedCallback",this,3)([]),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}},{key:"render",value:function(){if(!this._show)return p.s6;var t=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return(0,p.qy)(o||(o=(0,n.A)([' <ha-icon-button .label="','" .path="','" @click="','"></ha-icon-button> '," "])),this.hass.localize("ui.sidebar.sidebar_toggle"),"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",this._toggleMenu,t?(0,p.qy)(r||(r=(0,n.A)(['<div class="dot"></div>']))):"")}},{key:"firstUpdated",value:function(t){(0,h.A)(e,"firstUpdated",this,3)([t]),this.hassio&&(this._alwaysVisible=(Number(window.parent.frontendVersion)||0)<20190710)}},{key:"willUpdate",value:function(t){if((0,h.A)(e,"willUpdate",this,3)([t]),t.has("narrow")||t.has("hass")){var a=t.has("hass")?t.get("hass"):this.hass,o=(t.has("narrow")?t.get("narrow"):this.narrow)||"always_hidden"===(null==a?void 0:a.dockedSidebar),r=this.narrow||"always_hidden"===this.hass.dockedSidebar;this.hasUpdated&&o===r||(this._show=r||this._alwaysVisible,r?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}}},{key:"_subscribeNotifications",value:function(){var t=this;if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,g.V)(this.hass.connection,function(e){t._hasNotifications=e.length>0})}},{key:"_toggleMenu",value:function(){(0,f.r)(this,"hass-toggle-menu")}}])}(p.WF));m.styles=(0,p.AH)(i||(i=(0,n.A)([":host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;inset-inline-end:7px;inset-inline-start:initial;border-radius:var(--ha-border-radius-circle);border:2px solid var(--app-header-background-color)}"]))),(0,u.__decorate)([(0,v.MZ)({type:Boolean})],m.prototype,"hassio",void 0),(0,u.__decorate)([(0,v.MZ)({type:Boolean})],m.prototype,"narrow",void 0),(0,u.__decorate)([(0,v.MZ)({attribute:!1})],m.prototype,"hass",void 0),(0,u.__decorate)([(0,v.wk)()],m.prototype,"_hasNotifications",void 0),(0,u.__decorate)([(0,v.wk)()],m.prototype,"_show",void 0),m=(0,u.__decorate)([(0,v.EM)("ha-menu-button")],m)},85938:function(t,e,a){var o,r=a(72153),i=a(61397),n=a(50264),s=a(44734),c=a(43080),l=a(75864),d=a(69683),h=a(6454),u=a(25460),p=(a(28706),a(2008),a(23792),a(18111),a(22489),a(69085),a(26099),a(3362),a(47764),a(46058),a(62953),a(40445)),v=a(96196),f=a(77845),g=a(1087),m=function(t){function e(){var t;(0,s.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,d.A)(this,e,[].concat(o))).disabled=!1,t.noStyle=!1,t.invertSwap=!1,t.rollback=!0,t._shouldBeDestroy=!1,t._handleUpdate=function(e){(0,g.r)((0,l.A)(t),"item-moved",{newIndex:e.newIndex,oldIndex:e.oldIndex})},t._handleAdd=function(e){(0,g.r)((0,l.A)(t),"item-added",{index:e.newIndex,data:e.item.sortableData,item:e.item})},t._handleRemove=function(e){(0,g.r)((0,l.A)(t),"item-removed",{index:e.oldIndex})},t._handleEnd=function(){var e=(0,n.A)((0,i.A)().m(function e(a){return(0,i.A)().w(function(e){for(;;)switch(e.n){case 0:(0,g.r)((0,l.A)(t),"drag-end"),t.rollback&&a.item.placeholder&&(a.item.placeholder.replaceWith(a.item),delete a.item.placeholder);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),t._handleStart=function(){(0,g.r)((0,l.A)(t),"drag-start")},t._handleChoose=function(e){t.rollback&&(e.item.placeholder=document.createComment("sort-placeholder"),e.item.after(e.item.placeholder))},t}return(0,h.A)(e,t),(0,c.A)(e,[{key:"updated",value:function(t){t.has("disabled")&&(this.disabled?this._destroySortable():this._createSortable())}},{key:"disconnectedCallback",value:function(){var t=this;(0,u.A)(e,"disconnectedCallback",this,3)([]),this._shouldBeDestroy=!0,setTimeout(function(){t._shouldBeDestroy&&(t._destroySortable(),t._shouldBeDestroy=!1)},1)}},{key:"connectedCallback",value:function(){(0,u.A)(e,"connectedCallback",this,3)([]),this._shouldBeDestroy=!1,this.hasUpdated&&!this.disabled&&this._createSortable()}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){return this.noStyle?v.s6:(0,v.qy)(o||(o=(0,r.A)([" <style>.sortable-fallback{display:none!important}.sortable-ghost{box-shadow:0 0 0 2px var(--primary-color);background:rgba(var(--rgb-primary-color),.25);border-radius:var(--ha-border-radius-sm);opacity:.4}.sortable-drag{border-radius:var(--ha-border-radius-sm);opacity:1;background:var(--card-background-color);box-shadow:0px 4px 8px 3px #00000026;cursor:grabbing}</style> "])))}},{key:"_createSortable",value:(p=(0,n.A)((0,i.A)().m(function t(){var e,o,r;return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:if(!this._sortable){t.n=1;break}return t.a(2);case 1:if(e=this.children[0]){t.n=2;break}return t.a(2);case 2:return t.n=3,Promise.all([a.e("85283"),a.e("70322")]).then(a.bind(a,80745));case 3:o=t.v.default,r=Object.assign(Object.assign({scroll:!0,forceAutoScrollFallback:!0,scrollSpeed:20,animation:150},this.options),{},{onChoose:this._handleChoose,onStart:this._handleStart,onEnd:this._handleEnd,onUpdate:this._handleUpdate,onAdd:this._handleAdd,onRemove:this._handleRemove}),this.draggableSelector&&(r.draggable=this.draggableSelector),this.handleSelector&&(r.handle=this.handleSelector),void 0!==this.invertSwap&&(r.invertSwap=this.invertSwap),this.group&&(r.group=this.group),this.filter&&(r.filter=this.filter),this._sortable=new o(e,r);case 4:return t.a(2)}},t,this)})),function(){return p.apply(this,arguments)})},{key:"_destroySortable",value:function(){this._sortable&&(this._sortable.destroy(),this._sortable=void 0)}}]);var p}(v.WF);(0,p.__decorate)([(0,f.MZ)({type:Boolean})],m.prototype,"disabled",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean,attribute:"no-style"})],m.prototype,"noStyle",void 0),(0,p.__decorate)([(0,f.MZ)({type:String,attribute:"draggable-selector"})],m.prototype,"draggableSelector",void 0),(0,p.__decorate)([(0,f.MZ)({type:String,attribute:"handle-selector"})],m.prototype,"handleSelector",void 0),(0,p.__decorate)([(0,f.MZ)({type:String,attribute:"filter"})],m.prototype,"filter",void 0),(0,p.__decorate)([(0,f.MZ)({type:String})],m.prototype,"group",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean,attribute:"invert-swap"})],m.prototype,"invertSwap",void 0),(0,p.__decorate)([(0,f.MZ)({attribute:!1})],m.prototype,"options",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean})],m.prototype,"rollback",void 0),m=(0,p.__decorate)([(0,f.EM)("ha-sortable")],m)},67094:function(t,e,a){a.r(e),a.d(e,{HaSvgIcon:function(){return f}});var o,r,i,n,s=a(72153),c=a(44734),l=a(43080),d=a(69683),h=a(6454),u=a(40445),p=a(96196),v=a(77845),f=function(t){function e(){return(0,c.A)(this,e),(0,d.A)(this,e,arguments)}return(0,h.A)(e,t),(0,l.A)(e,[{key:"render",value:function(){return(0,p.JW)(o||(o=(0,s.A)([' <svg viewBox="','" preserveAspectRatio="xMidYMid meet" focusable="false" role="img" aria-hidden="true"> <g> '," "," </g> </svg>"])),this.viewBox||"0 0 24 24",this.path?(0,p.JW)(r||(r=(0,s.A)(['<path class="primary-path" d="','"></path>'])),this.path):p.s6,this.secondaryPath?(0,p.JW)(i||(i=(0,s.A)(['<path class="secondary-path" d="','"></path>'])),this.secondaryPath):p.s6)}}])}(p.WF);f.styles=(0,p.AH)(n||(n=(0,s.A)([":host{display:var(--ha-icon-display,inline-flex);align-items:center;justify-content:center;position:relative;vertical-align:middle;fill:var(--icon-primary-color,currentcolor);width:var(--mdc-icon-size,24px);height:var(--mdc-icon-size,24px)}svg{width:100%;height:100%;pointer-events:none;display:block}path.primary-path{opacity:var(--icon-primary-opactity, 1)}path.secondary-path{fill:var(--icon-secondary-color,currentcolor);opacity:var(--icon-secondary-opactity, .5)}"]))),(0,u.__decorate)([(0,v.MZ)()],f.prototype,"path",void 0),(0,u.__decorate)([(0,v.MZ)({attribute:!1})],f.prototype,"secondaryPath",void 0),(0,u.__decorate)([(0,v.MZ)({attribute:!1})],f.prototype,"viewBox",void 0),f=(0,u.__decorate)([(0,v.EM)("ha-svg-icon")],f)},44249:function(t,e,a){a.d(e,{V:function(){return i}});var o=a(44734),r=a(43080),i=(a(69085),a(79432),a(16034),function(t,e){var a=new n,o=t.subscribeMessage(function(t){return e(a.processMessage(t))},{type:"persistent_notification/subscribe"});return function(){o.then(function(t){return null==t?void 0:t()})}}),n=function(){return(0,r.A)(function t(){(0,o.A)(this,t),this.notifications={}},[{key:"processMessage",value:function(t){if("removed"===t.type)for(var e=0,a=Object.keys(t.notifications);e<a.length;e++){var o=a[e];delete this.notifications[o]}else this.notifications=Object.assign(Object.assign({},this.notifications),t.notifications);return Object.values(this.notifications)}}])}()},28794:function(t,e,a){a.a(t,async function(t,o){try{a.r(e);a(62953);var r=a(40445),i=a(96196),n=a(77845),s=a(91926),c=(a(90248),a(18350)),l=(a(2054),a(38962),t([c]));c=(l.then?(await l)():l)[0];let d,h,u,p,v,f=t=>t;class g extends i.WF{render(){var t,e;return(0,i.qy)(d||(d=f` ${0} <div class="content"> <ha-alert alert-type="error">${0}</ha-alert> <slot> <ha-button appearance="plain" size="small" @click="${0}"> ${0} </ha-button> </slot> </div> `),this.toolbar?(0,i.qy)(h||(h=f`<div class="toolbar"> ${0} </div>`),this.rootnav||null!==(t=history.state)&&void 0!==t&&t.root?(0,i.qy)(u||(u=f` <ha-menu-button .hass="${0}" .narrow="${0}"></ha-menu-button> `),this.hass,this.narrow):(0,i.qy)(p||(p=f` <ha-icon-button-arrow-prev .hass="${0}" @click="${0}"></ha-icon-button-arrow-prev> `),this.hass,this._handleBack)):"",this.error,this._handleBack,null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.back"))}_handleBack(){(0,s.O)()}static get styles(){return[(0,i.AH)(v||(v=f`:host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:var(--ha-font-size-xl);height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev{pointer-events:auto}.content{color:var(--primary-text-color);height:calc(100% - var(--header-height));display:flex;padding:16px;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}a{color:var(--primary-color)}ha-alert{margin-bottom:16px}`))]}constructor(...t){super(...t),this.toolbar=!0,this.rootnav=!1,this.narrow=!1}}(0,r.__decorate)([(0,n.MZ)({attribute:!1})],g.prototype,"hass",void 0),(0,r.__decorate)([(0,n.MZ)({type:Boolean})],g.prototype,"toolbar",void 0),(0,r.__decorate)([(0,n.MZ)({type:Boolean})],g.prototype,"rootnav",void 0),(0,r.__decorate)([(0,n.MZ)({type:Boolean})],g.prototype,"narrow",void 0),(0,r.__decorate)([(0,n.MZ)()],g.prototype,"error",void 0),g=(0,r.__decorate)([(0,n.EM)("hass-error-screen")],g),o()}catch(d){o(d)}})},23296:function(t,e,a){a.a(t,async function(t,o){try{a.r(e);var r,i,n,s,c,l,d=a(72153),h=a(44734),u=a(43080),p=a(69683),v=a(6454),f=(a(28706),a(40445)),g=a(96196),m=a(77845),b=a(91926),y=a(65829),_=(a(90248),a(2054),a(14503)),w=t([y]);y=(w.then?(await w)():w)[0];var x=function(t){function e(){var t;(0,h.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,p.A)(this,e,[].concat(o))).noToolbar=!1,t.rootnav=!1,t.narrow=!1,t}return(0,v.A)(e,t),(0,u.A)(e,[{key:"render",value:function(){var t;return(0,g.qy)(r||(r=(0,d.A)([" ",' <div class="content"> <ha-spinner></ha-spinner> '," </div> "])),this.noToolbar?"":(0,g.qy)(i||(i=(0,d.A)(['<div class="toolbar"> '," </div>"])),this.rootnav||null!==(t=history.state)&&void 0!==t&&t.root?(0,g.qy)(n||(n=(0,d.A)([' <ha-menu-button .hass="','" .narrow="','"></ha-menu-button> '])),this.hass,this.narrow):(0,g.qy)(s||(s=(0,d.A)([' <ha-icon-button-arrow-prev .hass="','" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._handleBack)),this.message?(0,g.qy)(c||(c=(0,d.A)(['<div id="loading-text">',"</div>"])),this.message):g.s6)}},{key:"_handleBack",value:function(){(0,b.O)()}}],[{key:"styles",get:function(){return[_.RF,(0,g.AH)(l||(l=(0,d.A)([":host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:var(--ha-font-size-xl);height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto}.content{height:calc(100% - var(--header-height));display:flex;flex-direction:column;align-items:center;justify-content:center}#loading-text{max-width:350px;margin-top:16px}"])))]}}])}(g.WF);(0,f.__decorate)([(0,m.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,f.__decorate)([(0,m.MZ)({type:Boolean,attribute:"no-toolbar"})],x.prototype,"noToolbar",void 0),(0,f.__decorate)([(0,m.MZ)({type:Boolean})],x.prototype,"rootnav",void 0),(0,f.__decorate)([(0,m.MZ)({type:Boolean})],x.prototype,"narrow",void 0),(0,f.__decorate)([(0,m.MZ)()],x.prototype,"message",void 0),x=(0,f.__decorate)([(0,m.EM)("hass-loading-screen")],x),o()}catch(A){o(A)}})},81310:function(t,e,a){var o,r,i,n,s,c=a(72153),l=a(44734),d=a(43080),h=a(69683),u=a(6454),p=(a(28706),a(40445)),v=a(96196),f=a(77845),g=a(26218),m=a(91926),b=(a(90248),a(2054),a(14503)),y=function(t){function e(){var t;(0,l.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,h.A)(this,e,[].concat(o))).mainPage=!1,t.narrow=!1,t.supervisor=!1,t}return(0,u.A)(e,t),(0,d.A)(e,[{key:"render",value:function(){var t;return(0,v.qy)(o||(o=(0,c.A)([' <div class="toolbar"> <div class="toolbar-content"> ',' <div class="main-title"> <slot name="header">','</slot> </div> <slot name="toolbar-icon"></slot> </div> </div> <div class="content ha-scrollbar" @scroll="','"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> '])),this.mainPage||null!==(t=history.state)&&void 0!==t&&t.root?(0,v.qy)(r||(r=(0,c.A)([' <ha-menu-button .hassio="','" .hass="','" .narrow="','"></ha-menu-button> '])),this.supervisor,this.hass,this.narrow):this.backPath?(0,v.qy)(i||(i=(0,c.A)([' <a href="','"> <ha-icon-button-arrow-prev .hass="','"></ha-icon-button-arrow-prev> </a> '])),this.backPath,this.hass):(0,v.qy)(n||(n=(0,c.A)([' <ha-icon-button-arrow-prev .hass="','" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._backTapped),this.header,this._saveScrollPos)}},{key:"_saveScrollPos",value:function(t){this._savedScrollPos=t.target.scrollTop}},{key:"_backTapped",value:function(){this.backCallback?this.backCallback():(0,m.O)()}}],[{key:"styles",get:function(){return[b.dp,(0,v.AH)(s||(s=(0,c.A)([":host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{background-color:var(--app-header-background-color);padding-top:var(--safe-area-inset-top);padding-right:var(--safe-area-inset-right)}:host([narrow]) .toolbar{padding-left:var(--safe-area-inset-left)}.toolbar-content{display:flex;align-items:center;font-size:var(--ha-font-size-xl);height:var(--header-height);font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box;padding:8px 12px}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:var(--ha-line-height-normal);min-width:0;flex-grow:1;overflow-wrap:break-word;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.content{position:relative;width:calc(100% - var(--safe-area-inset-right,0px));height:calc(100% - 1px - var(--header-height,0px) - var(--safe-area-inset-top,0px) - var(--hass-subpage-bottom-inset,var(--safe-area-inset-bottom,0px)));margin-bottom:var(--hass-subpage-bottom-inset,var(--safe-area-inset-bottom));margin-right:var(--safe-area-inset-right);overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}:host([narrow]) .content{width:calc(100% - var(--safe-area-inset-left,0px) - var(--safe-area-inset-right,0px));margin-left:var(--safe-area-inset-left)}#fab{position:absolute;right:calc(16px + var(--safe-area-inset-right,0px));inset-inline-end:calc(16px + var(--safe-area-inset-right,0px));inset-inline-start:initial;bottom:calc(16px + var(--safe-area-inset-bottom,0px));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:var(--ha-space-2)}:host([narrow]) #fab.tabs{bottom:calc(84px + var(--safe-area-inset-bottom,0px))}#fab[is-wide]{bottom:calc(24px + var(--safe-area-inset-bottom,0px));right:calc(24px + var(--safe-area-inset-right,0px));inset-inline-end:calc(24px + var(--safe-area-inset-right,0px));inset-inline-start:initial}"])))]}}])}(v.WF);(0,p.__decorate)([(0,f.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,p.__decorate)([(0,f.MZ)()],y.prototype,"header",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean,attribute:"main-page"})],y.prototype,"mainPage",void 0),(0,p.__decorate)([(0,f.MZ)({type:String,attribute:"back-path"})],y.prototype,"backPath",void 0),(0,p.__decorate)([(0,f.MZ)({attribute:!1})],y.prototype,"backCallback",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean,reflect:!0})],y.prototype,"narrow",void 0),(0,p.__decorate)([(0,f.MZ)({type:Boolean})],y.prototype,"supervisor",void 0),(0,p.__decorate)([(0,g.a)(".content")],y.prototype,"_savedScrollPos",void 0),(0,p.__decorate)([(0,f.Ls)({passive:!0})],y.prototype,"_saveScrollPos",null),y=(0,p.__decorate)([(0,f.EM)("hass-subpage")],y)},84933:function(t,e,a){a.a(t,async function(t,e){try{var o,r,i,n,s=a(61397),c=a(50264),l=a(72153),d=a(44734),h=a(43080),u=a(69683),p=a(6454),v=(a(28706),a(2008),a(74423),a(62062),a(54554),a(18111),a(22489),a(7588),a(61701),a(69085),a(26099),a(21699),a(23500),a(40445)),f=a(96196),g=a(4937),m=a(77845),b=a(1087),y=(a(76776),a(18350)),_=(a(26300),a(85938),a(67094),a(38114)),w=a(23528),x=a(65063),A=a(14503),k=a(36918),M=a(82105),Z=(a(38940),a(6268)),H=t([y,w,_]);[y,w,_]=H.then?(await H)():H;var z="M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z",C=function(t){function e(){return(0,d.A)(this,e),(0,u.A)(this,e,arguments)}return(0,p.A)(e,t),(0,h.A)(e,[{key:"render",value:function(){var t,e=this;return(0,f.qy)(o||(o=(0,l.A)([' <ha-card outlined> <h1 class="card-header"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </h1> <div class="card-content"> <p> ',' <a target="_blank" rel="noopener noreferrer" href="','">',"</a> </p> "," <h3> ",' </h3> <ha-sortable handle-selector=".handle" @item-moved="','"> <div class="devices"> ',' </div> </ha-sortable> <div class="row"> <ha-svg-icon .path="','"></ha-svg-icon> <ha-button @click="','" appearance="filled" size="small"> <ha-svg-icon slot="start" .path="','"></ha-svg-icon>',"</ha-button> </div> </div> </ha-card> "])),z,this.hass.localize("ui.panel.config.energy.device_consumption_water.title"),this.hass.localize("ui.panel.config.energy.device_consumption_water.sub"),(0,k.o)(this.hass,"/docs/energy/water/#individual-devices"),this.hass.localize("ui.panel.config.energy.device_consumption_water.learn_more"),null===(t=this.validationResult)||void 0===t?void 0:t.device_consumption_water.map(function(t){return(0,f.qy)(r||(r=(0,l.A)([' <ha-energy-validation-result .hass="','" .issues="','"></ha-energy-validation-result> '])),e.hass,t)}),this.hass.localize("ui.panel.config.energy.device_consumption_water.devices"),this._itemMoved,(0,g.u)(this.preferences.device_consumption_water,function(t){return t.stat_consumption},function(t){var a;return(0,f.qy)(i||(i=(0,l.A)([' <div class="row" .device="','"> <div class="handle"> <ha-svg-icon .path="','"></ha-svg-icon> </div> <span class="content">','</span> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> <ha-icon-button .label="','" @click="','" .device="','" .path="','"></ha-icon-button> </div> '])),t,"M21 11H3V9H21V11M21 13H3V15H21V13Z",t.name||(0,w.$O)(e.hass,t.stat_consumption,null===(a=e.statsMetadata)||void 0===a?void 0:a[t.stat_consumption]),e.hass.localize("ui.common.edit"),e._editDevice,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",e.hass.localize("ui.common.delete"),e._deleteDevice,t,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z")}),z,this._addDevice,"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",this.hass.localize("ui.panel.config.energy.device_consumption_water.add_device"))}},{key:"_itemMoved",value:function(t){t.stopPropagation();var e=t.detail,a=e.oldIndex,o=e.newIndex,r=this.preferences.device_consumption_water.concat(),i=r.splice(a,1)[0];r.splice(o,0,i);var n=Object.assign(Object.assign({},this.preferences),{},{device_consumption_water:r});(0,b.r)(this,"value-changed",{value:n}),this._savePreferences(n)}},{key:"_editDevice",value:function(t){var e,a=this,o=t.currentTarget.closest(".row").device;(0,M.YA)(this,{statsMetadata:this.statsMetadata,device:Object.assign({},o),device_consumptions:this.preferences.device_consumption_water,saveCallback:(e=(0,c.A)((0,s.A)().m(function t(e){var r;return(0,s.A)().w(function(t){for(;;)switch(t.n){case 0:return r=Object.assign(Object.assign({},a.preferences),{},{device_consumption_water:a.preferences.device_consumption_water.map(function(t){return t===o?e:t})}),a._sanitizeParents(r),t.n=1,a._savePreferences(r);case 1:return t.a(2)}},t)})),function(t){return e.apply(this,arguments)})})}},{key:"_addDevice",value:function(){var t,e=this;(0,M.YA)(this,{statsMetadata:this.statsMetadata,device_consumptions:this.preferences.device_consumption_water,saveCallback:(t=(0,c.A)((0,s.A)().m(function t(a){return(0,s.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e._savePreferences(Object.assign(Object.assign({},e.preferences),{},{device_consumption_water:e.preferences.device_consumption_water.concat(a)}));case 1:return t.a(2)}},t)})),function(e){return t.apply(this,arguments)})})}},{key:"_sanitizeParents",value:function(t){var e=t.device_consumption_water.map(function(t){return t.stat_consumption});t.device_consumption_water.forEach(function(t){t.included_in_stat&&!e.includes(t.included_in_stat)&&delete t.included_in_stat})}},{key:"_deleteDevice",value:(v=(0,c.A)((0,s.A)().m(function t(e){var a,o,r;return(0,s.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:return a=e.currentTarget.device,t.n=1,(0,x.dk)(this,{title:this.hass.localize("ui.panel.config.energy.delete_source")});case 1:if(t.v){t.n=2;break}return t.a(2);case 2:return t.p=2,o=Object.assign(Object.assign({},this.preferences),{},{device_consumption_water:this.preferences.device_consumption_water.filter(function(t){return t!==a})}),this._sanitizeParents(o),t.n=3,this._savePreferences(o);case 3:t.n=5;break;case 4:t.p=4,r=t.v,(0,x.showAlertDialog)(this,{title:"Failed to save config: ".concat(r.message)});case 5:return t.a(2)}},t,this,[[2,4]])})),function(t){return v.apply(this,arguments)})},{key:"_savePreferences",value:(a=(0,c.A)((0,s.A)().m(function t(e){var a;return(0,s.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,_.WN)(this.hass,e);case 1:a=t.v,(0,b.r)(this,"value-changed",{value:a});case 2:return t.a(2)}},t,this)})),function(t){return a.apply(this,arguments)})}],[{key:"styles",get:function(){return[A.RF,Z.X,(0,f.AH)(n||(n=(0,l.A)([".handle{cursor:move;cursor:grab}"])))]}}]);var a,v}(f.WF);(0,v.__decorate)([(0,m.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,v.__decorate)([(0,m.MZ)({attribute:!1})],C.prototype,"preferences",void 0),(0,v.__decorate)([(0,m.MZ)({attribute:!1})],C.prototype,"statsMetadata",void 0),(0,v.__decorate)([(0,m.MZ)({attribute:!1})],C.prototype,"validationResult",void 0),C=(0,v.__decorate)([(0,m.EM)("ha-energy-device-settings-water")],C),e()}catch(S){e(S)}})},28536:function(t,e,a){a.a(t,async function(t,o){try{a.r(e);var r,i,n,s,c=a(61397),l=a(50264),d=a(72153),h=a(44734),u=a(43080),p=a(69683),v=a(6454),f=(a(28706),a(23792),a(62062),a(18111),a(7588),a(61701),a(33110),a(53921),a(79432),a(26099),a(27495),a(47764),a(5746),a(23500),a(62953),a(3296),a(27208),a(48408),a(14603),a(47566),a(98721),a(40445)),g=a(28794),m=a(96196),b=a(77845),y=a(38114),_=a(23528),w=a(23296),x=(a(81310),a(14503)),A=(a(38962),a(76135)),k=a(84933),M=a(54081),Z=a(38726),H=a(23206),z=a(28166),C=a(70604),S=a(33668),L=t([g,w,A,k,M,Z,H,z,C,y,_]);[g,w,A,k,M,Z,H,z,C,y,_]=L.then?(await L)():L;var j={energy_sources:[],device_consumption:[],device_consumption_water:[]},B=function(t){function e(){var t;(0,h.A)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=(0,p.A)(this,e,[].concat(o))).narrow=!1,t.isWide=!1,t.showAdvanced=!1,t._searchParms=new URLSearchParams(window.location.search),t}return(0,v.A)(e,t),(0,u.A)(e,[{key:"firstUpdated",value:function(){this._fetchConfig()}},{key:"render",value:function(){return this._preferences||this._error?this._error?(0,m.qy)(i||(i=(0,d.A)(['<hass-error-screen .hass="','" .narrow="','" .error="','"></hass-error-screen>'])),this.hass,this.narrow,this._error):(0,m.qy)(n||(n=(0,d.A)([' <hass-subpage .hass="','" .narrow="','" .backPath="','" .header="','"> <ha-icon-button slot="toolbar-icon" .path="','" .label="','" @click="','"></ha-icon-button> <ha-alert> ',' </ha-alert> <div class="container"> <ha-energy-grid-settings .hass="','" .preferences="','" .statsMetadata="','" .validationResult="','" @value-changed="','"></ha-energy-grid-settings> <ha-energy-solar-settings .hass="','" .preferences="','" .statsMetadata="','" .validationResult="','" .info="','" @value-changed="','"></ha-energy-solar-settings> <ha-energy-battery-settings .hass="','" .preferences="','" .statsMetadata="','" .validationResult="','" @value-changed="','"></ha-energy-battery-settings> <ha-energy-gas-settings .hass="','" .preferences="','" .statsMetadata="','" .validationResult="','" @value-changed="','"></ha-energy-gas-settings> <ha-energy-water-settings .hass="','" .preferences="','" .statsMetadata="','" .validationResult="','" @value-changed="','"></ha-energy-water-settings> <ha-energy-device-settings .hass="','" .preferences="','" .statsMetadata="','" .validationResult="','" @value-changed="','"></ha-energy-device-settings> <ha-energy-device-settings-water .hass="','" .preferences="','" .statsMetadata="','" .validationResult="','" @value-changed="','"></ha-energy-device-settings-water> </div> </hass-subpage> '])),this.hass,this.narrow,this._searchParms.has("historyBack")?void 0:"/config/lovelace/dashboards",this.hass.localize("ui.panel.config.energy.caption"),"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",this.hass.localize("ui.panel.config.devices.download_diagnostics"),this._downloadDiagnostics,this.hass.localize("ui.panel.config.energy.new_device_info"),this.hass,this._preferences,this._statsMetadata,this._validationResult,this._prefsChanged,this.hass,this._preferences,this._statsMetadata,this._validationResult,this._info,this._prefsChanged,this.hass,this._preferences,this._statsMetadata,this._validationResult,this._prefsChanged,this.hass,this._preferences,this._statsMetadata,this._validationResult,this._prefsChanged,this.hass,this._preferences,this._statsMetadata,this._validationResult,this._prefsChanged,this.hass,this._preferences,this._statsMetadata,this._validationResult,this._prefsChanged,this.hass,this._preferences,this._statsMetadata,this._validationResult,this._prefsChanged):(0,m.qy)(r||(r=(0,d.A)(['<hass-loading-screen .hass="','" .narrow="','"></hass-loading-screen>'])),this.hass,this.narrow)}},{key:"_fetchConfig",value:(g=(0,l.A)((0,c.A)().m(function t(){var e,a,o,r;return(0,c.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:return this._error=void 0,e=(0,y.B2)(this.hass),t.n=1,(0,y.BV)(this.hass);case 1:return a=t.v,t.p=2,t.n=3,(0,y.bs)(this.hass);case 3:this._preferences=t.v,t.n=5;break;case 4:t.p=4,"not_found"===(o=t.v).code?this._preferences=j:this._error=o.message;case 5:return t.p=5,t.n=6,e;case 6:this._validationResult=t.v,t.n=8;break;case 7:t.p=7,r=t.v,this._error=r.message;case 8:return t.n=9,a;case 9:return this._info=t.v,t.n=10,this._fetchMetaData();case 10:return t.a(2)}},t,this,[[5,7],[2,4]])})),function(){return g.apply(this,arguments)})},{key:"_prefsChanged",value:(f=(0,l.A)((0,c.A)().m(function t(e){var a;return(0,c.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:return this._preferences=e.detail.value,this._validationResult=void 0,t.p=1,t.n=2,(0,y.B2)(this.hass);case 2:this._validationResult=t.v,t.n=4;break;case 3:t.p=3,a=t.v,this._error=a.message;case 4:return t.n=5,(0,y.BV)(this.hass);case 5:return this._info=t.v,t.n=6,this._fetchMetaData();case 6:return t.a(2)}},t,this,[[1,3]])})),function(t){return f.apply(this,arguments)})},{key:"_fetchMetaData",value:(o=(0,l.A)((0,c.A)().m(function t(){var e,a,o;return(0,c.A)().w(function(t){for(;;)switch(t.n){case 0:if(this._preferences&&this._info){t.n=1;break}return t.a(2);case 1:return e=(0,y.AN)(this._preferences,this._info),t.n=2,(0,_.Wr)(this.hass,e);case 2:a=t.v,o={},a.forEach(function(t){o[t.statistic_id]=t}),this._statsMetadata=o;case 3:return t.a(2)}},t,this)})),function(){return o.apply(this,arguments)})},{key:"_downloadDiagnostics",value:(a=(0,l.A)((0,c.A)().m(function t(){var e,a,o,r,i=this;return(0,c.A)().w(function(t){for(;;)switch(t.n){case 0:e={version:this.hass.config.version,info:this._info,preferences:this._preferences,metadata:this._statsMetadata,entities:Object.fromEntries(Object.keys(this._statsMetadata||{}).map(function(t){return[t,i.hass.entities[t]]})),states:Object.fromEntries(Object.keys(this._statsMetadata||{}).map(function(t){return[t,i.hass.states[t]]})),issues:this._validationResult},a=JSON.stringify(e,null,2),o=new Blob([a],{type:"application/json"}),r=URL.createObjectURL(o),(0,S.R)(r,"energy_diagnostics.json");case 1:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})}],[{key:"styles",get:function(){return[x.RF,(0,m.AH)(s||(s=(0,d.A)(["ha-alert{display:block;margin:8px}.container{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));grid-gap:8px 8px;margin:8px}"])))]}}]);var a,o,f,g}(m.WF);(0,f.__decorate)([(0,b.MZ)({attribute:!1})],B.prototype,"hass",void 0),(0,f.__decorate)([(0,b.MZ)({type:Boolean})],B.prototype,"narrow",void 0),(0,f.__decorate)([(0,b.MZ)({attribute:"is-wide",type:Boolean})],B.prototype,"isWide",void 0),(0,f.__decorate)([(0,b.MZ)({attribute:!1})],B.prototype,"showAdvanced",void 0),(0,f.__decorate)([(0,b.MZ)({attribute:!1})],B.prototype,"route",void 0),(0,f.__decorate)([(0,b.wk)()],B.prototype,"_searchParms",void 0),(0,f.__decorate)([(0,b.wk)()],B.prototype,"_info",void 0),(0,f.__decorate)([(0,b.wk)()],B.prototype,"_preferences",void 0),(0,f.__decorate)([(0,b.wk)()],B.prototype,"_validationResult",void 0),(0,f.__decorate)([(0,b.wk)()],B.prototype,"_error",void 0),(0,f.__decorate)([(0,b.wk)()],B.prototype,"_statsMetadata",void 0),B=(0,f.__decorate)([(0,b.EM)("ha-config-energy")],B),o()}catch(N){o(N)}})},14503:function(t,e,a){a.d(e,{RF:function(){return u},dp:function(){return f},kO:function(){return v},nA:function(){return p},og:function(){return h}});var o=a(96196);let r,i,n,s,c,l,d=t=>t;const h=(0,o.AH)(r||(r=d`button.link{background:0 0;color:inherit;border:none;padding:0;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0}`)),u=(0,o.AH)(i||(i=d`:host{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-m);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal)}app-header div[sticky]{height:48px}app-toolbar [main-title]{margin-left:20px;margin-inline-start:20px;margin-inline-end:initial}h1{font-family:var(--ha-font-family-heading);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-2xl);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-condensed)}h2{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:var(--ha-font-size-xl);font-weight:var(--ha-font-weight-medium);line-height:var(--ha-line-height-normal)}h3{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal)}a{color:var(--primary-color)}.secondary{color:var(--secondary-text-color)}.error{color:var(--error-color)}.warning{color:var(--error-color)}${0} .card-actions a{text-decoration:none}.card-actions .warning{--mdc-theme-primary:var(--error-color)}.layout.horizontal,.layout.vertical{display:flex}.layout.inline{display:inline-flex}.layout.horizontal{flex-direction:row}.layout.vertical{flex-direction:column}.layout.wrap{flex-wrap:wrap}.layout.no-wrap{flex-wrap:nowrap}.layout.center,.layout.center-center{align-items:center}.layout.bottom{align-items:flex-end}.layout.center-center,.layout.center-justified{justify-content:center}.flex{flex:1;flex-basis:0.000000001px}.flex-auto{flex:1 1 auto}.flex-none{flex:none}.layout.justified{justify-content:space-between}`),h),p=(0,o.AH)(n||(n=d`ha-dialog{--mdc-dialog-min-width:400px;--mdc-dialog-max-width:600px;--mdc-dialog-max-width:min(600px, 95vw);--justify-action-buttons:space-between;--dialog-container-padding:var(--safe-area-inset-top, var(--ha-space-0)) var(--safe-area-inset-right, var(--ha-space-0)) var(--safe-area-inset-bottom, var(--ha-space-0)) var(--safe-area-inset-left, var(--ha-space-0));--dialog-surface-padding:var(--ha-space-0)}ha-dialog .form{color:var(--primary-text-color)}a{color:var(--primary-color)}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--mdc-dialog-min-width:100vw;--mdc-dialog-max-width:100vw;--mdc-dialog-min-height:100vh;--mdc-dialog-min-height:100svh;--mdc-dialog-max-height:100vh;--mdc-dialog-max-height:100svh;--dialog-container-padding:var(--ha-space-0);--dialog-surface-padding:var(--safe-area-inset-top, var(--ha-space-0)) var(--safe-area-inset-right, var(--ha-space-0)) var(--safe-area-inset-bottom, var(--ha-space-0)) var(--safe-area-inset-left, var(--ha-space-0));--vertical-align-dialog:flex-end;--ha-dialog-border-radius:var(--ha-border-radius-square)}}.error{color:var(--error-color)}`)),v=(0,o.AH)(s||(s=d`ha-dialog{--vertical-align-dialog:flex-start;--dialog-surface-margin-top:var(--ha-space-10);--mdc-dialog-max-height:calc(
      100vh - var(--dialog-surface-margin-top) - var(--ha-space-2) - var(
          --safe-area-inset-y,
          var(--ha-space-0)
        )
    );--mdc-dialog-max-height:calc(
      100svh - var(--dialog-surface-margin-top) - var(--ha-space-2) - var(
          --safe-area-inset-y,
          var(--ha-space-0)
        )
    )}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--dialog-surface-margin-top:var(--ha-space-0);--mdc-dialog-min-height:100vh;--mdc-dialog-min-height:100svh;--mdc-dialog-max-height:100vh;--mdc-dialog-max-height:100svh}}`)),f=(0,o.AH)(c||(c=d`.ha-scrollbar::-webkit-scrollbar{width:.4rem;height:.4rem}.ha-scrollbar::-webkit-scrollbar-thumb{border-radius:var(--ha-border-radius-sm);background:var(--scrollbar-thumb-color)}.ha-scrollbar{overflow-y:auto;scrollbar-color:var(--scrollbar-thumb-color) transparent;scrollbar-width:thin}`));(0,o.AH)(l||(l=d`body{background-color:var(--primary-background-color);color:var(--primary-text-color);height:calc(100vh - 32px);width:100vw}`))},44144:function(t,e,a){a.d(e,{MR:function(){return o},QR:function(){return r},a_:function(){return i},bg:function(){return n}});a(28706),a(11392);var o=function(t){return"https://brands.home-assistant.io/".concat(t.brand?"brands/":"").concat(t.useFallback?"_/":"").concat(t.domain,"/").concat(t.darkOptimized?"dark_":"").concat(t.type,".png")},r=function(t){return"https://brands.home-assistant.io/hardware/".concat(t.category,"/").concat(t.darkOptimized?"dark_":"").concat(t.manufacturer).concat(t.model?"_".concat(t.model):"",".png")},i=function(t){return t.split("/")[4]},n=function(t){return t.startsWith("https://brands.home-assistant.io/")}},33668:function(t,e,a){a.d(e,{h:function(){return i},R:function(){return r}});var o=a(37177),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=document.createElement("a");a.target="_blank",a.href=t,a.download=e,a.style.display="none",document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),document.body.removeChild(a)},i=function(t){var e;return!function(t){return!!t.auth.external&&o.n}(t)||!(null===(e=t.auth.external)||void 0===e||!e.config.downloadFileSupported)}},37177:function(t,e,a){a.d(e,{n:function(){return o}});a(27495),a(90906);var o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=83746.2253ddfa65f09579.js.map