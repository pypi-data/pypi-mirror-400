[project]
name = "mnemosynecore"
version = "0.1.2"
description = "Internal analytics toolkit for data pipelines"
requires-python = ">=3.10"

# Основные зависимости ядра
dependencies = [
    "sqlalchemy>=2.0",        # для core функций
    "vertica-python>=1.3",
    "pandas>=2.0",
    "mattermostdriver>=2.0",
    "requests>=2.30",
    "python-dotenv>=1.2.1",
]

# Опциональные зависимости для Airflow
[project.optional-dependencies]
airflow = [
    "apache-airflow>=3.0,<3.1",                   # Airflow 3.x, но SQLAlchemy <2.0
    "apache-airflow-providers-postgres>=5.0",
    "apache-airflow-providers-vertica>=2.0",
    "sqlalchemy<2.0",                             # ограничение для совместимости с Airflow
]

[build-system]
requires = ["setuptools>=65.5.0", "wheel"]
build-backend = "setuptools.build_meta"