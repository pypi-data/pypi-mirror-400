from django.apps import AppConfig
from django.conf import settings


def get_setting(name: str, default=None):
    config = getattr(settings, "DJANGO_COMPONENTS_BOOTSTRAP", {})
    return config.get(name, default)


class DjangoComponentsBootstrapConfig(AppConfig):
    default_auto_field = "django.db.models.BigAutoField"
    name = "django_components_bootstrap"

    def ready(self):
        if not get_setting("AUTO_REGISTER", True):
            return

        from django_components import registry

        from django_components_bootstrap.components.bootstrap5 import (
            Accordion,
            AccordionBody,
            AccordionButton,
            AccordionHeader,
            AccordionItem,
            Alert,
            AlertHeading,
            AlertLink,
            Badge,
            Breadcrumb,
            BreadcrumbItem,
            Button,
            ButtonGroup,
            ButtonToolbar,
            Card,
            CardBody,
            CardFooter,
            CardGroup,
            CardHeader,
            CardImg,
            CardImgOverlay,
            CardLink,
            CardSubtitle,
            CardText,
            CardTitle,
            Carousel,
            CarouselCaption,
            CarouselIndicator,
            CarouselItem,
            CarouselRenderer,
            CloseButton,
            Col,
            Collapse,
            CollapseToggle,
            Container,
            Dropdown,
            DropdownButton,
            DropdownDivider,
            DropdownHeader,
            DropdownItem,
            DropdownItemText,
            DropdownMenu,
            DropdownToggle,
            Figure,
            FigureCaption,
            FigureImage,
            FloatingLabel,
            Form,
            FormCheck,
            FormCheckInput,
            FormCheckLabel,
            FormControl,
            FormFloating,
            FormGroup,
            FormLabel,
            FormRange,
            FormSelect,
            FormText,
            FormTextarea,
            Image,
            InputGroup,
            InputGroupCheckbox,
            InputGroupRadio,
            InputGroupText,
            ListGroup,
            ListGroupItem,
            Modal,
            ModalBody,
            ModalFooter,
            ModalHeader,
            ModalTitle,
            ModalToggle,
            Nav,
            Navbar,
            NavbarBrand,
            NavbarCollapse,
            NavbarNav,
            NavbarText,
            NavbarToggler,
            NavDropdown,
            NavItem,
            NavLink,
            Offcanvas,
            OffcanvasBody,
            OffcanvasHeader,
            OffcanvasTitle,
            OffcanvasToggle,
            PageLink,
            Pagination,
            PaginationEllipsis,
            PaginationFirst,
            PaginationItem,
            PaginationLast,
            PaginationNext,
            PaginationPrev,
            Placeholder,
            PlaceholderButton,
            Popover,
            Progress,
            ProgressBar,
            ProgressStacked,
            Row,
            Spinner,
            SplitButton,
            Stack,
            Tab,
            TabContainer,
            TabContent,
            Table,
            TabPane,
            Tabs,
            TabsRenderer,
            Toast,
            ToastBody,
            ToastContainer,
            ToastHeader,
            ToggleButton,
            ToggleButtonGroup,
            Tooltip,
        )

        components = [
            Accordion,
            AccordionItem,
            AccordionButton,
            AccordionHeader,
            AccordionBody,
            Alert,
            AlertLink,
            AlertHeading,
            Badge,
            Breadcrumb,
            BreadcrumbItem,
            Button,
            ButtonGroup,
            ButtonToolbar,
            Card,
            CardHeader,
            CardBody,
            CardFooter,
            CardTitle,
            CardSubtitle,
            CardText,
            CardLink,
            CardImg,
            CardImgOverlay,
            CardGroup,
            Carousel,
            CarouselRenderer,
            CarouselItem,
            CarouselCaption,
            CarouselIndicator,
            CloseButton,
            Collapse,
            CollapseToggle,
            Dropdown,
            DropdownToggle,
            DropdownMenu,
            DropdownItem,
            DropdownDivider,
            DropdownHeader,
            DropdownItemText,
            DropdownButton,
            SplitButton,
            Figure,
            FigureImage,
            FigureCaption,
            Form,
            FormGroup,
            FormLabel,
            FormControl,
            FormTextarea,
            FormSelect,
            FormCheckInput,
            FormCheckLabel,
            FormCheck,
            FormText,
            FormFloating,
            FormRange,
            Image,
            InputGroup,
            InputGroupText,
            InputGroupRadio,
            InputGroupCheckbox,
            FloatingLabel,
            Container,
            Row,
            Col,
            ListGroup,
            ListGroupItem,
            Modal,
            ModalHeader,
            ModalBody,
            ModalFooter,
            ModalTitle,
            ModalToggle,
            Nav,
            NavItem,
            NavLink,
            NavDropdown,
            Navbar,
            NavbarBrand,
            NavbarToggler,
            NavbarCollapse,
            NavbarNav,
            NavbarText,
            Offcanvas,
            OffcanvasHeader,
            OffcanvasBody,
            OffcanvasTitle,
            OffcanvasToggle,
            Pagination,
            PaginationItem,
            PageLink,
            PaginationFirst,
            PaginationPrev,
            PaginationNext,
            PaginationLast,
            PaginationEllipsis,
            Placeholder,
            PlaceholderButton,
            Popover,
            Progress,
            ProgressStacked,
            ProgressBar,
            Spinner,
            Stack,
            Table,
            TabContainer,
            TabContent,
            TabPane,
            TabsRenderer,
            Tabs,
            Tab,
            ToastContainer,
            Toast,
            ToastHeader,
            ToastBody,
            ToggleButtonGroup,
            ToggleButton,
            Tooltip,
        ]

        for component in components:
            registry.register(component.__name__, component)
