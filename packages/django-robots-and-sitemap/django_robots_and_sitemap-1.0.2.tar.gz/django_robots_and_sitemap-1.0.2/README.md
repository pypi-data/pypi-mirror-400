# Django Robots and Sitemap
–ü—Ä–æ—Å—Ç–æ–µ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ `robots.txt` –∏ `sitemap.xml` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Sitemap –≤ robots.txt.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- üìÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ robots.txt –∏ sitemap.xml
- üîó –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ Sitemap –≤ robots.txt (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django
- üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –æ—Ç–¥–∞—á–µ–π (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω)
- üì¶ –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- üêç –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Python 3.6+
- üéØ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Django 2.2+

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```shell
pip install django-robots-and-sitemap
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
#### 1. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ `INSTALLED_APPS`:
```python
# settings.py
INSTALLED_APPS = [
    # ...
    'robots_and_sitemap',
    # ...
]
```

#### 2. –î–æ–±–∞–≤—å—Ç–µ URL-–º–∞—Ä—à—Ä—É—Ç—ã –≤ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π `urls.py`:
```python
# urls.py
from django.urls import path, include

urlpatterns = [
    # ...
    path('', include('robots_and_sitemap.urls')),
    # ...
]
```

#### 3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
    - `robots.txt` - –¥–ª—è –ø—Ä–∞–≤–∏–ª robots.txt
    - `sitemap.xml` - –¥–ª—è –∫–∞—Ä—Ç—ã —Å–∞–π—Ç–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—â–µ—Ç —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Django –ø—Ä–æ–µ–∫—Ç–∞ (`BASE_DIR`):
- `robots.txt` - –ø–æ –ø—É—Ç–∏ `BASE_DIR/robots.txt`
- `sitemap.xml` - –ø–æ –ø—É—Ç–∏ `BASE_DIR/sitemap.xml`

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ `Sitemap:` –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –≤ `robots.txt` –∏ –¥–æ–±–∞–≤–∏—Ç –µ—ë –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º
–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django:

```python
# settings.py
import os
from pathlib import Path

# –£–∫–∞–∂–∏—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏
ROBOTS_PATH = Path('/absolute/path/to/your/robots.txt')
# –∏–ª–∏
ROBOTS_PATH = BASE_DIR / 'static' / 'robots.txt'
# –∏–ª–∏
ROBOTS_PATH = os.path.join(BASE_DIR, 'custom_folder', 'robots.txt')

SITEMAP_PATH = BASE_DIR / 'static' / 'sitemap.xml'
```

### –ü—Ä–∏–º–µ—Ä robots.txt
```ini
# robots.txt
User-agent: *
Allow: /

# Sitemap –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
```

### –ü—Ä–∏–º–µ—Ä sitemap.xml
```xml
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <url>
    <loc>https://example.com/</loc>
    <lastmod>2024-01-01</lastmod>
    <changefreq>monthly</changefreq>
    <priority>1.0</priority>
  </url>
</urlset>
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**  |     **–¢–∏–ø**      |      **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**      |       **–û–ø–∏—Å–∞–Ω–∏–µ**       |
|:--------------:|:----------------:|:--------------------------:|:------------------------:|
| `ROBOTS_PATH`  | `Path` –∏–ª–∏ `str` | `BASE_DIR / 'robots.txt'`  | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É robots.txt  |
| `SITEMAP_PATH` | `Path` –∏–ª–∏ `str` | `BASE_DIR / 'sitemap.xml'` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É sitemap.xml |

## API
### URL-–º–∞—Ä—à—Ä—É—Ç—ã
- `/robots.txt` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ robots.txt
- `/sitemap.xml` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ sitemap.xml

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `file_exists`
```python
from robots_and_sitemap.decorators import file_exists
from pathlib import Path

@file_exists(Path('/path/to/file.txt'))
def my_view(request):
    # –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    pass
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ï—Å–ª–∏ —Ñ–∞–π–ª robots.txt –∏–ª–∏ sitemap.xml –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—É—Ç–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è HTTP 404
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ Sitemap –≤ robots.txt –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
  1. –í robots.txt –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–æ–∫–∞ —Å "Sitemap"
  2. –§–∞–π–ª sitemap.xml —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.6+
- Django 2.2+
- requests 2.0+ (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Sitemap)

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```shell
git clone https://github.com/MagIlyasDOMA/django-robots-and-sitemap.git
cd django-robots-and-sitemap
pip install -e .
```

## –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License. –°–º. —Ñ–∞–π–ª [LICENSE](https://github.com/MagIlyasDOMA/django-robots-and-sitemap/blob/main/LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## –ê–≤—Ç–æ—Ä
#### –ú–∞–≥ –ò–ª—å—è—Å DOMA (MagIlyasDOMA)
- Email: magilyas.doma.09@list.ru
- GitHub: [MagIlyasDOMA](https://github.com/MagIlyasDOMA)

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç
–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –ø—É–ª-—Ä–µ–∫–≤–µ—Å—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –Ω–∞ GitHub –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –±–æ–ª—å—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã robots.txt –∏ sitemap.xml —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø—É—Ç—è–º
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ROBOTS_PATH –∏ SITEMAP_PATH —É–∫–∞–∑–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
4. –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ [GitHub](https://github.com/MagIlyasDOMA/django-robots-and-sitemap/issues)

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç sitemap.xml –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –û–Ω–æ —Ç–æ–ª—å–∫–æ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã. –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ sitemap –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Django-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ sitemaps –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
