{% extends "base.html" %}

{% block title %}Comment Configuration{% endblock %}

{% block content %}
<h1>Comment Configuration</h1>

<p class="warning">Note: Changes here are runtime-only. For persistent configuration, update your .env file.</p>

<form method="POST">
    <div class="form-group">
        <label>
            <input type="checkbox" name="comments_enabled" {% if config.comments_enabled %}checked{% endif %}>
            Enable comments globally
        </label>
    </div>

    <div class="form-group">
        <label>
            <input type="checkbox" name="require_login" {% if config.require_login %}checked{% endif %}>
            Require login to comment
        </label>
    </div>

    <div class="form-group">
        <label>
            <input type="checkbox" name="allow_threading" {% if config.allow_threading %}checked{% endif %}>
            Allow comment threading (replies)
        </label>
    </div>

    <h3>Read-Only Settings</h3>
    <p>Comments per page: {{ config.comments_per_page }}</p>
    <p>Max comment length: {{ config.comment_max_length }} characters</p>
    <p>Max thread depth: {{ config.max_thread_depth }}</p>

    <br>
    <button type="submit" class="btn btn-primary">Save (Runtime Only)</button>
    <a href="{{ url_for('comments.moderation_queue') }}">Cancel</a>
</form>

{% endblock %}
