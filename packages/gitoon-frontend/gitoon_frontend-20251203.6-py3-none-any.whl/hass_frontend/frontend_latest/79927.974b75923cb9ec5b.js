export const __webpack_id__="79927";export const __webpack_ids__=["79927"];export const __webpack_modules__={7466:function(e,t,a){a.a(e,async function(e,s){try{a.r(t),a.d(t,{CloudForgotPasswordCard:()=>p});var r=a(62826),i=a(96196),o=a(44457),n=a(1087),l=a(89300),d=(a(38962),a(76776),a(75709),a(14503)),c=a(71117),h=a(79007),_=e([l]);l=(_.then?(await _)():_)[0];class p extends i.WF{render(){return this.cardLess?this._renderContent():i.qy` <ha-card outlined .header="${this.localize(`ui.panel.${this.translationKeyPanel}.subtitle`)}"> ${this._renderContent()} </ha-card> `}_renderContent(){return i.qy` <div class="card-content"> <p> ${this.localize(`ui.panel.${this.translationKeyPanel}.instructions`)} </p> ${this._error?i.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:i.s6} <ha-textfield autofocus id="email" label="${this.localize(`ui.panel.${this.translationKeyPanel}.email`)}" .value="${this.email??""}" type="email" required .disabled="${this._inProgress}" @keydown="${this._keyDown}" .validationMessage="${this.localize(`ui.panel.${this.translationKeyPanel}.email_error_msg`)}"></ha-textfield> </div> <div class="card-actions"> <ha-progress-button @click="${this._handleEmailPasswordReset}" .progress="${this._inProgress}"> ${this.localize(`ui.panel.${this.translationKeyPanel}.send_reset_email`)} </ha-progress-button> </div> `}_keyDown(e){"Enter"===e.key&&this._handleEmailPasswordReset()}async _handleEmailPasswordReset(){const e=this.emailField,t=e.value;e.reportValidity()?(this._inProgress=!0,this._resetPassword(t)):e.focus()}static get styles(){return[d.RF,i.AH`ha-card{max-width:600px;margin:0 auto;margin-top:24px}h1{margin:0}ha-textfield{width:100%}.card-actions{display:flex;justify-content:flex-end;align-items:center}`]}constructor(...e){super(...e),this.translationKeyPanel="config.cloud.forgot_password",this.cardLess=!1,this._inProgress=!1,this._resetPassword=async e=>{this._inProgress=!0;try{this.hass?await(0,c.Ut)(this.hass,e):await(0,h.zN)(e),(0,n.r)(this,"cloud-email-changed",{value:e}),this._inProgress=!1,(0,n.r)(this,"cloud-done",{flashMessage:this.localize(`ui.panel.${this.translationKeyPanel}.check_your_email`)})}catch(t){this._inProgress=!1;"usernotfound"===(t&&t.body&&t.body.code)&&e!==e.toLowerCase()?await this._resetPassword(e.toLowerCase()):this._error=t&&t.body&&t.body.message?t.body.message:"Unknown error"}}}}(0,r.__decorate)([(0,o.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,r.__decorate)([(0,o.MZ)({attribute:!1})],p.prototype,"localize",void 0),(0,r.__decorate)([(0,o.MZ)({attribute:"translation-key-panel"})],p.prototype,"translationKeyPanel",void 0),(0,r.__decorate)([(0,o.MZ)()],p.prototype,"email",void 0),(0,r.__decorate)([(0,o.MZ)({type:Boolean,attribute:"card-less"})],p.prototype,"cardLess",void 0),(0,r.__decorate)([(0,o.wk)()],p.prototype,"_inProgress",void 0),(0,r.__decorate)([(0,o.wk)()],p.prototype,"_error",void 0),(0,r.__decorate)([(0,o.P)("#email",!0)],p.prototype,"emailField",void 0),p=(0,r.__decorate)([(0,o.EM)("cloud-forgot-password-card")],p),s()}catch(e){s(e)}})}};
//# sourceMappingURL=79927.974b75923cb9ec5b.js.map