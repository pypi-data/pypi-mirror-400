[package]
name = "circle-of-confusion"
version = "0.2.7"
edition = "2024"
license = "EUPL-1.2"
authors = ["Gilles Vink <gillesvink@noreply.codeberg.org>"]
description = "Calculator for Circle of Confusion (CoC) to calculate the size in pixels of an area, used for depth of field processing"
repository = "https://codeberg.org/gillesvink/circle-of-confusion"
documentation = "https://docs.rs/circle-of-confusion"
keywords = ["coc", "camera", "photography", "physically"]
categories = ["algorithms", "mathematics", "no-std", "wasm"]

[lib]
name = "circle_of_confusion"
crate-type = ["cdylib", "rlib"]


[features]
default = ["std"]
std = []
wasm-bindings = []
serde = ["dep:serde"]
documented = ["dep:documented"]
protobuf-vendored = ["dep:protobuf-src"]

[dependencies]
libm = ">=0.2.11, < 0.3"
prost = { version = ">=0.14, < 0.15" }
prost-types = { version = ">=0.14, < 0.15"}
serde = { version = ">=1.0, < 1.1", features = ["derive"], optional = true}
documented = {version = "0.9", optional = true}

[dev-dependencies]
rstest = "0.25.0"
serde_json = "1.0.145"
approx = "0.5.1"

[build-dependencies]
prost-build = "0.14.1"
protobuf-src = { version = "2", optional = true}

[profile.release]
lto = true
