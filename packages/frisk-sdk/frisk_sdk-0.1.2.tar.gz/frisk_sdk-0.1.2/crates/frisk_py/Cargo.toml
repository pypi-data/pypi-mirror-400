[package]
name = "frisk_py"
version = "0.1.0"
edition = "2021"

[lib]
name = "_core"          # the extension module name
path = "rust/lib.rs"
crate-type = ["cdylib"]

[dependencies]
frisk_core = { path = "../frisk_core" }
pyo3 = { version = "0.27", features = ["abi3-py312", "auto-initialize"] }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
once_cell = "1"
tokio = { version = "1", features = ["rt-multi-thread", "macros"] }

# Opentelemetry
opentelemetry = {version=  "0.31", features = ["metrics"]}
opentelemetry_sdk = { version = "0.31", features = ["rt-tokio", "metrics"] }
opentelemetry-otlp = { version = "0.31", features = ["trace", "metrics", "grpc-tonic"] } # OTLP exporter over gRPC using tonic
tracing = "0.1"
tonic = { version = "0.14.2" }
tracing-opentelemetry = "0.32"

[features]
extension-module = ["pyo3/extension-module"] # This feature turns on the special linking config for Python extension modules
default = ["extension-module"] # Make it default so normal builds / maturin see it


