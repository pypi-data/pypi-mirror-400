<!DOCTYPE html>
<html>
  <head>
    <title>Taskflows - Create Environment</title>
    <link href="/static/main.css" rel="stylesheet">
    <link href="/static/main.css" rel="stylesheet">
    <script src="/static/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/preline@2.0.3/dist/preline.min.js"></script>
  </head>
  <body>
    <div class="" data-component="sidebar_layout" id="4">
      <div class="sticky top-0 inset-x-0 z-20 bg-white border-y border-gray-200 px-4 sm:px-6 lg:px-8 lg:hidden dark:bg-neutral-800 dark:border-neutral-700">
        <div class="flex items-center py-2">
          <button aria-controls="hs-sidebar-4" aria-expanded="false" aria-haspopup="dialog" aria-label="Toggle navigation" class="size-8 flex justify-center items-center gap-x-2 border border-gray-200 text-gray-800 hover:text-gray-500 rounded-lg focus:outline-hidden focus:text-gray-500 disabled:opacity-50 disabled:pointer-events-none dark:border-neutral-700 dark:text-neutral-200 dark:hover:text-neutral-500 dark:focus:text-neutral-500" data-hs-overlay="#hs-sidebar-4" type="button">
            <span class="sr-only">Toggle Navigation</span><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M15 3v18"/><path d="m8 9 3 3-3 3"/></svg>
          </button>
          <ol class="ms-3 flex items-center whitespace-nowrap">
            <li class="flex items-center text-sm text-gray-800 dark:text-neutral-400">
              <span>Environments</span><svg class="shrink-0 mx-3 overflow-visible size-2.5 text-gray-400 dark:text-neutral-500" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 1L10.6869 7.16086C10.8637 7.35239 10.8637 7.64761 10.6869 7.83914L5 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </li>
            <li aria-current="page" class="text-sm font-semibold text-gray-800 truncate dark:text-neutral-400">Create Environment</li>
          </ol>
        </div>
      </div>
      <div aria-label="Sidebar" class="hs-overlay [--auto-close:lg]
            hs-overlay-open:translate-x-0
            -translate-x-full transition-all duration-300 transform
            w-65 h-full
            hidden
            fixed inset-y-0 start-0 z-60
            bg-electric-blue
            lg:block lg:translate-x-0 lg:end-auto lg:bottom-0
            dark:bg-neutral-800 dark:border-neutral-700" id="hs-sidebar-4" role="dialog" tabindex="-1">
        <div class="relative flex flex-col h-full max-h-full">
          <div class="px-8 pt-4">
            <a aria-label="Taskflows" class="flex-none rounded-xl text-xl inline-block font-semibold focus:outline-hidden focus:opacity-80" href="/"><span class="text-2xl font-bold text-white">Taskflows</span></a>
          </div>
          <div class="h-full overflow-y-auto [&amp;::-webkit-scrollbar]:w-2 [&amp;::-webkit-scrollbar-thumb]:rounded-full [&amp;::-webkit-scrollbar-track]:bg-gray-100 [&amp;::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&amp;::-webkit-scrollbar-track]:bg-neutral-700 dark:[&amp;::-webkit-scrollbar-thumb]:bg-neutral-500">
            <nav class="hs-accordion-group p-3 w-full flex flex-col flex-wrap" data-hs-accordion-always-open="">
              <ul class="flex flex-col space-y-1">
                <li>
                  <a class="w-full flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-white rounded-lg hover:bg-white/10 focus:outline-hidden focus:bg-white/10 dark:bg-neutral-800 dark:text-neutral-400 dark:hover:text-neutral-300 dark:focus:text-neutral-300" href="/"><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                    <span>Dashboard</span>
                  </a>
                </li>
                <li>
                  <a class="w-full flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-white rounded-lg hover:bg-white/10 focus:outline-hidden focus:bg-white/10 dark:bg-neutral-800 dark:text-neutral-400 dark:hover:text-neutral-300 dark:focus:text-neutral-300" href="/logs"><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                    <span>Logs</span>
                  </a>
                </li>
                <li>
                  <a class="w-full flex items-center gap-x-3.5 py-2 px-2.5 bg-white/10 text-sm text-white rounded-lg hover:bg-white/10 focus:outline-hidden focus:bg-white/10 dark:bg-neutral-700 dark:text-white" href="/environments"><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
                    <span>Environments</span>
                  </a>
                </li>
                <li>
                  <a class="w-full flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-white rounded-lg hover:bg-white/10 focus:outline-hidden focus:bg-white/10 dark:bg-neutral-800 dark:text-neutral-400 dark:hover:text-neutral-300 dark:focus:text-neutral-300" href="#"><svg class="shrink-0 mt-0.5 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="15" r="3"/><circle cx="9" cy="7" r="4"/><path d="M10 15H6a4 4 0 0 0-4 4v2"/><path d="m21.7 16.4-.9-.3"/><path d="m15.2 13.9-.9-.3"/><path d="m16.6 18.7.3-.9"/><path d="m19.1 12.2.3-.9"/><path d="m19.6 18.7-.4-1"/><path d="m16.8 12.3-.4-1"/><path d="m14.3 16.6 1-.4"/><path d="m20.7 13.8 1-.4"/></svg>
                    <span>Logout</span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
      <div class="w-full pt-10 px-4 sm:px-6 md:px-8 lg:ps-72" id="4-content">
        <div class="mb-6">
          <h1 class="text-3xl font-bold text-gray-800">Create Environment</h1>
          <p class="text-gray-600 mt-2">Configure environment settings</p>
        </div>
        <div class="w-full max-w-2xl mx-auto" data-component="environment_form" id="5">
          <form class="space-y-6 bg-white p-6 rounded-lg shadow-md" id="env-form">
            <div>
              <label class="block text-sm font-medium mb-2 text-gray-700" for="env-name">Environment Name</label>
              <input class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-electric-blue" id="env-name" name="name" placeholder="my-environment" required="required" type="text">
            </div>
            <div>
              <label class="block text-sm font-medium mb-2 text-gray-700">Environment Type</label>
              <div class="flex gap-4">
                <label class="flex items-center">
                  <input checked="checked" class="mr-2" id="type-venv" name="type" onchange="toggleTypeFields('venv')" type="radio" value="venv">
                  <span>Virtual Environment (venv)</span>
                </label>
                <label class="flex items-center">
                  <input class="mr-2" id="type-docker" name="type" onchange="toggleTypeFields('docker')" type="radio" value="docker">
                  <span>Docker Container</span>
                </label>
              </div>
            </div>
            <div class="space-y-4" id="venv-fields">
              <div>
                <label class="block text-sm font-medium mb-2 text-gray-700" for="venv-name">Venv Name</label>
                <input class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-electric-blue" id="venv-name" name="venv_name" placeholder="my-venv" type="text">
              </div>
            </div>
            <div class="hidden space-y-4" id="docker-fields">
              <div>
                <label class="block text-sm font-medium mb-2 text-gray-700" for="docker-image">Docker Image</label>
                <input class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-electric-blue" id="docker-image" name="docker_image" placeholder="python:3.11" type="text">
              </div>
              <div>
                <label class="block text-sm font-medium mb-2 text-gray-700">Docker Volumes (host:container)</label>
                <div class="space-y-2" id="docker-volumes"></div>
                <button class="btn btn-secondary text-sm" onclick="addVolumeField()" type="button">+ Add Volume</button>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2 text-gray-700">Environment Variables</label>
              <div class="space-y-2" id="env-vars"></div>
              <button class="btn btn-secondary text-sm" onclick="addEnvVarField()" type="button">+ Add Variable</button>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2 text-gray-700" for="env-description">Description (optional)</label>
              <textarea class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-electric-blue" id="env-description" name="description" placeholder="Describe this environment..." rows="3"></textarea>
            </div>
            <input id="env-original-name" type="hidden" value="">
            <div class="flex gap-4 justify-end pt-4">
              <button class="btn btn-secondary" onclick="window.location.href='/environments'" type="button">Cancel</button>
              <button class="btn btn-primary" type="submit">Save Environment</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>