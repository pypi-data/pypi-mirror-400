{"version":3,"file":"use-local-storage-BIDUVcfc.js","sources":["../../src/hooks/use-local-storage.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\n/**\n *\n * @param key local storage key\n * @param initialValue initial value of stored state\n * @returns a hook to synchronize state with local storage\n *\n * @example\n * ```ts\n * function MyComponent() {\n *   const [name, setName] = useLocalStorage<string>('name', '');\n *   return (\n *     <div>\n *       <input type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n *       <p>Hello, {name}!</p>\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useLocalStorage<T>(\n\tkey: string,\n\tinitialValue: T,\n): [T, (value: T | ((prevValue: T) => T)) => void] {\n\tconst [storedValue, setStoredValue] = useState<T>(() => {\n\t\tif (typeof window !== \"undefined\") {\n\t\t\ttry {\n\t\t\t\tconst item = localStorage.getItem(key);\n\t\t\t\treturn item ? (JSON.parse(item) as T) : initialValue;\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t\treturn initialValue;\n\t\t\t}\n\t\t} else {\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (typeof window !== \"undefined\") {\n\t\t\tlocalStorage.setItem(key, JSON.stringify(storedValue));\n\t\t}\n\t}, [key, storedValue]);\n\n\treturn [storedValue, setStoredValue];\n}\n"],"names":["useLocalStorage","key","initialValue","storedValue","setStoredValue","useState","item","error","useEffect"],"mappings":"kDAqBO,SAASA,EACfC,EACAC,EACkD,CAClD,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAY,IAAM,CACvD,GAAI,OAAO,OAAW,IACrB,GAAI,CACH,MAAMC,EAAO,aAAa,QAAQL,CAAG,EACrC,OAAOK,EAAQ,KAAK,MAAMA,CAAI,EAAUJ,CACzC,OAASK,EAAO,CACf,eAAQ,IAAIA,CAAK,EACVL,CACR,KAEA,QAAOA,CAET,CAAC,EAEDM,OAAAA,EAAAA,UAAU,IAAM,CACX,OAAO,OAAW,KACrB,aAAa,QAAQP,EAAK,KAAK,UAAUE,CAAW,CAAC,CAEvD,EAAG,CAACF,EAAKE,CAAW,CAAC,EAEd,CAACA,EAAaC,CAAc,CACpC"}