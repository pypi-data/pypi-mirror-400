"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3856],{91234:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(24965),i=t(75271),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},o=t(52009),l=function(e,n){return i.createElement(o.Z,(0,r.Z)({},e,{ref:n,icon:a}))};var s=i.forwardRef(l)},44655:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(24965),i=t(75271),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},o=t(52009),l=function(e,n){return i.createElement(o.Z,(0,r.Z)({},e,{ref:n,icon:a}))};var s=i.forwardRef(l)},73963:function(e,n,t){var r=t(26068),i=t.n(r),a=t(27722),o=t(25466),l=t(75271),s=t(52676),c=function(e){var n=e.message,t=e.type,r=e.rows,l=void 0===r?1:r,c=e.ellipsis,u=e.style;return(0,s.jsx)(s.Fragment,{children:n?(0,s.jsxs)(o.Z.Paragraph,{type:t,ellipsis:void 0!==c?c:{rows:l,tooltip:n},style:i()({fontWeight:400,whiteSpace:"pre-line",textAlign:"center",padding:"2px 5px",borderRadius:"var(--border-radius-base)",margin:0,backgroundColor:"var(--ant-color-error-bg)"},u),children:[(0,s.jsx)(a.Z,{className:"m-r-8"}),n]}):null})};n.Z=l.memo(c)},85882:function(e,n,t){var r,i=t(26068),a=t.n(i),o=t(48305),l=t.n(o),s=t(67825),c=t.n(s),u=t(53649),d=t.n(u),f=t(15409),p=t(68652),m=t(32699),h=t(75271),x=t(67585),v=t(3453),g=t(52676),b=["children","maxWidth","minWidth","ghost","title","showTitle","tooltipProps","radius","filled"],y=(0,x.ZP)(p.Z)(r||(r=d()(["\n  margin: 0;\n  &.tag-filled {\n    border: none;\n    background-color: var(--ant-color-fill-secondary);\n  }\n"]))),j=function(e){var n=e.children,t=e.maxWidth,r=void 0===t?"100%":t,i=e.minWidth,o=e.ghost,s=void 0!==o&&o,u=e.title,d=e.showTitle,p=void 0!==d&&d,x=e.tooltipProps,j=e.radius,w=void 0===j?12:j,C=e.filled,Z=void 0!==C&&C,N=c()(e,b),k=(0,h.useRef)(null),R=(0,h.useState)(!1),S=l()(R,2),z=S[0],M=S[1],T=(0,h.useRef)(null),P=(0,h.useCallback)((function(){if(k.current){var e=k.current,n=e.scrollWidth,t=e.clientWidth;M(n>t)}}),[k.current]);(0,h.useEffect)((function(){var e,n,t=k.current;if(t)return null===(e=T.current)||void 0===e||e.disconnect(),T.current=new ResizeObserver((function(){P()})),null===(n=T.current)||void 0===n||n.observe(t),P(),function(){var e;null===(e=T.current)||void 0===e||e.disconnect(),T.current=null}}),[P]),(0,h.useEffect)((function(){var e=(0,m.throttle)(P,200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),e.cancel()}}),[P]),(0,h.useEffect)((function(){P()}),[n,P]);var L=(0,h.useMemo)((function(){return a()({maxWidth:r,minWidth:i,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},N.style)}),[r,N.style]);return(0,g.jsx)(v.$R,{toolTipProps:a()(a()({},x),{},{destroyOnHidden:!1}),title:!(!z&&!p)&&(u||n),children:s?(0,g.jsx)("div",{ref:k,style:L,"data-overflow":z,children:n}):(0,g.jsx)(y,a()(a()({},N),{},{className:"".concat(N.className||""," ").concat(Z?"tag-filled":""),ref:k,style:a()({paddingInline:N.closable?"8px 22px":8,borderRadius:w},L),closeIcon:!!N.closable&&(0,g.jsx)(f.Z,{style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"}}),children:n}))})};n.Z=h.memo(j)},82487:function(e,n,t){var r=t(32699),i=t.n(r),a=t(75271),o=t(6745),l=t(52676),s=(0,a.forwardRef)((function(e,n){var t=e.options,s=e.width,c=e.height,u=e.chartHeight,d=(0,a.useRef)(null),f=(0,a.useRef)(),p=(0,a.useRef)(!1),m=(0,a.useRef)(),h=(0,a.useRef)(!1);(0,a.useImperativeHandle)(n,(function(){return{chart:f.current}}));return(0,a.useEffect)((function(){var e,n,t=function(){var e;if(f.current&&!h.current){var n=f.current,t=null===(e=n.getOption())||void 0===e?void 0:e.yAxis;if(t&&Array.isArray(t)&&!(t.length<2)){var r=n.getModel(),a=[r.getComponent("yAxis",0),r.getComponent("yAxis",1)];if(a[0]&&a[1]){var o=a.map((function(e){return e.axis})),l=o.map((function(e){return e.scale.getInterval()})),s=o.map((function(e){return e.scale.getTicks()})).map((function(e){return e.length})),c=Math.max(s[0],s[1]),u=l[0]*(c-1),d=l[1]*(c-1);if(s[0]!==s[1]){var p=[{},{}];s[0]<c&&(p[0].max=i().round(u,2),p[0].interval=l[0],p[0].splitNumber=c),s[1]<c&&(p[1].max=i().round(d,2),p[1].interval=l[1],p[1].splitNumber=c),h.current=!0,n.setOption({yAxis:p})}}}}};d.current&&(d.current&&(null===(n=f.current)||void 0===n||n.clear(),f.current=o.Z.init(d.current)),null===(e=f.current)||void 0===e||e.on("finished",t));return function(){var e,n;null===(e=f.current)||void 0===e||e.off("finished",t),null===(n=f.current)||void 0===n||n.dispose()}}),[]),(0,a.useEffect)((function(){p.current=!1,h.current=!1,function(e){var n,t,r;f.current&&(null===(n=f.current)||void 0===n||n.clear(),null===(t=f.current)||void 0===t||t.setOption(e,{notMerge:!0,lazyUpdate:!0}),Array.isArray(e.yAxis)&&e.yAxis.length>1&&(null===(r=f.current)||void 0===r||r.resize()))}(t),p.current=!0}),[t]),(0,a.useEffect)((function(){var e=(0,r.throttle)((function(){var e;p.current&&(null===(e=f.current)||void 0===e||e.resize())}),100);return d.current&&(m.current=new ResizeObserver(e),m.current.observe(d.current)),function(){var e;null===(e=m.current)||void 0===e||e.disconnect(),m.current=void 0}}),[]),(0,l.jsx)("div",{className:"chart-wrapper",style:{width:s,height:c},children:(0,l.jsx)("div",{ref:d,style:{width:s,height:u||c}})})}));n.Z=s},90064:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(92900),i=t(48075),a=t(54246),o=t(32699),l=t(75271),s={left:0,right:0,bottom:20,containLabel:!0};function c(){var e=(0,r.Z)(),n=e.userSettings,t=e.isDarkTheme,c=(0,a.Z.useToken)().token,u=(0,l.useMemo)((function(){return{titleColor:c.colorText,splitLineColor:c.colorBorder,tickLineColor:c.colorSplit,axislabelColor:c.colorTextTertiary,colorSecondary:c.colorTextSecondary,colorTertiary:c.colorTextTertiary,gaugeBgColor:c.colorFillSecondary,gaugeSplitLineColor:t?"rgba(255,255,255,.3)":"rgba(255, 255, 255, 1)",gaugeSplitLineColor2:t?"rgba(255,255,255,.5)":"rgba(255, 255, 255, 1)",colorBgContainerHover:t?"#424242":"#fff"}}),[n.theme,t]),d={trigger:"axis",backgroundColor:u.colorBgContainerHover,borderColor:"transparent",formatter:function(e,n){var t='<span class="tooltip-x-name">'.concat(e[0].axisValue,"</span>");return e.forEach((function(e){var r=(0,o.isFunction)(n)?null==n?void 0:n(e.data.value):e.data.value,i="bar"===e.seriesType?"2px":"8px";t+='<span class="tooltip-item">\n          <span class="tooltip-item-name">\n            <span style="display:inline-block;margin-right:5px;border-radius:'.concat(i,";width:8px;height:8px;background-color:").concat(e.color,';"></span>\n            <span class="tooltip-title">').concat(e.seriesName,'</span>:\n          </span>\n            <span class="tooltip-value">').concat(r,"</span>\n      </span>")})),'<div class="tooltip-wrapper">'.concat(t,"</div>")}},f={itemWidth:8,itemHeight:8,itemGap:12,textStyle:{color:u.axislabelColor}},p={type:"category",axisTick:{show:!0,lineStyle:{color:u.tickLineColor}},axisLabel:{color:u.axislabelColor,fontSize:12},axisLine:{show:!1}},m={nameTextStyle:{padding:[0,0,0,-20]},splitLine:{show:!0,lineStyle:{type:"dashed",color:u.splitLineColor}},axisLabel:{color:u.axislabelColor,fontSize:12,formatter:i.HN},axisTick:{show:!1},type:"value"},h={show:!0,left:"center",textStyle:{fontSize:12,color:u.titleColor},text:""},x={type:"gauge",radius:"88%",center:["50%","65%"],startAngle:190,endAngle:-10,min:0,max:100,splitNumber:5,progress:{show:!0,roundCap:!1,width:12},pointer:{length:"80%",width:4,itemStyle:{color:"auto"}},axisLine:{roundCap:!1,lineStyle:{width:12,color:[[.5,"rgba(84, 204, 152, 80%)"],[.8,"rgba(250, 173, 20, 80%)"],[1,"rgba(255, 77, 79, 80%)"]]}},axisTick:{distance:-11,length:6,splitNumber:5,lineStyle:{width:1.5,color:u.gaugeSplitLineColor}},splitLine:{distance:-5,length:5,lineStyle:{width:1.5,color:u.gaugeSplitLineColor2}},axisLabel:{distance:14,color:u.axislabelColor,fontSize:12},detail:{lineHeight:40,height:40,offsetCenter:[5,30],valueAnimation:!1,fontSize:20,color:u.titleColor,formatter:function(e){return"{value|"+e+"}{unit|%}"},rich:{value:{fontSize:16,fontWeight:500,color:u.titleColor},unit:{fontSize:14,color:u.titleColor,fontWeight:500,padding:[0,0,0,2]}}}};return{token:c,tooltip:d,grid:s,legend:f,xAxis:p,yAxis:m,title:h,chartColorMap:u,barItemConfig:{type:"bar",barMaxWidth:20,barMinWidth:8,barGap:"30%",barCategoryGap:"50%"},lineItemConfig:{type:"line",smooth:!0,showSymbol:!1,itemStyle:{},lineStyle:{width:1.5,opacity:.7}},gaugeItemConfig:x,isDark:t}}},6745:function(e,n,t){var r=t(801),i=t(38811),a=t(74157),o=t(86920),l=t(97775),s=t(37209),c=t(12525),u=t(11819),d=t(61227),f=t(99297),p=t(47627),m=t(925),h=t(22337),x=t(25796),v=t(77204),g=t(77008);m.D([l.N,s.N,c.N,u.N,d.N,f.N,p.N,r.N,i.N,a.N,o.N,x.T,v.z,g.N]),n.Z=h},51461:function(e,n,t){var r=t(65050),i=(t(75271),t(52676));n.Z=function(e){var n=e.height,t=e.title;return(0,i.jsxs)("div",{style:{width:"100%",height:n||"100%"},className:"flex-center  flex-column ",children:[t&&(0,i.jsx)("h3",{className:"justify-center font-size-12",style:{padding:"4px 0",marginBottom:0},children:t}),(0,i.jsx)("div",{className:"flex-center justify-center flex-column",style:{height:"100%"},children:(0,i.jsx)(r.Z,{image:r.Z.PRESENTED_IMAGE_SIMPLE})})]})}},3453:function(e,n,t){t.d(n,{$R:function(){return g},QR:function(){return v}});var r,i=t(67825),a=t.n(i),o=t(26068),l=t.n(o),s=t(53649),c=t.n(s),u=t(2825),d=t(25408),f=t(75271),p=t(67585),m=t(52676),h=["styles"],x=p.ZP.div(r||(r=c()(["\n  max-height: ",";\n  overflow-y: auto;\n  width: 100%;\n"])),(function(e){var n=e.$maxHeight;return"number"==typeof n?"".concat(n,"px"):n})),v=function(e){var n=e.children,t=e.maxHeight,r=e.scrollbars,i=e.oppositeTheme,a=e.style,o=e.onScroll,s=f.useRef(null),c=(0,u.Z)({options:{scrollbars:r,oppositeTheme:i}}).initialize;return f.useEffect((function(){s.current&&c(s.current)}),[]),(0,m.jsx)(x,{ref:s,"data-overlayscrollbars-initialize":!0,className:"overlay-scroller-wrapper",$maxHeight:t||200,hidden:!1,onWheel:o,style:l()({paddingInlineStart:8,paddingInlineEnd:8},a),children:n})},g=function(e){var n=e.children,t=e.maxHeight,r=e.title,i=e.toolTipProps,o=e.scrollbars,s=e.oppositeTheme,c=i||{},u=c.styles,f=a()(c,h);return(0,m.jsx)(d.Z,l()(l()({styles:l()(l()({},u),{},{body:l()({paddingInline:0},null==u?void 0:u.body)}),title:r&&(0,m.jsx)(v,{scrollbars:l()(l()({},o),{},{theme:"os-theme-light"}),maxHeight:t,oppositeTheme:s,children:r})},f),{},{children:n}))};n.ZP=v},55625:function(e,n,t){t.d(n,{Uq:function(){return o},ZP:function(){return a}});var r=t(88467),i=t(75271);function a(){return r.Z.CancelToken.source}function o(){var e=r.Z.CancelToken.source,n=(0,i.useRef)(null),t=function(){n.current&&n.current.cancel()};return(0,i.useEffect)((function(){return function(){n.current&&n.current.cancel()}}),[]),{updateCancelToken:function(){t(),n.current=e()},cancelRequest:t,getCanceltToken:function(){return n.current.token},source:e}}},87835:function(e,n,t){var r,i=t(26068),a=t.n(i),o=t(67825),l=t.n(o),s=t(53649),c=t.n(s),u=t(91234),d=t(53231),f=t(79635),p=t(20990),m=t(75271),h=t(67585),x=t(52676),v=["defaultWidth","defaultHeight","minHeight","maxHeight","children","onReSize","onReSizeStop"],g=((0,h.ZP)(f.ZP)(r||(r=c()(["\n  position: absolute;\n  padding: 0;\n  top: -12px;\n  font-size: var(--font-size-middle);\n  left: calc(50% + 10px);\n  transform: translateX(-50%);\n  background: none !important;\n  cursor: ns-resize;\n  &::hover {\n    background: none !important;\n  }\n"]))),(0,m.forwardRef)((function(e,n){var t=e.defaultWidth,r=e.defaultHeight,i=void 0===r?180:r,o=e.minHeight,s=void 0===o?180:o,c=e.maxHeight,f=void 0===c?400:c,h=e.children,g=e.onReSize,b=e.onReSizeStop,y=l()(e,v),j=((0,d.useIntl)(),(0,m.useRef)(null));(0,m.useImperativeHandle)(n,(function(){return{container:j.current}}));u.Z;return(0,x.jsx)(p.e,a()(a()({ref:j,enable:{top:!0},defaultSize:{height:i,width:t},handleComponent:{top:void 0},maxHeight:f,minHeight:s,onResize:g,onResizeStop:b},y),{},{children:h}))})));n.Z=g},3542:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(26068),i=t.n(r),a=t(15558),o=t.n(a),l=t(48305),s=t.n(l),c=t(15409),u=t(53231),d=t(97014),f=t(25408),p=t(79635),m=t(82187),h=t.n(m),x=t(75271),v=t(52676),g=function(e){var n=e.value,t=e.onChange,r=e.onSelect,a=e.style,o=e.label,l=e.placeholder,m=e.height,g=void 0===m?46:m,b=(0,u.useIntl)(),y=x.useRef(null),j=(0,x.useState)({minRows:1,maxRows:1,focus:!1}),w=s()(j,2),C=w[0],Z=w[1],N=function(){Z({minRows:3,maxRows:3,focus:!0}),setTimeout((function(){var e,n;null===(e=y.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e,{cursor:"end"})}),50)};return(0,v.jsxs)("div",{className:h()("row-textarea",{focus:C.focus}),style:i()({},a),children:[(0,v.jsxs)("div",{style:{display:C.focus?"block":"none"},className:"textarea-wrapper",children:[o&&(0,v.jsx)("span",{className:"textarea-label",children:o}),(0,v.jsx)(d.Z.TextArea,{className:"custome-scrollbar",ref:y,placeholder:l,style:{borderRadius:"0",border:"none"},value:n,autoSize:{minRows:C.minRows,maxRows:C.maxRows},onFocus:N,onBlur:function(e){Z({minRows:2,maxRows:2,focus:!1})},allowClear:!1,onChange:function(e){null==t||t(e)},onSelect:function(e){e.stopPropagation();var t=e.target.selectionStart,i=e.target.selectionEnd,a=n.substring(0,t),o=n.substring(i,n.length);null==r||r({start:t,end:i,beforeText:a,afterText:o})},onPaste:function(n){var t;null===(t=e.onPaste)||void 0===t||t.call(e,n)}})]}),!C.focus&&(0,v.jsxs)("div",{className:"content-wrap",onClick:N,children:[(0,v.jsxs)("div",{className:"content",style:{height:g},children:[o&&(0,v.jsx)("span",{className:"title",children:o}),n||(0,v.jsx)("span",{style:{color:"var(--ant-color-text-tertiary)"},children:l})]}),n&&(0,v.jsx)(f.Z,{title:b.formatMessage({id:"common.button.clear"}),children:(0,v.jsx)(p.ZP,{className:"clear-btn",type:"text",icon:(0,v.jsx)(c.Z,{}),size:"small",onClick:function(){null==t||t({target:{value:""}})}})})]})]})},b=t(38913),y=(0,x.forwardRef)((function(e,n){var t=e.textList,r=e.showLabel,a=void 0===r||r,l=e.height,s=e.onChange,c=e.extra,d=e.onPaste,m=e.onSelect,h=(0,u.useIntl)(),y=(0,x.useRef)(0),j=(0,x.useRef)(null),w=function(){return y.current=y.current+1,y.current},C=function(){w();var e=o()(t);e.push({text:"",uid:y.current,name:"Text ".concat(e.length+1)}),null==s||s(e)},Z=function(e){var n=o()(t),r=n.findIndex((function(n){return n.uid===e.uid}));n.splice(r,1),null==s||s(n)},N=function(e,n){var r=o()(t),i=r.findIndex((function(e){return e.uid===n.uid}));r[i].text=e,null==s||s(r)};return(0,x.useImperativeHandle)(n,(function(){return{handleAdd:C,handleDelete:Z,handleTextChange:N,setMessageId:w}})),(0,v.jsx)("div",{className:"input-list",ref:j,children:t.map((function(e,n){return(0,v.jsxs)("div",{className:"input-item","data-uid":e.uid,children:[(0,v.jsx)("div",{className:"input-wrap",children:(0,v.jsx)(g,{height:l,label:a?"".concat(n+1):null,value:e.text,placeholder:h.formatMessage({id:"playground.embedding.inputyourtext"}),onChange:function(n){return N(n.target.value,e)},onPaste:function(e){return null==d?void 0:d(e,n)},onSelect:function(e){return null==m?void 0:m(i()(i()({},e),{},{index:n}))}})}),(0,v.jsx)("span",{className:"btn-group",children:(0,v.jsx)(f.Z,{title:h.formatMessage({id:"common.button.delete"}),children:(0,v.jsx)(p.ZP,{danger:!0,size:"small",type:"text",icon:(0,v.jsx)(b.Z,{}),onClick:function(){return Z(e)}})})}),null==c?void 0:c(e)]},e.uid)}))})}))},27973:function(e,n,t){var r,i=t(26068),a=t.n(i),o=t(67825),l=t.n(o),s=t(53649),c=t.n(s),u=t(53231),d=(t(75271),t(67585)),f=t(52676),p=["tokenResult"],m=d.ZP.div(r||(r=c()(["\n  font-size: var(--font-size-small);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2px 5px;\n  .text {\n    color: var(--ant-orange);\n  }\n"])));n.Z=function(e){var n=e.tokenResult,t=l()(e,p),r=(0,u.useIntl)();return n?(0,f.jsx)(m,a()(a()({},t),{},{children:(null==n?void 0:n.total_tokens)&&(0,f.jsxs)("span",{className:"text",children:[r.formatMessage({id:"playground.tokenusage"}),":"," ",null==n?void 0:n.total_tokens]})})):null}},80193:function(e,n,t){t.d(n,{H:function(){return i},N:function(){return r}});var r={"zh-CN":["最近哪家咖啡店评价最好？","附近有没有推荐的咖啡厅？","明天天气预报说会下雨。","北京是中国的首都。","我想找一个适合学习的地方。"],"en-US":["What are the best cafes nearby?","Can you recommend a quiet coffee shop?","I’m planning a trip to Japan next month.","The capital of France is Paris.","I'm looking for a place to study."],"ja-JP":["近くにおすすめのカフェはありますか？","静かな喫茶店を探しています。","明日の天気はどうですか？","富士山は日本で一番高い山です。","勉強に集中できる場所を知っていますか？"],"ru-RU":["Где находится ближайшая аптека?","Можете подсказать, где купить лекарства?","Погода сегодня очень хорошая.","Я ищу кафе рядом с вокзалом.","Как добраться до аэропорта?"]},i={"zh-CN":{query:"如何提高睡眠质量？",documents:["保持规律的作息时间，晚上避免使用电子产品。","参加更多社交活动有助于提高情绪。","多喝咖啡可以让你更有精神。"]},"en-US":{query:"What are the benefits of regular exercise?",documents:["Regular physical activity helps improve cardiovascular health and mental well-being.","Eating too much sugar can lead to health issues.","Exercise is often done in gyms or outdoors."]},"ja-JP":{query:"効果的な英語の勉強法は？",documents:["毎日少しずつでも英語に触れることが大切です。","睡眠時間を削ると集中力が低下します。","文法よりも単語を先に覚えましょう。"]},"ru-RU":{query:"Как улучшить концентрацию во время учёбы?",documents:["Регулярные перерывы помогают поддерживать концентрацию.","Учёба ночью может быть неэффективной.","Прогулка на свежем воздухе улучшает работу мозга."]}}},53942:function(e,n,t){t.r(n),t.d(n,{default:function(){return me}});var r=t(90228),i=t.n(r),a=t(87999),o=t.n(a),l=t(48305),s=t.n(l),c=t(71920),u=t(37952),d=t(67996),f=t(53231),p=t(25383),m=t(48872),h=t(82187),x=t.n(h),v=t(32699),g=t.n(v),b=t(75271),y=t(7388),j=t(94213),w=t(13507),C=t(15558),Z=t.n(C),N=t(26068),k=t.n(N),R=t(73963),S=t(82487),z=t(90064),M=t(51461),T=t(52676),P=function(e){var n=(0,z.Z)(),t=n.grid,r=n.title,i=n.isDark,a=n.chartColorMap,o=e.seriesData,l=e.xAxisData,c=e.height,u=e.width,d=e.showEmpty,f=e.title,p=(0,b.useRef)(null),m=(0,b.useMemo)((function(){var e=i?{split:a.splitLineColor,axis:a.axislabelColor,label:a.axislabelColor}:{split:"#F2F2F2",axis:"#dcdcdc",label:"#dcdcdc"};return{animation:!1,grid:k()(k()({},t),{},{right:10,top:10,bottom:2,left:2,containLabel:!0,borderRadius:4}),xAxis:{min:-1,max:1,scale:!1,slient:!0,splitNumber:15,splitLine:{lineStyle:{color:e.split}},axisLine:{show:!0,lineStyle:{color:e.axis}},axisTick:{show:!1},axisLabel:{show:!0,color:e.label},boundaryGap:[.05,.05]},yAxis:{min:-1,max:1,scale:!1,slient:!0,splitNumber:10,boundaryGap:[.05,.05],splitLine:{lineStyle:{color:e.split}},axisLine:{show:!0,lineStyle:{color:e.axis}},axisTick:{show:!1},axisLabel:{show:!0,color:e.label}},symbol:"roundRect",label:{show:!0,shadowColor:"none",textBorderColor:"none",formatter:function(e){return e.name}},series:[]}}),[i]),h=(0,b.useCallback)((function(e,n){for(var t,r=[],i=null===(t=p.current.chart)||void 0===t?void 0:t.convertToPixel("grid",n.value),a=s()(i,2),o=a[0],l=a[1],c=e.map((function(e){var n;return k()(k()({},e),{},{value:null===(n=p.current.chart)||void 0===n?void 0:n.convertToPixel("grid",e.value)})})),u=0;u<c.length;u++)if(n.name!==c[u].name){var d=s()(c[u].value,2),f=d[0],m=d[1];Math.sqrt(Math.pow(g().round(f-o,2),2)+Math.pow(g().round(m-l,2),2))<=16&&r.push(k()({},c[u]))}else r.push(k()({},c[u]));return r}),[]),x=(0,b.useCallback)((function(e){if(!e.length||e.length<2)return null;return function(e){var n;return'<span class="tooltip-item-name">\n               <span style="display:flex;justify-content:center;align-items: center;color:#fff;\n               margin-right:0;border-radius:4px;width:14px;\n               height:14px;background-color:'.concat(null==e||null===(n=e.itemStyle)||void 0===n?void 0:n.color,';"\n               >').concat(e.name,"</span>\n             </span>")}}),[]),v=(0,b.useMemo)((function(){var e=o.map((function(e,n){return k()(k()({},e),{},{itemStyle:{color:"#5470c6"},symbolSize:16})}));return k()(k()({},m),{},{tooltip:{trigger:"item",borderWidth:0,backgroundColor:a.colorBgContainerHover,borderColor:"transparent",formatter:function(n,t){var r=h(e,n.data),i="",a=x(r);return r.forEach((function(e){i+='\n            <span class="tooltip-item" style="justify-content: flex-start;">\n             '.concat(a?a(e):"",'\n             <span class="tooltip-value">').concat(e.text,"</span>\n            </span>")})),'<div class="tooltip-wrapper scatter">'.concat(i,"</div>")}},title:k()(k()({},r),{},{text:f}),series:{type:"scatter",labelLayout:{hideOverlap:!0},data:e}})}),[o,l,f,m,h]);return(0,T.jsx)(T.Fragment,{children:!o.length&&d?(0,T.jsx)(M.Z,{height:c,title:f}):(0,T.jsx)(S.Z,{ref:p,height:c,options:v,width:u||"100%"})})},L=(0,b.memo)(P),I=t(41273),A=t(92829),H=t(68048),E=t(2825),W=t(55625),_=t(87835),O=t(97489),D=t(17114),U=t(94752),B=t(47219),F=t(26965),G=t(25408),K=t(72567),V=t(79635),Y=t(43458),q=t(3246),J=t(81967),$=(t(82093),t(41994)),X=t(80193),Q=t(89843);var ee=t(45629),ne=(t(55734),t(85932),t(56349)),te=t(4806),re=t(85882),ie=t(44655),ae=t(38913),oe=function(e){var n=e.textListCount,t=e.fileList,r=e.ghost,i=e.showIcon,a=void 0===i||i,o=e.onDelete,l=(0,f.useIntl)();return(0,T.jsx)("div",{className:"file-list",children:t.map((function(e,t){return(0,T.jsxs)("div",{className:x()("file-item",{ghost:r}),children:[(0,T.jsxs)("span",{className:"title",children:[(0,T.jsxs)("span",{className:"m-r-5",children:[t+1+n,"."]}),a&&(0,T.jsx)(ie.Z,{className:"m-r-5"}),(0,T.jsxs)(re.Z,{ghost:!0,children:[" ",e.name]})]}),o&&(0,T.jsx)(G.Z,{title:l.formatMessage({id:"common.button.delete"}),children:(0,T.jsx)(V.ZP,{danger:!0,size:"small",type:"text",className:"delete-btn",icon:(0,T.jsx)(ae.Z,{}),onClick:function(){return o(e.uid)}})})]},e.uid)}))})},le=t(3542),se=t(27973),ce=t(36224),ue=(0,b.forwardRef)((function(e,n){var r=e.modelList,a=(0,f.useIntl)(),l=function(){var e=(0,b.useRef)(null),n=function(){e.current&&(e.current.terminate(),e.current=null)};return(0,b.useEffect)((function(){return function(){n()}}),[]),{workerRef:e,createWorker:function(){e.current&&e.current.terminate(),e.current=new Worker(new URL(t.p+t.u(0),t.b),{type:void 0})},postMessage:function(n){e.current&&e.current.postMessage(n)},terminateWorker:n}}(),c=l.workerRef,u=l.createWorker,d=l.postMessage,p=(l.terminateWorker,(0,W.ZP)()),m=(0,b.useState)(!1),h=s()(m,2),v=h[0],y=h[1],j=(0,b.useState)(!1),C=s()(j,2),N=C[0],S=C[1],z=(0,b.useState)(null),M=s()(z,2),P=M[0],re=M[1],ie=(0,b.useState)(!1),ae=s()(ie,2),ue=ae[0],de=ae[1],fe=(0,b.useRef)(""),pe=(0,b.useRef)(null),me=(0,b.useRef)(null),he=(0,b.useRef)(0),xe=(0,b.useRef)(null),ve=(0,b.useState)([]),ge=s()(ve,2),be=ge[0],ye=ge[1],je=(0,b.useState)("chart"),we=s()(je,2),Ce=we[0],Ze=we[1],Ne=(0,b.useState)(180),ke=s()(Ne,2),Re=ke[0],Se=ke[1],ze=(0,b.useState)({code:"",copyValue:""}),Me=s()(ze,2),Te=Me[0],Pe=Me[1],Le=(0,b.useState)(!1),Ie=s()(Le,2),Ae=Ie[0],He=Ie[1],Ee=(0,b.useRef)(!0),We=(0,b.useRef)(null),_e=(0,b.useState)([{text:"",uid:-1,name:""},{text:"",uid:-2,name:""}]),Oe=s()(_e,2),De=Oe[0],Ue=Oe[1],Be=(0,b.useState)([]),Fe=s()(Be,2),Ge=Fe[0],Ke=Fe[1],Ve=(0,b.useRef)(null),Ye=(0,E.Z)(),qe=Ye.initialize,Je=Ye.updateScrollerPosition,$e=(0,ee.X)({modelList:r,isChat:!0},{defaultValues:{},defaultParamsConfig:[],metaKeys:Q.m4}),Xe=$e.handleOnValuesChange,Qe=$e.formRef,en=$e.paramsConfig,nn=$e.initialValues,tn=$e.parameters,rn=$e.paramsRef,an=$e.modelMeta,on=$e.formFields;(0,b.useImperativeHandle)(n,(function(){return{viewCode:function(){y(!0)},setCollapse:function(){de(!ue)},calculateNewMaxFromBoundary:function(e,n){var t;null===(t=Ve.current)||void 0===t||null===(t=t.container)||void 0===t||t.calculateNewMaxFromBoundary()},collapse:ue}}));var ln=(0,b.useMemo)((function(){return(0,ne.X)({api:w.d8,parameters:k()(k()({},g().pick(tn,["model"].concat(Z()(g().split(on,","))))),{},{input:[].concat(Z()(De.map((function(e){return e.text})).filter((function(e){return e}))),Z()(be.map((function(e){return e.text})).filter((function(e){return e}))))})})}),[tn,on,De,be]),sn=(0,b.useMemo)((function(){return[].concat(Z()(De),Z()(be)).length<2}),[De,be]),cn=function(){var e,n;return null===(e=me.current)||void 0===e||null===(n=e.setMessageId)||void 0===n?void 0:n.call(e)},un=function(){var e=o()(i()().mark((function e(n){var t,r,a,o,l,s,f,m;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=Qe.current)||void 0===t?void 0:t.form.validateFields();case 3:if(tn.model){e.next=5;break}return e.abrupt("return");case 5:if(o=De.filter((function(e){return e.text})),l=be.filter((function(e){return e.text})),!((s=[].concat(Z()(o.map((function(e){return e.text}))),Z()(l.map((function(e){return e.text}))))).length<2)){e.next=11;break}return He(!0),e.abrupt("return");case 11:return Ue(o),ye(l),He(!1),S(!0),cn(),re(null),null===(r=xe.current)||void 0===r||null===(a=r.cancel)||void 0===a||a.call(r),xe.current=p(),fe.current=(null==n?void 0:n.content)||"",e.next=22,(0,w.xO)({model:tn.model,encoding_format:"float",input:s},{token:xe.current.token});case 22:f=e.sent,re(f.usage),m=f.data||[],u(),c.current.onmessage=function(e){var n=e.data,t=n.scatterData,r=n.embeddingData;Ke(t),Pe(r),S(!1)},d({embeddings:m,textList:De,fileList:be}),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(0),re({error:!0,errorMessage:(0,$.Yo)(e.t0.response)}),S(!1);case 34:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(n){return e.apply(this,arguments)}}(),dn=(0,b.useCallback)((function(e){We.current=e}),[]),fn=(0,b.useCallback)((function(e,n){if(Ee.current){var t=e.clipboardData.getData("text");if(t){var r,i,a=t.split("\n").map((function(e){return{text:null==e?void 0:e.trim(),name:"",uid:cn()}}));a[0].text="".concat((null===(r=We.current)||void 0===r?void 0:r.beforeText)||"").concat(a[0].text).concat((null===(i=We.current)||void 0===i?void 0:i.afterText)||"");var o=[].concat(Z()(De.slice(0,n)),Z()(a),Z()(De.slice(n+1))).filter((function(e){return e.text}));Ue(o)}}}),[De]),pn=(0,b.useMemo)((function(){return null!=an&&an.n_ctx&&null!=an&&an.n_slot?(0,T.jsx)(F.Z.Item,{children:(0,T.jsx)(H.Z,{disabled:!0,label:"Max Tokens",value:g().divide(null==an?void 0:an.n_ctx,null==an?void 0:an.n_slot)})}):[]}),[an]),mn=(0,b.useMemo)((function(){return[{key:"chart",label:"Chart",children:(0,T.jsx)(L,{seriesData:Ge,height:Re,width:"100%",xAxisData:[]},ue?"collapse":"expand")},{key:"json",label:"JSON",children:(0,T.jsx)("div",{style:{backgroundColor:"var(--ant-color-bg-container)",borderRadius:"var(--border-radius-base)",overflow:"hidden"},children:(0,T.jsx)(I.Z,{height:Re-32,code:Te.code,copyValue:Te.copyValue,lang:"json",copyable:!0,style:{marginBottom:0}})})}]}),[Re,ue,Ge,Te]),hn=(0,b.useCallback)((function(e,n){e.model&&(Ke([]),re(null)),Xe(e,n)}),[]);return(0,b.useEffect)((function(){pe.current&&qe(pe.current)}),[qe]),(0,b.useEffect)((function(){De.length+be.length>he.current&&Je(),he.current=De.length+be.length}),[De.length,be.length]),(0,b.useEffect)((function(){a.locale;var e=X.N[a.locale];e&&Ue(e.map((function(e,n){return{text:e,uid:cn(),name:"Document ".concat(n+1)}})))}),[]),(0,T.jsxs)("div",{className:"ground-left-wrapper rerank",children:[(0,T.jsxs)("div",{className:"ground-left",children:[(0,T.jsx)("div",{className:"center",ref:pe,style:{height:"auto",maxHeight:"100%"},children:(0,T.jsxs)("div",{className:"documents",children:[(0,T.jsxs)("div",{className:"flex-between m-b-8 doc-header",children:[(0,T.jsx)("h3",{className:"m-l-10 flex-between flex-center font-size-14 line-24 m-b-0",children:(0,T.jsx)("div",{className:"flex gap-20",children:(0,T.jsx)("span",{children:a.formatMessage({id:"playground.embedding.documents"})})})}),(0,T.jsxs)("div",{className:"flex-center gap-10",children:[(0,T.jsx)(G.Z,{title:a.formatMessage({id:"playground.input.multiplePaste.tips"}),children:(0,T.jsxs)(K.Z,{defaultChecked:Ee.current,onChange:function(e){Ee.current=e.target.checked},children:[a.formatMessage({id:"playground.input.multiplePaste"}),(0,T.jsx)(O.Z,{className:"m-l-4"})]})}),(0,T.jsxs)(V.ZP,{size:"middle",onClick:function(){var e;null===(e=me.current)||void 0===e||e.handleAdd()},disabled:N,children:[(0,T.jsx)(D.Z,{}),a.formatMessage({id:"playground.embedding.addtext"})]}),(0,T.jsx)(V.ZP,{icon:(0,T.jsx)(U.Z,{}),size:"middle",disabled:N,onClick:function(){Ue([{text:"",uid:-1,name:""},{text:"",uid:-2,name:""}]),ye([]),Ke([]),re(null),He(!1),Pe({code:"",copyValue:""})},children:a.formatMessage({id:"common.button.clear"})}),N?(0,T.jsx)(G.Z,{title:a.formatMessage({id:"common.button.stop"}),children:(0,T.jsx)(V.ZP,{style:{width:60},size:"middle",type:"primary",onClick:function(){var e,n;null===(e=xe.current)||void 0===e||null===(n=e.cancel)||void 0===n||n.call(e),S(!1)},icon:(0,T.jsx)(A.Z,{type:"icon-stop1",className:"font-size-12"})})}):(0,T.jsx)(G.Z,{title:(0,T.jsx)("span",{children:a.formatMessage({id:"common.button.submit"})}),children:(0,T.jsx)(V.ZP,{size:"middle",type:"primary",disabled:sn,onClick:function(){un()},icon:(0,T.jsx)(B.Z,{rotate:0,className:"font-size-14"}),style:{width:60}})})]})]}),(0,T.jsxs)("div",{className:"docs-wrapper",children:[(0,T.jsx)(le.Z,{ref:me,textList:De,onChange:function(e){Ue(e)},onSelect:dn,onPaste:fn}),be.length>0&&(0,T.jsx)("div",{style:{marginTop:8},children:(0,T.jsx)(oe,{fileList:be,textListCount:De.length||0,onDelete:function(e){ye((function(n){return n.filter((function(n){return n.uid!==e}))}))}})}),Ae&&(0,T.jsx)("div",{className:"m-t-16",children:(0,T.jsx)(R.Z,{type:"danger",message:a.formatMessage({id:"playground.documents.verify.embedding"})})}),(0,T.jsx)(se.Z,{tokenResult:P,className:"m-t-16"})]})]})}),(0,T.jsxs)("div",{className:"ground-left-footer",style:{width:"100%",padding:"0 32px 16px"},children:[(0,T.jsxs)("h3",{className:"m-l-10 flex-between flex-center font-size-14 line-24 m-b-16",children:[(0,T.jsxs)("div",{className:"flex gap-20",children:[(0,T.jsxs)("span",{className:"flex-center",children:[a.formatMessage({id:"playground.embedding.output"}),(0,T.jsx)(G.Z,{title:(0,T.jsxs)("span",{className:"flex-column",children:[(0,T.jsxs)("span",{children:["1.",a.formatMessage({id:"playground.embedding.pcatips1"})]}),(0,T.jsxs)("span",{children:["2."," ",a.formatMessage({id:"playground.embedding.pcatips2"})]})]}),children:(0,T.jsx)(O.Z,{className:"m-l-4"})})]}),(0,T.jsx)(R.Z,{type:"danger",message:null==P?void 0:P.errorMessage})]}),(0,T.jsx)(Y.Z,{onChange:function(e){Ze(e)},value:Ce,options:[{label:a.formatMessage({id:"playground.embedding.chart"}),value:"chart"},{label:"JSON",value:"json"}]})]}),(0,T.jsxs)("div",{className:"embed-chart",children:[N&&(0,T.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,T.jsx)(q.Z,{spinning:!0})}),(0,T.jsx)(_.Z,{ref:Ve,maxHeight:400,minHeight:180,defaultHeight:180,onResize:function(){var e,n=null===(e=Ve.current)||void 0===e||null===(e=e.container)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.height;n&&Se(n)},onResizeStop:function(e,n,t,r){r.height+Re<=400&&r.height+Re>=180&&Se(r.height+Re)},children:(0,T.jsx)("div",{style:{border:"1px solid var(--ant-color-border)",borderRadius:"var(--border-radius-base)",width:"100%"},className:"scatter",children:(0,T.jsx)(J.Z,{defaultActiveKey:Ce,activeKey:Ce,centered:!0,renderTabBar:function(){return(0,T.jsx)(T.Fragment,{})},items:mn})})})]})]})]}),(0,T.jsx)("div",{className:x()("params-wrapper",{collapsed:ue}),ref:rn,children:(0,T.jsx)("div",{className:"box",children:(0,T.jsx)(te.Z,{ref:Qe,onValuesChange:hn,paramsConfig:en,initialValues:nn,modelList:r,extra:pn})})}),(0,T.jsx)(ce.Z,{open:v,viewCodeContent:ln,onCancel:function(){y(!1)},title:a.formatMessage({id:"playground.viewcode"})})]})})),de=ue,fe=t(9629),pe=t(82141),me=(t(48119),function(){(0,f.useIntl)();var e=(0,b.useRef)(null),n=(0,b.useState)([]),t=s()(n,2),r=t[0],a=t[1],l=(0,b.useState)(!1),h=s()(l,2),v=h[0],C=h[1];(0,pe.Z)({handler:function(){var n,t,r,i;null===(n=e.current)||void 0===n||null===(t=n.setCollapse)||void 0===t||t.call(n),null===(r=e.current)||void 0===r||null===(i=r.calculateNewMaxFromBoundary)||void 0===i||i.call(r,500,300)},triggeredRef:e.current});var Z=(0,p.Z)((function(){var n,t;null===(n=e.current)||void 0===n||null===(t=n.viewCode)||void 0===t||t.call(n)})),N=(0,p.Z)((function(){var n,t;null===(n=e.current)||void 0===n||null===(t=n.setCollapse)||void 0===t||t.call(n)}));return(0,b.useEffect)((function(){var e=function(){var e=o()(i()().mark((function e(){var n,t,r;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={categories:d.Us.embedding,with_meta:!0},e.next=4,(0,w.nb)(n);case 4:return t=e.sent,r=g().map(t.data||[],(function(e){return{value:e.id,label:e.id,meta:e.meta}})),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var n=o()(i()().mark((function n(){var t,r,o;return i()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.all([e()]);case 3:t=n.sent,r=s()(t,1),o=r[0],a(o),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),C(!0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,y.y1)(c.ZP.RIGHT.join(","),(function(){var n,t;null===(n=e.current)||void 0===n||null===(t=n.setCollapse)||void 0===t||t.call(n)}),{preventDefault:!0}),(0,T.jsx)(j.R,{className:x()("playground-container chat"),extra:[(0,T.jsx)(fe.Z,{activeKey:"",handleViewCode:Z,handleToggleCollapse:N},"view-code-buttons"),(0,T.jsx)(m.Z,{type:"vertical",style:{height:24,marginInline:16}},"divider"),(0,T.jsx)(u.k,{},"extra-content")],children:(0,T.jsx)("div",{className:"play-ground",children:(0,T.jsx)("div",{className:"chat",children:(0,T.jsx)(de,{ref:e,modelList:r,loaded:v})})})})})},82141:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(91962),i=t(4144),a=t(75271);function o(e){var n=(0,i.Z)().size;(0,a.useEffect)((function(){var t;n.width<r.Z.lg&&(null!==(t=e.triggeredRef)&&void 0!==t&&t.collapse||e.handler())}),[n.width])}},56349:function(e,n,t){t.d(n,{N:function(){return l},X:function(){return s}});var r=t(26068),i=t.n(r),a=t(13507),o=t(65548),l=function(e){var n=e.api,t=e.modelProxy,r=e.parameters,i=window.location.origin,l=t?"".concat(a.kW,"/${YOUR_API_PATH}"):n;return"\ncurl ".concat(i).concat(l,' \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer ${YOUR_GPUSTACK_API_KEY}" \\').concat(t?'\n-H "X-GPUStack-Model: '.concat(r.model,'" \\'):"","\n").concat((0,o.Yy)(r,!1)).trim()},s=function(e){var n=e.api,t=e.parameters,r=window.location.origin,s=l({api:n,parameters:t}),c='\nfrom openai import OpenAI\n\nclient = OpenAI(\n  base_url="'.concat(r,"/").concat(a.Mo,'", \n  api_key="YOUR_GPUSTACK_API_KEY"\n)\n\nresponse = client.embeddings.create(\n').concat((0,o.G4)(i()({},t)),")\n\nprint(response.data[0].embedding)").trim(),u=(0,o.GT)(i()({},t));return{curlCode:s,pythonCode:c,nodeJsCode:'\nconst OpenAI = require("openai");\n\nconst openai = new OpenAI({\n  "apiKey": "YOUR_GPUSTACK_API_KEY",\n  "baseURL": "'.concat(r,"/").concat(a.Mo,'"\n});\n\nasync function main() {\n  const params = ').concat(u,"; \n  const response = await openai.embeddings.create(params);\n  console.log(response.data[0].embedding);\n}\nmain();").trim()}}},85932:function(){}}]);