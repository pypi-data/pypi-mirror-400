/*! For license information please see 59470.28f3adba705511b1.js.LICENSE.txt */
export const __webpack_id__="59470";export const __webpack_ids__=["59470"];export const __webpack_modules__={93283:function(t,e,a){a.a(t,async function(t,e){try{a(18111),a(22489),a(61701);var s=a(62826),i=a(96196),r=a(44457),n=a(53610),o=a(613),c=a(14503),l=a(44328),d=(a(11382),a(69093)),u=t([l,o,n]);[l,o,n]=u.then?(await u)():u;class p extends i.WF{get _filteredAttributes(){return this._computeDisplayAttributes(o.sy.concat(this.extraFilters?this.extraFilters.split(","):[],this.stateObj&&o.Kw[(0,d.t)(this.stateObj)]?.[this.stateObj.attributes?.device_class]||[]))}willUpdate(t){(t.has("extraFilters")||t.has("stateObj"))&&this.toggleAttribute("empty",0===this._filteredAttributes.length)}render(){if(!this.stateObj)return i.s6;const t=this._filteredAttributes;return 0===t.length?i.s6:i.qy` <ha-expansion-panel .header="${this.hass.localize("ui.components.attributes.expansion_header")}" outlined @expanded-will-change="${this._expandedChanged}"> <div class="attribute-container"> ${this._expanded?i.qy` ${t.map(t=>i.qy` <div class="data-entry"> <div class="key"> ${(0,n.computeAttributeNameDisplay)(this.hass.localize,this.stateObj,this.hass.entities,t)} </div> <div class="value"> <ha-attribute-value .hass="${this.hass}" .attribute="${t}" .stateObj="${this.stateObj}"></ha-attribute-value> </div> </div> `)} `:""} </div> </ha-expansion-panel> ${this.stateObj.attributes.attribution?i.qy` <div class="attribution"> ${this.stateObj.attributes.attribution} </div> `:""} `}static get styles(){return[c.RF,i.AH`.attribute-container{margin-bottom:8px;direction:ltr}.data-entry{display:flex;flex-direction:row;justify-content:space-between}.data-entry .value{max-width:60%;overflow-wrap:break-word;text-align:right}.key{flex-grow:1}.attribution{color:var(--secondary-text-color);text-align:center;margin-top:16px}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}`]}_computeDisplayAttributes(t){return this.stateObj?Object.keys(this.stateObj.attributes).filter(e=>-1===t.indexOf(e)):[]}_expandedChanged(t){this._expanded=t.detail.expanded}constructor(...t){super(...t),this._expanded=!1}}(0,s.__decorate)([(0,r.MZ)({attribute:!1})],p.prototype,"hass",void 0),(0,s.__decorate)([(0,r.MZ)({attribute:!1})],p.prototype,"stateObj",void 0),(0,s.__decorate)([(0,r.MZ)({attribute:"extra-filters"})],p.prototype,"extraFilters",void 0),(0,s.__decorate)([(0,r.wk)()],p.prototype,"_expanded",void 0),p=(0,s.__decorate)([(0,r.EM)("ha-attributes")],p),e()}catch(t){e(t)}})},32421:function(t,e,a){a.a(t,async function(t,s){try{a.r(e);var i=a(62826),r=a(96196),n=a(44457),o=a(93283),c=(a(85404),a(65829)),l=(a(38962),a(69150)),d=t([o,c]);[o,c]=d.then?(await d)():d;class u extends r.WF{willUpdate(t){if(super.willUpdate(t),!t.has("stateObj")||!this.stateObj)return;const e=t.get("stateObj");e&&e.entity_id===this.stateObj.entity_id||this._getPipeline()}async _getPipeline(){this._pipeline=void 0,this._errorLoadAssist=void 0;const t=this.stateObj.entity_id;try{const e=await(0,l.mp)(this.hass,t);this.stateObj&&t===this.stateObj.entity_id&&(this._pipeline=e)}catch(e){if(this.stateObj&&t!==this.stateObj.entity_id)return;"not_found"===e.code?this._errorLoadAssist="not_found":(this._errorLoadAssist="unknown",console.error(e))}}render(){return this.hass&&this.stateObj?r.qy` ${this._errorLoadAssist?r.qy`<ha-alert alert-type="error"> ${this.hass.localize(`ui.dialogs.voice_command.${this._errorLoadAssist}_error_load_assist`)} </ha-alert>`:this._pipeline?r.qy` <ha-assist-chat .hass="${this.hass}" .pipeline="${this._pipeline}" disable-speech></ha-assist-chat> `:r.qy`<div class="pipelines-loading"> <ha-spinner size="large"></ha-spinner> </div>`} `:r.s6}}u.styles=r.AH`:host{display:flex;flex:1}ha-assist-chat{flex:1;min-height:400px}`,(0,i.__decorate)([(0,n.MZ)({attribute:!1})],u.prototype,"hass",void 0),(0,i.__decorate)([(0,n.MZ)({attribute:!1})],u.prototype,"stateObj",void 0),(0,i.__decorate)([(0,n.wk)()],u.prototype,"_pipeline",void 0),(0,i.__decorate)([(0,n.wk)()],u.prototype,"_errorLoadAssist",void 0),u=(0,i.__decorate)([(0,n.EM)("more-info-conversation")],u),s()}catch(t){s(t)}})},2209:function(t,e,a){a.d(e,{LV:()=>p});a(18111),a(61701),a(18237);const s=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),r=Symbol("Comlink.releaseProxy"),n=Symbol("Comlink.finalizer"),o=Symbol("Comlink.thrown"),c=t=>"object"==typeof t&&null!==t||"function"==typeof t,l=new Map([["proxy",{canHandle:t=>c(t)&&t[s],serialize(t){const{port1:e,port2:a}=new MessageChannel;return d(t,e),[a,[a]]},deserialize:t=>(t.start(),p(t))}],["throw",{canHandle:t=>c(t)&&o in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function d(t,e=globalThis,a=["*"]){e.addEventListener("message",function i(r){if(!r||!r.data)return;if(!function(t,e){for(const a of t){if(e===a||"*"===a)return!0;if(a instanceof RegExp&&a.test(e))return!0}return!1}(a,r.origin))return void console.warn(`Invalid origin '${r.origin}' for comlink proxy`);const{id:c,type:l,path:p}=Object.assign({path:[]},r.data),h=(r.data.argumentList||[]).map(w);let b;try{const e=p.slice(0,-1).reduce((t,e)=>t[e],t),a=p.reduce((t,e)=>t[e],t);switch(l){case"GET":b=a;break;case"SET":e[p.slice(-1)[0]]=w(r.data.value),b=!0;break;case"APPLY":b=a.apply(e,h);break;case"CONSTRUCT":b=function(t){return Object.assign(t,{[s]:!0})}(new a(...h));break;case"ENDPOINT":{const{port1:e,port2:a}=new MessageChannel;d(t,a),b=function(t,e){return v.set(t,e),t}(e,[e])}break;case"RELEASE":b=void 0;break;default:return}}catch(t){b={value:t,[o]:0}}Promise.resolve(b).catch(t=>({value:t,[o]:0})).then(a=>{const[s,r]=m(a);e.postMessage(Object.assign(Object.assign({},s),{id:c}),r),"RELEASE"===l&&(e.removeEventListener("message",i),u(e),n in t&&"function"==typeof t[n]&&t[n]())}).catch(t=>{const[a,s]=m({value:new TypeError("Unserializable return value"),[o]:0});e.postMessage(Object.assign(Object.assign({},a),{id:c}),s)})}),e.start&&e.start()}function u(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function p(t,e){const a=new Map;return t.addEventListener("message",function(t){const{data:e}=t;if(!e||!e.id)return;const s=a.get(e.id);if(s)try{s(e)}finally{a.delete(e.id)}}),_(t,a,[],e)}function h(t){if(t)throw new Error("Proxy has been released and is not useable")}function b(t){return x(t,new Map,{type:"RELEASE"}).then(()=>{u(t)})}const y=new WeakMap,f="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(y.get(t)||0)-1;y.set(t,e),0===e&&b(t)});function _(t,e,a=[],s=function(){}){let n=!1;const o=new Proxy(s,{get(s,i){if(h(n),i===r)return()=>{!function(t){f&&f.unregister(t)}(o),b(t),e.clear(),n=!0};if("then"===i){if(0===a.length)return{then:()=>o};const s=x(t,e,{type:"GET",path:a.map(t=>t.toString())}).then(w);return s.then.bind(s)}return _(t,e,[...a,i])},set(s,i,r){h(n);const[o,c]=m(r);return x(t,e,{type:"SET",path:[...a,i].map(t=>t.toString()),value:o},c).then(w)},apply(s,r,o){h(n);const c=a[a.length-1];if(c===i)return x(t,e,{type:"ENDPOINT"}).then(w);if("bind"===c)return _(t,e,a.slice(0,-1));const[l,d]=g(o);return x(t,e,{type:"APPLY",path:a.map(t=>t.toString()),argumentList:l},d).then(w)},construct(s,i){h(n);const[r,o]=g(i);return x(t,e,{type:"CONSTRUCT",path:a.map(t=>t.toString()),argumentList:r},o).then(w)}});return function(t,e){const a=(y.get(e)||0)+1;y.set(e,a),f&&f.register(t,e,t)}(o,t),o}function g(t){const e=t.map(m);return[e.map(t=>t[0]),(a=e.map(t=>t[1]),Array.prototype.concat.apply([],a))];var a}const v=new WeakMap;function m(t){for(const[e,a]of l)if(a.canHandle(t)){const[s,i]=a.serialize(t);return[{type:"HANDLER",name:e,value:s},i]}return[{type:"RAW",value:t},v.get(t)||[]]}function w(t){switch(t.type){case"HANDLER":return l.get(t.name).deserialize(t.value);case"RAW":return t.value}}function x(t,e,a,s){return new Promise(i=>{const r=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.set(r,i),t.start&&t.start(),t.postMessage(Object.assign({id:r},a),s)})}}};
//# sourceMappingURL=59470.28f3adba705511b1.js.map