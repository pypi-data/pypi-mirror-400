import abc

from _typeshed import Incomplete
from pyomo.common.collections import ComponentMap as ComponentMap
from pyomo.common.timing import HierarchicalTimer as HierarchicalTimer
from pyomo.contrib.solver.common.results import Results as Results
from pyomo.contrib.solver.common.util import (
    collect_vars_and_named_exprs as collect_vars_and_named_exprs,
)
from pyomo.contrib.solver.common.util import get_objective as get_objective
from pyomo.core.base.constraint import Constraint as Constraint
from pyomo.core.base.constraint import ConstraintData as ConstraintData
from pyomo.core.base.objective import ObjectiveData as ObjectiveData
from pyomo.core.base.param import Param as Param
from pyomo.core.base.param import ParamData as ParamData
from pyomo.core.base.sos import SOSConstraint as SOSConstraint
from pyomo.core.base.sos import SOSConstraintData as SOSConstraintData
from pyomo.core.base.var import VarData as VarData
from pyomo.core.staleflag import StaleFlagManager as StaleFlagManager

class PersistentSolverUtils(abc.ABC, metaclass=abc.ABCMeta):
    def __init__(self, treat_fixed_vars_as_params: bool = True) -> None: ...
    config: Incomplete
    def set_instance(self, model) -> None: ...
    def add_variables(self, variables: list[VarData]): ...
    def add_parameters(self, params: list[ParamData]): ...
    def add_constraints(self, cons: list[ConstraintData]): ...
    def add_sos_constraints(self, cons: list[SOSConstraintData]): ...
    def set_objective(self, obj: ObjectiveData): ...
    def add_block(self, block) -> None: ...
    def remove_constraints(self, cons: list[ConstraintData]): ...
    def remove_sos_constraints(self, cons: list[SOSConstraintData]): ...
    def remove_variables(self, variables: list[VarData]): ...
    def remove_parameters(self, params: list[ParamData]): ...
    def remove_block(self, block) -> None: ...
    def update_variables(self, variables: list[VarData]): ...
    @abc.abstractmethod
    def update_parameters(self): ...
    def update(self, timer: HierarchicalTimer = None): ...

class PersistentSolverMixin:
    def solve(self, model, **kwds) -> Results: ...
