interactions:
- request:
    body: '{"input": [{"role": "system", "content": [{"type": "input_text", "text":
      "Be terse and use tool results over your internal knowledge."}]}, {"role": "user",
      "content": [{"type": "input_text", "text": "What year is it today?"}]}, {"type":
      "function_call", "call_id": "1", "name": "get_date", "arguments": "{}"}, {"type":
      "function_call_output", "call_id": "1", "output": "Tool call failed with error:
      ''Chat ended before the tool could be invoked.''"}, {"role": "user", "content":
      [{"type": "input_text", "text": "try again"}]}], "model": "gpt-4.1", "store":
      false, "stream": true, "tools": [{"type": "function", "name": "get_date", "description":
      "Get today''s date.", "parameters": {"properties": {}, "type": "object", "additionalProperties":
      false, "required": []}, "strict": true}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '722'
      Content-Type:
      - application/json
      Host:
      - api.openai.com
      X-Stainless-Async:
      - 'false'
      x-stainless-read-timeout:
      - '600'
    method: POST
    uri: https://api.openai.com/v1/responses
  response:
    body:
      string: 'event: response.created

        data: {"type":"response.created","sequence_number":0,"response":{"id":"resp_05f40e1a02ba2210016955889d074c81a2bcc3c86f931fcfad","object":"response","created_at":1767213213,"status":"in_progress","background":false,"completed_at":null,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-4.1-2025-04-14","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":null,"summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":"Get
        today''s date.","name":"get_date","parameters":{"properties":{},"type":"object","additionalProperties":false,"required":[]},"strict":true}],"top_logprobs":0,"top_p":1.0,"truncation":"disabled","usage":null,"user":null,"metadata":{}}}


        event: response.in_progress

        data: {"type":"response.in_progress","sequence_number":1,"response":{"id":"resp_05f40e1a02ba2210016955889d074c81a2bcc3c86f931fcfad","object":"response","created_at":1767213213,"status":"in_progress","background":false,"completed_at":null,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-4.1-2025-04-14","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":null,"summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":"Get
        today''s date.","name":"get_date","parameters":{"properties":{},"type":"object","additionalProperties":false,"required":[]},"strict":true}],"top_logprobs":0,"top_p":1.0,"truncation":"disabled","usage":null,"user":null,"metadata":{}}}


        event: response.output_item.added

        data: {"type":"response.output_item.added","sequence_number":2,"output_index":0,"item":{"id":"fc_05f40e1a02ba2210016955889d57c081a282c496ed0818ed4c","type":"function_call","status":"in_progress","arguments":"","call_id":"call_9jAGz61cbV7rFKNbEL1PHK1N","name":"get_date"}}


        event: response.function_call_arguments.delta

        data: {"type":"response.function_call_arguments.delta","sequence_number":3,"item_id":"fc_05f40e1a02ba2210016955889d57c081a282c496ed0818ed4c","output_index":0,"delta":"{}","obfuscation":"qytDxEjEWtrjpW"}


        event: response.function_call_arguments.done

        data: {"type":"response.function_call_arguments.done","sequence_number":4,"item_id":"fc_05f40e1a02ba2210016955889d57c081a282c496ed0818ed4c","output_index":0,"arguments":"{}"}


        event: response.output_item.done

        data: {"type":"response.output_item.done","sequence_number":5,"output_index":0,"item":{"id":"fc_05f40e1a02ba2210016955889d57c081a282c496ed0818ed4c","type":"function_call","status":"completed","arguments":"{}","call_id":"call_9jAGz61cbV7rFKNbEL1PHK1N","name":"get_date"}}


        event: response.completed

        data: {"type":"response.completed","sequence_number":6,"response":{"id":"resp_05f40e1a02ba2210016955889d074c81a2bcc3c86f931fcfad","object":"response","created_at":1767213213,"status":"completed","background":false,"completed_at":1767213213,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-4.1-2025-04-14","output":[{"id":"fc_05f40e1a02ba2210016955889d57c081a282c496ed0818ed4c","type":"function_call","status":"completed","arguments":"{}","call_id":"call_9jAGz61cbV7rFKNbEL1PHK1N","name":"get_date"}],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":null,"summary":null},"safety_identifier":null,"service_tier":"default","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":"Get
        today''s date.","name":"get_date","parameters":{"properties":{},"type":"object","additionalProperties":false,"required":[]},"strict":true}],"top_logprobs":0,"top_p":1.0,"truncation":"disabled","usage":{"input_tokens":88,"input_tokens_details":{"cached_tokens":0},"output_tokens":11,"output_tokens_details":{"reasoning_tokens":0},"total_tokens":99},"user":null,"metadata":{}}}


        '
    headers:
      CF-RAY:
      - 9b6c8d751968feda-ORD
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Wed, 31 Dec 2025 20:33:33 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-processing-ms:
      - '58'
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '61'
    status:
      code: 200
      message: OK
- request:
    body: '{"input": [{"role": "system", "content": [{"type": "input_text", "text":
      "Be terse and use tool results over your internal knowledge."}]}, {"role": "user",
      "content": [{"type": "input_text", "text": "What year is it today?"}]}, {"type":
      "function_call", "call_id": "1", "name": "get_date", "arguments": "{}"}, {"type":
      "function_call_output", "call_id": "1", "output": "Tool call failed with error:
      ''Chat ended before the tool could be invoked.''"}, {"role": "user", "content":
      [{"type": "input_text", "text": "try again"}]}, {"type": "function_call", "call_id":
      "fc_05f40e1a02ba2210016955889d57c081a282c496ed0818ed4c", "name": "get_date",
      "arguments": "{}"}, {"type": "function_call_output", "call_id": "fc_05f40e1a02ba2210016955889d57c081a282c496ed0818ed4c",
      "output": "2001-02-09"}], "model": "gpt-4.1", "store": false, "stream": true,
      "tools": [{"type": "function", "name": "get_date", "description": "Get today''s
      date.", "parameters": {"properties": {}, "type": "object", "additionalProperties":
      false, "required": []}, "strict": true}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '968'
      Content-Type:
      - application/json
      Cookie:
      - __cf_bm=JnIn3aZfWkXK5cniZIl1hTONAlU2xRApJ3Z4vr_1cGk-1767213213-1.0.1.1-MfMPvyvVfUr5PlqtND72kpzMfC3cy39jU1bOrf.TppjzEWZroGErP57C5QxiLFe6FOGXgE3.wnAtVadlpP_yD5BT6WuvRmrzvNDEFvCJ4vQ;
        _cfuvid=Qv8rEc9KngxUh1y52PiH29lLIL551hI0Muu6iUpwU8M-1767213213094-0.0.1.1-604800000
      Host:
      - api.openai.com
      X-Stainless-Async:
      - 'false'
      x-stainless-read-timeout:
      - '600'
    method: POST
    uri: https://api.openai.com/v1/responses
  response:
    body:
      string: 'event: response.created

        data: {"type":"response.created","sequence_number":0,"response":{"id":"resp_007369375ba8a002016955889dcad081919d0bc5503016de60","object":"response","created_at":1767213213,"status":"in_progress","background":false,"completed_at":null,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-4.1-2025-04-14","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":null,"summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":"Get
        today''s date.","name":"get_date","parameters":{"properties":{},"type":"object","additionalProperties":false,"required":[]},"strict":true}],"top_logprobs":0,"top_p":1.0,"truncation":"disabled","usage":null,"user":null,"metadata":{}}}


        event: response.in_progress

        data: {"type":"response.in_progress","sequence_number":1,"response":{"id":"resp_007369375ba8a002016955889dcad081919d0bc5503016de60","object":"response","created_at":1767213213,"status":"in_progress","background":false,"completed_at":null,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-4.1-2025-04-14","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":null,"summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":"Get
        today''s date.","name":"get_date","parameters":{"properties":{},"type":"object","additionalProperties":false,"required":[]},"strict":true}],"top_logprobs":0,"top_p":1.0,"truncation":"disabled","usage":null,"user":null,"metadata":{}}}


        event: response.output_item.added

        data: {"type":"response.output_item.added","sequence_number":2,"output_index":0,"item":{"id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","type":"message","status":"in_progress","content":[],"role":"assistant"}}


        event: response.content_part.added

        data: {"type":"response.content_part.added","sequence_number":3,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"part":{"type":"output_text","annotations":[],"logprobs":[],"text":""}}


        event: response.output_text.delta

        data: {"type":"response.output_text.delta","sequence_number":4,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"delta":"Today","logprobs":[],"obfuscation":"PdmNhsdEF2r"}


        event: response.output_text.delta

        data: {"type":"response.output_text.delta","sequence_number":5,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"delta":"
        is","logprobs":[],"obfuscation":"HpB5BZkwt9Hd2"}


        event: response.output_text.delta

        data: {"type":"response.output_text.delta","sequence_number":6,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"delta":"
        the","logprobs":[],"obfuscation":"dHCSRbkQb5GA"}


        event: response.output_text.delta

        data: {"type":"response.output_text.delta","sequence_number":7,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"delta":"
        year","logprobs":[],"obfuscation":"BD4cyj8exG7"}


        event: response.output_text.delta

        data: {"type":"response.output_text.delta","sequence_number":8,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"delta":"
        ","logprobs":[],"obfuscation":"YuHF85ysjm2oxtl"}


        event: response.output_text.delta

        data: {"type":"response.output_text.delta","sequence_number":9,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"delta":"200","logprobs":[],"obfuscation":"n8hwcTHybAavo"}


        event: response.output_text.delta

        data: {"type":"response.output_text.delta","sequence_number":10,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"delta":"1","logprobs":[],"obfuscation":"IhO73HUr69ljBul"}


        event: response.output_text.delta

        data: {"type":"response.output_text.delta","sequence_number":11,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"delta":".","logprobs":[],"obfuscation":"1YV7sUo8hL3cBTP"}


        event: response.output_text.done

        data: {"type":"response.output_text.done","sequence_number":12,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"text":"Today
        is the year 2001.","logprobs":[]}


        event: response.content_part.done

        data: {"type":"response.content_part.done","sequence_number":13,"item_id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","output_index":0,"content_index":0,"part":{"type":"output_text","annotations":[],"logprobs":[],"text":"Today
        is the year 2001."}}


        event: response.output_item.done

        data: {"type":"response.output_item.done","sequence_number":14,"output_index":0,"item":{"id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Today
        is the year 2001."}],"role":"assistant"}}


        event: response.completed

        data: {"type":"response.completed","sequence_number":15,"response":{"id":"resp_007369375ba8a002016955889dcad081919d0bc5503016de60","object":"response","created_at":1767213213,"status":"completed","background":false,"completed_at":1767213214,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-4.1-2025-04-14","output":[{"id":"msg_007369375ba8a002016955889e39dc81918c19408cbe8f3b6c","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Today
        is the year 2001."}],"role":"assistant"}],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":null,"summary":null},"safety_identifier":null,"service_tier":"default","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":"Get
        today''s date.","name":"get_date","parameters":{"properties":{},"type":"object","additionalProperties":false,"required":[]},"strict":true}],"top_logprobs":0,"top_p":1.0,"truncation":"disabled","usage":{"input_tokens":110,"input_tokens_details":{"cached_tokens":0},"output_tokens":10,"output_tokens_details":{"reasoning_tokens":0},"total_tokens":120},"user":null,"metadata":{}}}


        '
    headers:
      CF-RAY:
      - 9b6c8d79d8f6634a-ORD
      Connection:
      - keep-alive
      Content-Type:
      - text/event-stream; charset=utf-8
      Date:
      - Wed, 31 Dec 2025 20:33:33 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-processing-ms:
      - '31'
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '34'
    status:
      code: 200
      message: OK
version: 1
