Metadata-Version: 2.4
Name: albi0
Version: 0.5.1
Summary: Plugin-based Unity Asset Extractor
Keywords: unity,asset,extractor,plugin,game,seer
Author: Nattsu39
Author-email: Nattsu39 <nattsu39@outlook.com>
License-Expression: MIT
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Requires-Dist: asyncer>=0.0.8
Requires-Dist: anyio>=4.6.2.post1
Requires-Dist: tqdm>=4.67.0
Requires-Dist: httpx>=0.27.2
Requires-Dist: click>=8.1.7
Requires-Dist: orjson>=3.10.11
Requires-Dist: unitypy>=1.23
Requires-Dist: loguru>=0.7.2
Requires-Dist: aiofiles>=24.1.0
Requires-Dist: slpp>=1.2.3
Requires-Dist: dataclasses-json>=0.6.7
Requires-Python: >=3.10
Project-URL: Bug Tracker, https://github.com/SeerAPI/albi0/issues
Project-URL: Homepage, https://github.com/SeerAPI/albi0
Project-URL: Repository, https://github.com/SeerAPI/albi0
Description-Content-Type: text/markdown

<div align="center">

# Albi0
~~[æ‘¸é±¼çš„å›¾ä¹¦é¦†ç®¡ç†å‘˜](https://wiki.biligame.com/seerplan/%E9%98%BF%E5%B0%94%E6%AF%94%E9%9B%B6)~~<br>
ğŸŸ¨æ’ä»¶åŒ–çš„ Unity æ¸¸æˆèµ„æºæ›´æ–°ä¸æå–å·¥å…·ğŸŸ©

</div>

## åŠŸèƒ½ç‰¹æ€§

- æ’ä»¶åŒ–ï¼šé€šè¿‡æ’ä»¶ç³»ç»Ÿä»¥æ”¯æŒå¤šä¸ªæ¸¸æˆå®¢æˆ·ç«¯ï¼Œå¹¶æä¾›äº†æŠ½è±¡çš„ manifest ç‰ˆæœ¬ç®¡ç†å™¨æ¥å£ï¼Œä¾¿äºæ”¯æŒçƒ­æ›´é€»è¾‘
- å¼‚æ­¥ä¸‹è½½ï¼šåŸºäº `httpx`ã€`anyio` ä¸ `tqdm` çš„é«˜é€Ÿå¹¶å‘ä¸‹è½½ä¸å®æ—¶è¿›åº¦æ˜¾ç¤º

## å·²æ”¯æŒçš„æ¸¸æˆ

- [èµ›å°”è®¡åˆ’](https://www.biligame.com/detail/?id=107861)
- [èµ›å°”å· Unity ç«¯](https://seer.61.com/)

## å®‰è£…

Albi0 æä¾›ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š**CLI å‘½ä»¤è¡Œå·¥å…·** å’Œ **Python API**ã€‚

### ä½¿ç”¨ CLIï¼ˆæ¨èä½¿ç”¨ uvxï¼‰

æ¨èä½¿ç”¨ `uvx` ç›´æ¥è¿è¡Œï¼Œæ— éœ€æœ¬åœ°å®‰è£…ä¾èµ–ï¼Œä½†éœ€è¦å…ˆå®‰è£… `uv`ï¼Œ[uv å®‰è£…æ–‡æ¡£](https://docs.astral.sh/uv/getting-started/installation/)

```bash
# ç›´æ¥è¿è¡Œï¼ˆæ— éœ€å®‰è£…ï¼‰
uvx albi0 --help
```

### ä½¿ç”¨ Python API

```bash
# ä½¿ç”¨ pip å®‰è£…
pip install albi0

# æˆ–ä½¿ç”¨ uv
uv add albi0
```

## å¿«é€Ÿå¼€å§‹

### CLI å¿«é€Ÿå¼€å§‹

1) åˆ—å‡ºå¯ç”¨çš„æ›´æ–°å™¨ä¸æå–å™¨ï¼š

```bash
uvx albi0 list
```

2) æ›´æ–°è¿œç¨‹èµ„æºï¼ˆç¤ºä¾‹ï¼šä¸‹è½½èµ›å°”è®¡åˆ’ AB åŒ…ï¼‰ï¼š

```bash
# å¯é€‰ï¼šåˆ‡æ¢å·¥ä½œç›®å½•ï¼ˆé»˜è®¤å½“å‰ç›®å½•ï¼‰
uvx albi0 update -n newseer.default -w ./newseer
```

3) ä»…æŸ¥çœ‹è¿œç¨‹ç‰ˆæœ¬å·ï¼ˆä¸ä¸‹è½½èµ„æºï¼‰ï¼š

```bash
uvx albi0 update -n newseer.default --version-only
```

4) æå–èµ„æºï¼ˆAB æ–‡ä»¶ â†’ æœ¬åœ°ç›®å½•ï¼‰ï¼š
```bash
# ä½¿ç”¨æŒ‡å®šæå–å™¨æå–ï¼ˆæŒ‰ç»„å/åç§°ï¼‰
uvx albi0 extract -n newseer "./path/to/*.ab" -o ./output

# åˆå¹¶æ¨¡å¼ï¼ˆå°†å¤šä¸ªæºæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªç¯å¢ƒåå†å¯¼å‡ºï¼‰
uvx albi0 extract -n seerproject -m "./assets/**/*.ab" -o ./out

# åŸæ ·å¯¼å‡ºï¼ˆå¿½ç•¥è‡ªå®šä¹‰å¤„ç†ï¼Œä½¿ç”¨é»˜è®¤æå–å™¨ï¼‰
uvx albi0 extract -e "./raw/*.ab" -o ./raw_out
```

æç¤ºï¼šå¯¼å‡ºè·¯å¾„ä¼šè‡ªåŠ¨å¸¦ä¸Šæå–å™¨åå‰ç¼€ï¼Œä¾‹å¦‚ä¼ å…¥ `-n newseer -o ./output`ï¼Œå®é™…å¯¼å‡ºç›®å½•ä¸º `./output/newseer/...`ã€‚

### Python API å¿«é€Ÿå¼€å§‹

```python
import asyncio
import albi0

async def main():
    # ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨è‡ªåŠ¨ç®¡ç†èµ„æº
    async with albi0.session():
        # 1. åŠ è½½æ’ä»¶
        albi0.load_plugin('newseer')
        
        # 2. æå–èµ„æº
        await albi0.extract_assets(
            'newseer',
            'path/to/*.bundle',
            output_dir='./output',
        )
        
        # 3. æ›´æ–°èµ„æº
        await albi0.update_resources(
            'newseer.default',
            working_dir='./game_data'
        )
    # èµ„æºè‡ªåŠ¨æ¸…ç†

asyncio.run(main())
```

æ›´å¤šç¤ºä¾‹è¯·å‚è€ƒ [examples/](./examples/) ç›®å½•ã€‚

## CLI å‚è€ƒ

### é¡¶å±‚å‘½ä»¤

```bash
uvx albi0 --help
uvx albi0 list
uvx albi0 update -n <updater_name> [-w WORKING_DIR] [-s LIMIT] [--version-only] [PATTERNS...]
uvx albi0 extract [OPTIONS] [-t THREADS] [PATTERNS...]
```

### list

- è¯´æ˜ï¼šæ‰“å°å·²æ³¨å†Œçš„æ›´æ–°å™¨ä¸æå–å™¨ï¼ˆæ¥è‡ªå·²å¯¼å…¥çš„æ’ä»¶ï¼‰

### update

- å¿…é€‰å‚æ•°ï¼š`-n, --updater-name` æŒ‡å®šæ›´æ–°å™¨åç§°æˆ–ç»„åï¼ˆå¯ç”¨åç§°è§ `list` è¾“å‡ºï¼‰
- å¯é€‰å‚æ•°ï¼š
  - `-w, --working-dir` åˆ‡æ¢æ‰§è¡Œæ—¶çš„å·¥ä½œç›®å½•
  - `-s, --semaphore-limit` æœ€å¤§å¹¶å‘ä¸‹è½½æ•°ï¼ˆé»˜è®¤ 10ï¼‰
  - `--version-only` ä»…è·å–è¿œç¨‹ç‰ˆæœ¬å·ï¼Œä¸ä¸‹è½½èµ„æºæ–‡ä»¶
- ä½ç½®å‚æ•°ï¼š`PATTERNS...` å¯é€‰çš„æ–‡ä»¶åè¿‡æ»¤æ¨¡å¼ï¼ˆglob è¯­æ³•ï¼‰ï¼Œç”¨äºä»…æ›´æ–°åŒ¹é…çš„æ¸…å•é¡¹
- è¡Œä¸ºï¼š
  - å¯¹æ¯”è¿œç¨‹ä¸æœ¬åœ°èµ„æºæ¸…å•ï¼Œè‹¥éœ€è¦æ›´æ–°åˆ™å¹¶å‘ä¸‹è½½èµ„æºæ–‡ä»¶å¹¶ä¿å­˜æ¸…å•
  - è¿›åº¦æ¡å±•ç¤ºæ¯ä¸ªæ–‡ä»¶çš„ä¸‹è½½è¿›åº¦ä¸æ€»ä½“ä»»åŠ¡è¿›åº¦
  - å½“ä¼ å…¥ `--version-only` æ—¶ï¼Œä»…æ‰“å°è¿œç¨‹ç‰ˆæœ¬å·å¹¶é€€å‡ºï¼Œä¸è¿›è¡Œä¸‹è½½
  - å½“æä¾› `PATTERNS...` æ—¶ï¼Œä»…ä¼šä¸‹è½½æ–‡ä»¶ååŒ¹é… `PATTERNS...` çš„æ¡ç›®

### extract

- å¯é€‰å‚æ•°ï¼š
  - `-o, --output-dir` å¯¼å‡ºç›®å½•ï¼ˆé»˜è®¤å½“å‰ç›®å½•ï¼‰
  - `-n, --extractor-name` æå–å™¨åç§°æˆ–ç»„åï¼ˆé»˜è®¤ `default`ï¼‰
  - `-e, --export-as-is` åŸæ ·å¯¼å‡ºï¼ˆå¼ºåˆ¶ä½¿ç”¨é»˜è®¤æå–å™¨ï¼‰
  - `-m, --merge-extract` åˆå¹¶æ¨¡å¼ï¼ˆå…ˆåˆå¹¶ç¯å¢ƒå†å¯¼å‡ºï¼‰
  - `-t, --parallel-threads` å¹¶è¡Œå¤„ç†ä½¿ç”¨çš„çº¿ç¨‹æ•°ï¼Œå¯æ ¹æ® CPU æ ¸å¿ƒæ•°è°ƒæ•´ï¼ˆé»˜è®¤ 4ï¼‰
- ä½ç½®å‚æ•°ï¼š`PATTERNS...` èµ„æºæ–‡ä»¶çš„ glob æ¨¡å¼ï¼ˆå¦‚ `"./**/*.ab"`ï¼‰
- è¡Œä¸ºï¼š
  - ä¾æ¬¡åŠ è½½åŒ¹é…åˆ°çš„èµ„æºæ–‡ä»¶ï¼Œè°ƒç”¨æ’ä»¶æ³¨å†Œçš„å¤„ç†å™¨è¿›è¡Œå¯¼å‡º
  - åœ¨å¯¹è±¡å¯¼å‡ºå‰åï¼Œå¯ç”±æ’ä»¶çš„å‰/åå¤„ç†å™¨è‡ªå®šä¹‰å¤„ç†é€»è¾‘

## æ’ä»¶ä½“ç³»æ¦‚è§ˆ

- æå–å™¨ï¼ˆExtractorï¼‰ï¼šåœ¨æ’ä»¶æ¨¡å—ä¸­é€šè¿‡æ„é€  `Extractor()` å³å®Œæˆæ³¨å†Œ
- æ›´æ–°å™¨ï¼ˆUpdaterï¼‰ï¼šåœ¨æ’ä»¶æ¨¡å—ä¸­é€šè¿‡æ„é€  `Updater()` å³å®Œæˆæ³¨å†Œ
- åˆ†ç»„æœºåˆ¶ï¼šåç§°æ”¯æŒç‚¹å·åˆ†ç»„ï¼Œä¾‹å¦‚ `newseer.default`ã€`seerproject.ab`ï¼›åœ¨ CLI ä¸­ä¼ å…¥ç»„åå¯æ‰¹é‡æ‰§è¡ŒåŒç»„ç»„ä»¶

## å…¸å‹å·¥ä½œæµ

### CLI å·¥ä½œæµ

```bash
# 1. æŸ¥çœ‹å¯ç”¨ç»„ä»¶
uvx albi0 list

# 2. ä¸‹è½½ï¼ˆæˆ–æ›´æ–°ï¼‰è¿œç¨‹èµ„æº
uvx albi0 update -n newseer.default -w ./workspace

# ä»…ä¸‹è½½åŒ¹é…çš„èµ„æºï¼ˆä½¿ç”¨ glob è¿‡æ»¤ï¼‰
uvx albi0 update -n newseer.default "*.builtin" "Shader/*"

# è°ƒæ•´å¹¶å‘æ•°ä¸‹è½½
uvx albi0 update -n newseer.default -s 20

# 3. æå–èµ„æºåˆ°æœ¬åœ°
uvx albi0 extract -n newseer "./workspace/newseer/assetbundles/**/*.ab" -m -o ./exports

# ä½¿ç”¨å¤šçº¿ç¨‹åŠ é€Ÿæå–
uvx albi0 extract -n newseer "./workspace/newseer/assetbundles/**/*.ab" -m -o ./exports -t 8
```

### Python API å·¥ä½œæµ

```python
import asyncio
import albi0

async def main():
    # ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨è‡ªåŠ¨ç®¡ç†èµ„æº
    async with albi0.session():
        # 1. åŠ è½½æ’ä»¶
        albi0.load_plugin('newseer')
        
        # 2. æŸ¥çœ‹å¯ç”¨ç»„ä»¶
        print("æå–å™¨ï¼š", list(albi0.list_extractors().keys()))
        print("æ›´æ–°å™¨ï¼š", list(albi0.list_updaters().keys()))
        
        # 3. æ›´æ–°èµ„æº
        await albi0.update_resources(
            'newseer.default',
            '*.builtin', 'Shader/*',  # è¿‡æ»¤ç‰¹å®šæ–‡ä»¶
            working_dir='./workspace',
            max_workers=20  # å¹¶å‘æ•°
        )
        
        # 4. æå–èµ„æº
        await albi0.extract_assets(
            'newseer',
            './workspace/newseer/assetbundles/**/*.ab',
            output_dir='./exports',
            merge_extract=True,
            max_workers=8  # çº¿ç¨‹æ•°
        )
    # èµ„æºè‡ªåŠ¨æ¸…ç†

asyncio.run(main())
```

## Python API å‚è€ƒ

Albi0 æä¾›äº†ç®€å•æ˜“ç”¨çš„ Python APIï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š

### æ’ä»¶ç®¡ç†

```python
# åŠ è½½å•ä¸ªæ’ä»¶
albi0.load_plugin('newseer')

# åŠ è½½æ‰€æœ‰æ’ä»¶
albi0.load_all_plugins()

# åˆ—å‡ºå¯ç”¨å¤„ç†å™¨
extractors = albi0.list_extractors()  # dict[str, str]
updaters = albi0.list_updaters()      # dict[str, str]
```

### èµ„æºæå–

```python
await albi0.extract_assets(
    extractor_name,                 # æå–å™¨åç§°
    *patterns,                      # æ–‡ä»¶è·¯å¾„æ¨¡å¼ï¼ˆæ”¯æŒ globï¼‰
    output_dir='.',                 # è¾“å‡ºç›®å½•
    merge_extract=False,            # æ˜¯å¦åˆå¹¶æå–ï¼ˆå°†æ‰€æœ‰æ–‡ä»¶ä½œä¸ºä¸€ä¸ªç¯å¢ƒå¤„ç†ï¼‰
    max_workers=4,                  # å¹¶è¡Œå¤„ç†çš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°
    export_unknown_as_typetree=True # æœªçŸ¥ç±»å‹æ˜¯å¦å¯¼å‡ºä¸º TypeTree
)
```

### èµ„æºæ›´æ–°

```python
await albi0.update_resources(
    updater_name,                   # æ›´æ–°å™¨åç§°ï¼ˆå¿…éœ€ï¼‰
    *patterns,                      # æ–‡ä»¶è¿‡æ»¤æ¨¡å¼ï¼ˆå¯é€‰ï¼‰
    working_dir=None,               # å·¥ä½œç›®å½•
    manifest_path=None,             # è‡ªå®šä¹‰æ¸…å•è·¯å¾„
    max_workers=10,                 # å¹¶å‘ä¸‹è½½æ•°
    ignore_version=False,           # æ˜¯å¦å¿½ç•¥ç‰ˆæœ¬æ£€æŸ¥
    save_manifest=True              # æ˜¯å¦ä¿å­˜æ¸…å•
)

# è·å–è¿œç¨‹ç‰ˆæœ¬
version = await albi0.get_remote_version('newseer.default')
```

### èµ„æºç®¡ç†

```python
# æ¨èï¼šä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆè‡ªåŠ¨æ¸…ç†ï¼‰
async with albi0.session():
    await albi0.extract_assets('newseer', '*.bundle')
    await albi0.update_resources('newseer.default')
# èµ„æºè‡ªåŠ¨æ¸…ç†

# é«˜çº§ï¼šä½¿ç”¨è‡ªå®šä¹‰ HTTP å®¢æˆ·ç«¯ï¼ˆé…ç½®è¶…æ—¶ã€ä»£ç†ç­‰ï¼‰
from httpx import AsyncClient, Timeout

custom_client = AsyncClient(
    timeout=Timeout(60.0),
    proxies={"http://": "http://proxy:8080"},
    headers={"User-Agent": "MyApp/1.0"}
)

async with albi0.session(custom_client):
    await albi0.update_resources('newseer.default')
# è‡ªå®šä¹‰å®¢æˆ·ç«¯è‡ªåŠ¨å…³é—­

# å‘åå…¼å®¹ï¼šæ‰‹åŠ¨æ¸…ç†ï¼ˆä¸æ¨èï¼‰
try:
    await albi0.extract_assets('newseer', '*.bundle')
finally:
    await albi0.cleanup()
```

### é«˜çº§ç”¨æ³•ï¼šè®¿é—®æ ¸å¿ƒç±»

```python
from albi0 import (
    Extractor,              # èµ„æºæå–å™¨
    Updater,                # èµ„æºæ›´æ–°å™¨
    Downloader,             # ä¸‹è½½å™¨
    AbstractVersionManager, # ç‰ˆæœ¬ç®¡ç†å™¨åŸºç±»
)

# åˆ›å»ºè‡ªå®šä¹‰æå–å™¨
custom_extractor = Extractor(
    'my_custom',
    'è‡ªå®šä¹‰æå–å™¨',
    # å¯æ·»åŠ è‡ªå®šä¹‰å¤„ç†å™¨
)

# åˆ›å»ºè‡ªå®šä¹‰æ›´æ–°å™¨
custom_updater = Updater(
    'my_custom',
    'è‡ªå®šä¹‰æ›´æ–°å™¨',
    version_manager=MyVersionManager(...),
    downloader=Downloader(...),
)
```

### API ä¸ CLI å¯¹æ¯”

| åŠŸèƒ½ | CLI å‘½ä»¤ | Python API |
|-----|---------|-----------|
| æå–èµ„æº | `albi0 extract -n newseer *.bundle` | `await albi0.extract_assets('newseer', '*.bundle')` |
| æ›´æ–°èµ„æº | `albi0 update -n newseer.default` | `await albi0.update_resources('newseer.default')` |
| åˆ—å‡ºå¤„ç†å™¨ | `albi0 list` | `albi0.list_extractors()` / `albi0.list_updaters()` |
| æ’ä»¶åŠ è½½ | âœ… è‡ªåŠ¨åŠ è½½ | âŒ éœ€æ‰‹åŠ¨è°ƒç”¨ `load_plugin()` |

### æ³¨æ„äº‹é¡¹

1. **å¼‚æ­¥æ¥å£**ï¼šæ‰€æœ‰ API å‡½æ•°éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œéœ€è¦ä½¿ç”¨ `await` è°ƒç”¨
2. **æ’ä»¶åŠ è½½**ï¼šä½¿ç”¨ API å‰éœ€è¦å…ˆåŠ è½½ç›¸åº”çš„æ’ä»¶ï¼ˆCLI ä¼šè‡ªåŠ¨åŠ è½½ï¼‰
3. **èµ„æºç®¡ç†**ï¼šæ¨èä½¿ç”¨ `async with albi0.session()` è‡ªåŠ¨ç®¡ç†èµ„æºï¼Œæ”¯æŒä¼ å…¥è‡ªå®šä¹‰ HTTP å®¢æˆ·ç«¯
4. **é”™è¯¯å¤„ç†**ï¼šAPI å‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå»ºè®®ä½¿ç”¨ try-except å¤„ç†

æ›´å¤šè¯¦ç»†ç¤ºä¾‹å’Œæ–‡æ¡£ï¼Œè¯·å‚è€ƒï¼š
- [examples/](./examples/) - ä½¿ç”¨ç¤ºä¾‹
- [examples/README.md](./examples/README.md) - ç¤ºä¾‹æ–‡æ¡£

## å¼€å‘æµç¨‹

é¡¹ç›®ä½¿ç”¨ `uv` è¿›è¡Œä¾èµ–ç®¡ç†ä¸æ„å»ºï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/SeerAPI/albi0.git

# å®‰è£…ä¾èµ–ï¼ˆåŒ…å«å¼€å‘/æµ‹è¯•ä¾èµ–ï¼‰
uv sync

# æœ¬åœ°è¿è¡Œ CLI
uv run albi0 --help

# è¿è¡Œæµ‹è¯•ï¼Œæš‚æ—¶è¿˜æ²¡å†™
# uv run --group test pytest

# æ„å»ºå‘è¡ŒåŒ…
uv build
```

## å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰

### CLI ç›¸å…³
- Q: ä¸ºä»€ä¹ˆæ²¡æœ‰çœ‹åˆ°æˆ‘æ–°å†™çš„æ’ä»¶ç”Ÿæ•ˆï¼Ÿ
  - A: CLI ä¼šè‡ªåŠ¨åŠ è½½æ‰€æœ‰æ’ä»¶ã€‚ç¡®ä¿æ’ä»¶æ¨¡å—åœ¨ `albi0/plugins/` ç›®å½•ä¸­ï¼Œå¹¶ä¸”åœ¨ `albi0/cli/__init__.py` ä¸­è¢«å¯¼å…¥ã€‚
- Q: ä¸‹è½½å¾ˆæ…¢/å¤±è´¥ï¼Ÿ
  - A: é»˜è®¤å¹¶å‘æ•°æ˜¯ 10ï¼Œå¯¹äºæŸäº›ç½‘ç»œç¯å¢ƒæˆ–æœåŠ¡å™¨é™åˆ¶å¯èƒ½ä¸æ˜¯æœ€ä¼˜ã€‚å¯ä»¥å°è¯•ä½¿ç”¨ `-s` æˆ– `--semaphore-limit` é€‰é¡¹å‡å°‘å¹¶å‘æ•°ï¼Œä¾‹å¦‚ `-s 5`ã€‚å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥ç½‘ç»œæˆ–è€ƒè™‘ä½¿ç”¨ä»£ç†ã€‚
- Q: å¯¼å‡ºç»“æœçš„æ ¼å¼ä¸ç¬¦åˆé¢„æœŸï¼Ÿ
  - A: æ£€æŸ¥å¯¹åº”æ’ä»¶çš„å¯¹è±¡å‰å¤„ç†å™¨ä¸èµ„æºåå¤„ç†å™¨é€»è¾‘ï¼Œæˆ–ä½¿ç”¨ `-e/--export-as-is` åŸæ ·å¯¼å‡ºã€‚

### Python API ç›¸å…³
- Q: ä¸ºä»€ä¹ˆæ’ä»¶æ²¡æœ‰ç”Ÿæ•ˆï¼Ÿ
  - A: Python API éœ€è¦æ‰‹åŠ¨åŠ è½½æ’ä»¶ï¼Œä½¿ç”¨ `albi0.load_plugin('plugin_name')` æˆ– `albi0.load_all_plugins()`ã€‚
- Q: å¦‚ä½•è‡ªå®šä¹‰ HTTP å®¢æˆ·ç«¯ï¼ˆé…ç½®è¶…æ—¶ã€ä»£ç†ç­‰ï¼‰ï¼Ÿ
  - A: ä½¿ç”¨ `session()` ä¸Šä¸‹æ–‡ç®¡ç†å™¨ä¼ å…¥è‡ªå®šä¹‰å®¢æˆ·ç«¯ï¼š
  ```python
  from httpx import AsyncClient, Timeout
  
  client = AsyncClient(
      timeout=Timeout(60.0),
      proxies={"http://": "http://proxy:8080"}
  )
  
  async with albi0.session(client):
      await albi0.update_resources('newseer.default')
  ```
- Q: å¦‚ä½•å¤„ç†å¼‚å¸¸ï¼Ÿ
  - A: API å‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå»ºè®®ä½¿ç”¨ try-except å¤„ç†ï¼š
  ```python
  async with albi0.session():
      try:
          await albi0.update_resources('newseer.default')
      except ValueError as e:
          print(f"é…ç½®é”™è¯¯ï¼š{e}")
      except Exception as e:
          print(f"å‘ç”Ÿé”™è¯¯ï¼š{e}")
  ```

## ç›®å½•ç»“æ„ï¼ˆç®€è¦ï¼‰

```
albi0/
â”œâ”€â”€ api.py               # Python API å…¥å£
â”œâ”€â”€ __init__.py          # åŒ…åˆå§‹åŒ–ï¼Œæš´éœ² API
â”œâ”€â”€ cli/                 # CLI å‘½ä»¤ç³»ç»Ÿ
â”‚   â”œâ”€â”€ commands/        # å…·ä½“å‘½ä»¤å®ç°
â”‚   â””â”€â”€ __init__.py      # CLI ä¸»æ¡†æ¶
â”œâ”€â”€ plugins/             # æ’ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ seerproject.py   # èµ›å°”å·Unityç«¯æ’ä»¶
â”‚   â””â”€â”€ newseer.py       # èµ›å°”è®¡åˆ’æ’ä»¶
â”œâ”€â”€ extract/             # èµ„æºæå–æ ¸å¿ƒ
â”‚   â”œâ”€â”€ extractor.py     # æå–å™¨å®ç°
â”‚   â””â”€â”€ registry.py      # æå–å™¨æ³¨å†Œè¡¨
â”œâ”€â”€ update/              # æ›´æ–°åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ downloader.py    # ä¸‹è½½å™¨å®ç°
â”‚   â”œâ”€â”€ updater.py       # æ›´æ–°å™¨å®ç°
â”‚   â””â”€â”€ version.py       # ç‰ˆæœ¬ç®¡ç†å™¨å®ç°
â”œâ”€â”€ bytes_reader.py      # å­—èŠ‚æµè¯»å–å·¥å…·
â”œâ”€â”€ utils.py             # é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ typing.py            # ç±»å‹å®šä¹‰
â”œâ”€â”€ log.py               # æ—¥å¿—é…ç½®
â”œâ”€â”€ container.py         # æ’ä»¶å®¹å™¨
â””â”€â”€ request.py           # httpx å®¢æˆ·ç«¯å°è£…

examples/                # Python API ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ README.md            # ç¤ºä¾‹æ–‡æ¡£
â”œâ”€â”€ basic_extract.py     # åŸºç¡€æå–ç¤ºä¾‹
â”œâ”€â”€ basic_update.py      # åŸºç¡€æ›´æ–°ç¤ºä¾‹
â””â”€â”€ advanced_usage.py    # é«˜çº§ç”¨æ³•ç¤ºä¾‹
```

## è®¸å¯è¯

MIT
