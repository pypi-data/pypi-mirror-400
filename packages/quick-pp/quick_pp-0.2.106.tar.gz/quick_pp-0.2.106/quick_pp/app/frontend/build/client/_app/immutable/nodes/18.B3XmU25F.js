import{p as he,F as me,e as a,v as fe,l as Et,g as t,m as P,H as m,b as ha,i as _e,f as k,k as N,w as V,t as y,c as ge,n as f,r as _,U as $t,Q as Xt,z as ue,J as O,K as fa,Z as Zt,G as C,C as dt,h as vt,I as l,N as z,X as Ct,R as _a,P as ga}from"../chunks/tJ-1PvYF.js";import{_ as Na}from"../chunks/PPVm8Dsz.js";import{B as pe}from"../chunks/DZ5Aek4G.js";import{w as Ne,h as wa,f as xa}from"../chunks/DAWgyOON.js";import{D as ya}from"../chunks/BRt1D930.js";import{P as ba}from"../chunks/Ba3EtZVA.js";const Sa=()=>({title:"Water Saturation",subtitle:"Saturation estimations for the selected well"}),rr=Object.freeze(Object.defineProperty({__proto__:null,load:Sa},Symbol.toStringTag,{value:"Module"}));var Pa=k('<div class="text-sm text-blue-600"> </div>'),Ta=k('<div class="text-sm text-red-500 mb-2"> </div>'),$a=k('<div class="text-xs text-green-600 ml-3"> </div>'),Ma=k('<div class="text-sm"> </div>'),ka=k('<div class="text-sm text-gray-500">No TVD/DEPTH data available</div>'),Ra=k('<div class="text-sm text-gray-500">No TVD/DEPTH data available</div>'),Fa=k('<div class="text-sm"> </div>'),Aa=k('<div class="text-sm text-gray-500">No temp gradient computed</div>'),Da=k('<div class="text-sm"> </div>'),Wa=k('<div class="text-sm text-gray-500">No Rw computed</div>'),Ea=k('<div class="text-sm"> </div>'),Ca=k('<div class="text-sm text-gray-500">No B computed</div>'),Va=k('<div><div class="font-medium text-sm mb-1">Estimated B</div> <!></div>'),ja=k('<div class="text-sm"> </div>'),Ia=k('<div class="text-sm text-gray-500"> </div>'),qa=k('<div class="text-sm"> </div>'),La=k('<div class="text-sm text-gray-500">No m* computed</div>'),Ha=k("<div><strong>Archie SWT:</strong> </div>"),Oa=k("<div><strong>Archie SWT:</strong> No data</div>"),Ba=k("<div><strong>Waxman-Smits SWT:</strong> </div>"),Qa=k("<div><strong>Waxman-Smits SWT:</strong> No data</div>"),za=k('<div class="bg-panel rounded p-3"><!> <div class="grid grid-cols-2 gap-2 mb-3"><div><label class="text-sm" for="m-param">Cementation exponent, m</label> <input id="m-param" type="number" class="input"/></div> <div><label class="text-sm" for="rw-param">Formation water resistivity, Rw</label> <input id="rw-param" type="number" class="input"/></div></div> <div class="font-medium text-sm mb-1">Pickett Plot</div> <div class="bg-surface rounded p-2"><div class="w-full h-[300px]"></div></div> <div class="font-medium text-sm mb-1 mt-3">Cwa vs Vclay/PHIT Plot</div> <div class="mb-3"><label class="text-sm" for="slope-param">Slope</label> <input id="slope-param" type="number" class="input"/></div> <div class="bg-surface rounded p-2"><div class="w-full h-[300px]"></div></div> <div class="flex items-center pt-4 space-x-2"><input id="use-slope-for-qv" type="checkbox"/> <label for="use-slope-for-qv" class="text-sm font-medium">Use slope to calc BQv</label></div> <div class="grid grid-cols-2 gap-2 mb-3"><div><label class="text-sm" for="meas-system">Measurement system</label> <select id="meas-system" class="input"><option>Metric</option><option>Imperial</option></select></div> <div><label class="text-sm" for="water-salinity">Water salinity</label> <input id="water-salinity" type="number" class="input"/></div></div> <div class="mb-3 flex gap-2 items-center"><!> <!> <!></div> <div class="space-y-3"><div><div class="font-medium text-sm mb-1">TVD Data</div> <!></div> <div><div class="font-medium text-sm mb-1">Temp Gradient</div> <!></div> <div><div class="font-medium text-sm mb-1">Estimated Rw</div> <!></div> <!> <div><div class="font-medium text-sm mb-1"> </div> <!></div> <div><div class="font-medium text-sm mb-1">Estimated m*</div> <!></div> <div><div class="font-medium text-sm mb-1">Saturation Plot (Archie vs Waxman-Smits)</div> <div class="bg-surface rounded p-2"><div class="h-[220px] w-full overflow-hidden"><div class="w-full h-[220px]"></div></div></div> <div class="text-xs text-muted-foreground-foreground space-y-1 mt-3"><!> <!></div></div></div></div>'),Ja=k('<div class="text-sm">Select a well to view water saturation tools.</div>'),Ga=k('<div class="ws-saturation"><div class="mb-2"><div class="font-semibold">Water Saturation</div> <div class="text-sm text-muted-foreground">Water saturation calculations and displays.</div></div> <!> <!></div>');function Ua(Vt,xt){he(xt,!1);let L=me(xt,"projectId",8),I=me(xt,"wellName",8);const J="http://localhost:6312";let X=P({enabled:!1,minDepth:null,maxDepth:null}),Mt=P({enabled:!1,zones:[]}),j=P([]),ht=P("metric"),yt=P(35e3),U=P(2),st=P(.1),ft=P(2),_t=P(!1),q=P(!1),A=P(null),kt=P(!1),Rt=new Map,Ft=P(null),At=P([]),K=P([]),H=P([]),mt=P([]),ut=P([]),G=P([]),et=P([]),it=P([]),gt=P([]),Z=P([]),ot=P([]),jt=null,nt=P(null),lt=P(null),ct=P(null),bt=P(!1),St=P(null),Dt=null,Nt=0,we=120,at=P(null);const xe=1e3;async function ye(){if(!L()||!I())return;const o=`${L()}_${I()}`;if(Rt.has(o)){a(At,Rt.get(o)),a(kt,!0);return}a(q,!0),a(A,null),a(at,null);try{a(at,"Initiating well data loading...");const i=await be(),{task_id:u,result:b}=i;let s;if(b?s=b:(a(at,"Waiting for well data..."),s=await Se(u)),!Array.isArray(s))throw new Error("Unexpected data format from backend");a(At,s),Rt.set(o,s),a(kt,!0)}catch(i){console.warn("Failed to load well data",i),a(A,String(i?.message??i))}finally{a(q,!1),a(at,null)}}async function be(){const o=await fetch(`${J}/quick_pp/database/projects/${L()}/wells/${encodeURIComponent(String(I()))}/merged/generate`,{method:"POST"});if(!o.ok)throw new Error(await o.text());const i=await o.json();if(!i.task_id)throw new Error("No task_id returned from server");return{task_id:i.task_id,result:i.result}}function Pt(){Dt&&(clearInterval(Dt),Dt=null),a(at,null)}async function Se(o){const i=`${J}/quick_pp/database/projects/${L()}/wells/${encodeURIComponent(String(I()))}/merged/result/${o}`;return new Promise((u,b)=>{Nt=0;const s=async()=>{if(Nt>=we){const p="Well data loading timed out after 2 minutes";console.error(p),Pt(),b(new Error(p));return}try{const p=await fetch(i);if(!p.ok)throw new Error(`Poll failed with status ${p.status}`);const w=await p.json();w.status==="success"?(Pt(),u(w.result)):w.status==="error"?(Pt(),b(new Error(w.error||"Task failed with unknown error"))):w.status==="pending"?(a(at,`Loading well data... (${Nt}s)`),Nt++):(Pt(),b(new Error(`Unknown task status: ${w.status}`)))}catch(p){console.error("Poll request failed:",p),a(at,`Retrying... (attempt ${Nt})`),Nt++}};s(),Dt=window.setInterval(s,xe)})}function Pe(){const o=t(j),i=[];for(const u of o){const b=u.tvdss??u.TVDSS??u.tvd??u.TVD??u.depth??u.DEPTH??NaN,s=Number(b);isNaN(s)||i.push({tvdss:s})}return i}async function Te(){const o=Pe();if(!o.length){a(A,"No TVD/DEPTH values found in well data");return}a(q,!0),a(A,null),a(K,[]),a(H,[]);try{const i={meas_system:t(ht),data:o},u=await fetch(`${J}/quick_pp/saturation/temp_grad`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!u.ok)throw new Error(await u.text());const b=await u.json(),s=Array.isArray(b)?b.map(T=>Number(T.TEMP_GRAD??T.temp_grad??T.value??NaN)):[];a(K,s);const p={water_salinity:Number(t(yt)),data:s.map(T=>({temp_grad:T}))},w=await fetch(`${J}/quick_pp/saturation/rw`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!w.ok)throw new Error(await w.text());const v=await w.json();a(H,Array.isArray(v)?v.map(T=>Number(T.RW??T.rw??NaN)):[])}catch(i){console.warn("TempGrad/Rw error",i),a(A,String(i?.message??i))}finally{a(q,!1)}}async function $e(){a(K,[]),a(H,[]),a(mt,[]),a(ut,[]),a(G,[]),a(et,[]),a(it,[]),a(A,null),a(q,!0);try{if(await Te(),t(A)||(await Me(),t(A)))return;await ke()}catch(o){console.warn("Estimate Water Saturation error",o),a(A,String(o?.message??o))}finally{a(q,!1)}}async function Me(){if(!t(H)||t(H).length===0){a(A,"Please compute Rw first");return}const o=t(j),i=[],u=[];let b=0;for(const s of o){const p=Number(s.depth??s.DEPTH??NaN),w=Number(s.rt??s.RT??s.Rt??s.res??s.RES??NaN),v=Number(s.phit??s.PHIT??s.Phit??NaN),T=Number(t(U));if(isNaN(w)||isNaN(v))continue;const n=t(H)[b++]??NaN;isNaN(n)||(i.push({rt:w,rw:n,phit:v,m:T}),u.push(p))}if(!i.length){a(A,"No RT/PHIT rows available for Archie");return}a(q,!0),a(A,null),a(mt,[]);try{const s={data:i},p=await fetch(`${J}/quick_pp/saturation/archie`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!p.ok)throw new Error(await p.text());const w=await p.json();a(mt,Array.isArray(w)?w.map(v=>Number(v.SWT??v.swt??NaN)):[]),a(Z,t(mt).map((v,T)=>({depth:u[T],SWT:v})).filter(v=>!isNaN(Number(v.depth))))}catch(s){console.warn("Archie error",s),a(A,String(s?.message??s))}finally{a(q,!1)}}async function ke(){if(!t(H)||t(H).length===0||!t(K)||t(K).length===0){a(A,"Please compute Temp Grad and Rw first");return}const o=[],i=[],u=[],b=[],s=t(j);for(const n of s){const x=Number(n.nphi??n.NPHI??n.Nphi??NaN),h=Number(n.phit??n.PHIT??n.Phit??NaN),c=Number(n.vclay??n.VCLAY??n.vcld??n.VCLD??NaN);!isNaN(x)&&!isNaN(h)&&i.push({nphi:x,phit:h}),!isNaN(c)&&!isNaN(h)&&o.push({vclay:c,phit:h})}for(let n=0;n<t(K).length;n++){const x=t(K)[n],h=t(H)[n];!isNaN(Number(x))&&!isNaN(Number(h))&&u.push({temp_grad:x,rw:h})}if(a(G,[]),u.length)try{const n={data:u},x=await fetch(`${J}/quick_pp/saturation/b_waxman_smits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!x.ok)throw new Error(await x.text());const h=await x.json();a(G,Array.isArray(h)?h.map(c=>Number(c.B??c.b??NaN)):[])}catch(n){console.warn("B estimation error",n)}if(a(et,[]),t(_t)){if(a(G,t(G).map(()=>1)),o.length&&t(G).length)try{a(et,o.map((n,x)=>{const h=Number(n.phit),c=Number(n.vclay),R=t(G)[x];if(h>0&&h<1&&!isNaN(c)&&!isNaN(R)&&R!==0){const W=c/h;return t(ft)/R*W}return NaN}))}catch(n){console.warn("Qvn from slope error",n)}}else{let n=[];if(i.length)try{const x={data:i},h=await fetch(`${J}/quick_pp/porosity/shale_porosity`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!h.ok)throw new Error(await h.text());const c=await h.json();n=Array.isArray(c)?c.map(R=>Number(R.PHIT_SH??R.phit_sh??NaN)):[]}catch(x){console.warn("Shale porosity error",x)}if(o.length&&n.length)try{const h={data:o.map((W,tt)=>({vclay:W.vclay,phit:W.phit,phit_clay:n[tt]}))},c=await fetch(`${J}/quick_pp/saturation/estimate_qvn`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!c.ok)throw new Error(await c.text());const R=await c.json();a(et,Array.isArray(R)?R.map(W=>Number(W.QVN??W.qvn??NaN)):[])}catch(x){console.warn("Qvn error",x)}}let p=0,w=0,v=0;a(it,[]);const T=[];for(const n of s){const x=Number(n.depth??n.DEPTH??NaN),h=Number(n.rt??n.RT??n.res??n.RES??NaN),c=Number(n.phit??n.PHIT??n.Phit??NaN),R=Number(n.vclay??n.VCLAY??n.vcld??n.VCLD??NaN);if(isNaN(h)||isNaN(c))continue;const W=t(H)[v++]??NaN,tt=t(et)[p++]??NaN,rt=t(G)[w++]??NaN;if(isNaN(W)||isNaN(tt)||isNaN(rt))continue;const Wt=1/W,wt=1+rt*tt/Wt;let pt=Number(t(U));c>0&&c<1&&wt>0&&(pt=Number(t(U))+Math.log(wt)/Math.log(c)),t(it).push(pt),b.push({rt:h,rw:W,phit:c,qv:tt,b:rt,m:pt,vclay:R}),T.push(x)}if(!b.length){a(A,"Insufficient data to run Waxman-Smits (need rt, phit, rw, qvn, b)");return}a(q,!0),a(A,null),a(ut,[]);try{const n={data:b},x=await fetch(`${J}/quick_pp/saturation/waxman_smits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!x.ok)throw new Error(await x.text());const h=await x.json();a(ut,Array.isArray(h)?h.map(c=>Number(c.SWT??c.swt??NaN)):[]),a(ot,t(ut).map((c,R)=>({depth:T[R],SWT:c})).filter(c=>!isNaN(Number(c.depth))))}catch(n){console.warn("Waxman-Smits error",n),a(A,String(n?.message??n))}finally{a(q,!1)}}async function It(){if(!jt){const o=await Na(()=>import("../chunks/BJMC0GYJ.js").then(i=>i.p),[],import.meta.url);jt=o?.default??o}return jt}async function Re(){if(!t(nt))return;const o=await It(),i=[];if(t(Z)&&t(Z).length>0&&(i.push({x:t(Z).map(s=>Number(s.depth)),y:t(Z).map(s=>s.SWT),name:"Archie SWT",mode:"lines",line:{color:"#2563eb"}}),i.push({x:[Math.min(...t(Z).map(s=>Number(s.depth))),Math.max(...t(Z).map(s=>Number(s.depth)))],y:[1,1],mode:"lines",line:{color:"black",width:1,dash:"dash"},showlegend:!1})),t(ot)&&t(ot).length>0&&i.push({x:t(ot).map(s=>Number(s.depth)),y:t(ot).map(s=>s.SWT),name:"Waxman-Smits SWT",mode:"lines",line:{color:"#dc2626"}}),i.length===0){try{o.purge(t(nt))}catch{}return}const b={height:220,margin:{l:60,r:20,t:20,b:40},dragmode:"zoom",xaxis:{title:"Depth"},yaxis:{title:"SWT (fraction)",range:[0,1.5],tickformat:".2f",fixedrange:!0},showlegend:!0,legend:{...{x:1,y:1,xanchor:"right",yanchor:"top"},bgcolor:"rgba(255,255,255,0.75)",borderwidth:1}};try{o.react(t(nt),i,b,{responsive:!0})}catch{o.newPlot(t(nt),i,b,{responsive:!0})}}async function Fe(){if(!t(lt))return;const o=await It(),i=[];for(const v of t(j)){const T=Number(v.rt??v.RT??v.res??v.RES??NaN),n=Number(v.phit??v.PHIT??v.Phit??NaN),x=Number(v.vclay??v.VCLAY??v.vcld??v.VCLD??NaN);T>0&&n>0&&i.push({rt:T,phit:n,vclay:x})}if(i.length===0){try{o.purge(t(lt))}catch{}return}const u=[],b={size:4,opacity:.6,color:i.map(v=>v.vclay),colorscale:"Earth",showscale:!0,cmin:0,cmax:1,colorbar:{title:"Vclay",thickness:10,x:1.3}};u.push({x:i.map(v=>v.rt),y:i.map(v=>v.phit),mode:"markers",type:"scatter",name:"Data",marker:b});const s=t(U),p=[.001,.02,.05,.1,.2,.3,.4,.5,.7,1];for(let v=1;v<=5;v++){const T=t(st)+(v-1)*.2,n=Number(t(st)/T*100).toFixed(0),x=p.map(h=>Math.pow(h,-s)*T);u.push({x,y:p,mode:"lines",name:`Sw=${n}%`,line:{dash:"dash",width:1}})}const w={title:`Pickett Plot (m=${s}, Rw=${t(st).toFixed(3)})`,height:300,width:600,margin:{l:50,r:110,t:30,b:40},xaxis:{type:"log",title:"Rt (ohm.m)",range:[Math.log10(.01),Math.log10(100)],dtick:1},yaxis:{type:"log",title:"PHIT (v/v)",range:[Math.log10(.01),Math.log10(1)],dtick:1},showlegend:!0,legend:{x:1,y:1}};try{o.react(t(lt),u,w,{responsive:!0})}catch{o.newPlot(t(lt),u,w,{responsive:!0})}}async function Ae(){if(!t(ct))return;const o=await It();if(t(gt).length===0){try{o.purge(t(ct))}catch{}return}const i=t(it),u=t(st),b=t(ft),s=t(gt).map(c=>{const R=Number(c.vclay),W=Number(c.phit);return W!==0?R/W:NaN}),p=t(gt).map((c,R)=>{const W=Number(c.rt),tt=Number(c.phit),rt=i.length>R&&!isNaN(i[R])?i[R]:t(U);return W>0&&tt>0?1/(W*Math.pow(tt,rt)):NaN}),w=s.map((c,R)=>({x:c,y:p[R]})).filter(c=>!isNaN(c.x)&&!isNaN(c.y)),v=[];v.push({x:w.map(c=>c.x),y:w.map(c=>c.y),mode:"markers",type:"scatter",name:"Data",marker:{size:4,color:"blue",opacity:.5}});const T=w.length>0?Math.max(...w.map(c=>c.x)):1,n=[0,T>0?T:1],x=n.map(c=>1/u+c*b);v.push({x:n,y:x,mode:"lines",name:`Slope=${b}`,line:{color:"red",dash:"dash"}});const h={title:"Cwa vs Vclay/PHIT Ratio",height:300,width:600,margin:{l:50,r:20,t:30,b:40},xaxis:{title:"Vclay / PHIT Ratio",range:[0,1]},yaxis:{title:"Cwa (1/ohm.m)",range:[0,70]},showlegend:!0};try{o.react(t(ct),v,h,{responsive:!0})}catch{o.newPlot(t(ct),v,h,{responsive:!0})}}function De(){const o=[];for(const i of t(j)){const u=Number(i.rt??i.RT??i.res??i.RES??NaN),b=Number(i.phit??i.PHIT??i.Phit??NaN),s=Number(i.vclay??i.VCLAY??i.vcld??i.VCLD??NaN);!isNaN(u)&&!isNaN(b)&&!isNaN(s)&&o.push({rt:u,phit:b,vclay:s})}a(gt,o)}async function We(){if(!L()||!I()){a(A,"Project and well must be selected before saving");return}const o=new Map;for(const s of t(Z)){const p=Number(s.depth);isNaN(p)||o.set(p,Number(s.SWT))}const i=new Map;for(const s of t(ot)){const p=Number(s.depth);isNaN(p)||i.set(p,Number(s.SWT))}const u=Array.from(new Set([...o.keys(),...i.keys()])).sort((s,p)=>s-p);if(!u.length){a(A,"No saturation results to save");return}const b=u.map(s=>{const p={DEPTH:s};return o.has(s)&&(p.SWT_ARCHIE=o.get(s)),i.has(s)&&(p.SWT=i.get(s)),p});a(bt,!0),a(St,null),a(A,null);try{const s={data:b},p=`${J}/quick_pp/database/projects/${L()}/wells/${encodeURIComponent(String(I()))}/data`,w=await fetch(p,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!w.ok)throw new Error(await w.text());const v=await w.json().catch(()=>null);a(St,v&&v.message?String(v.message):"Saturation results saved");try{window.dispatchEvent(new CustomEvent("qpp:data-updated",{detail:{projectId:L(),wellName:I(),kind:"saturation"}}))}catch{}}catch(s){console.warn("Save saturation error",s),a(St,null),a(A,String(s?.message??s))}finally{a(bt,!1)}}function Tt(o){const i=o.filter(h=>!isNaN(h)),u=i.length;if(u===0)return null;const s=i.reduce((h,c)=>h+c,0)/u,p=Math.min(...i),w=Math.max(...i),v=i.slice().sort((h,c)=>h-c),T=(v[Math.floor((u-1)/2)]+v[Math.ceil((u-1)/2)])/2,n=i.reduce((h,c)=>h+Math.pow(c-s,2),0)/u,x=Math.sqrt(n);return{count:u,mean:s,min:p,max:w,median:T,std:x}}const Ee=Ne.subscribe(o=>{o?.depthFilter&&a(X,{...o.depthFilter}),o?.zoneFilter&&a(Mt,{...o.zoneFilter})});fe(()=>{Ee(),Pt()});let qt=P("");Et(()=>(t(At),t(X),t(Mt)),()=>{a(j,(()=>{let o=t(At)||[];return o=wa(o,t(X)),o=xa(o,t(Mt)),o})())}),Et(()=>t(j),()=>{t(j)&&De()}),Et(()=>(t(nt),t(lt),t(ct),t(U),t(st),t(ft),t(Z),t(ot),t(gt),t(X),t(j),t(Ft)),()=>{(t(nt)||t(lt)||t(ct))&&(t(U)||t(st)||t(ft))&&(t(Z)?.length>0||t(ot)?.length>0||t(gt)?.length>0||t(X)||t(j).length>0)&&(t(Ft)&&clearTimeout(t(Ft)),a(Ft,setTimeout(()=>{Re(),Fe(),Ae()},150)))}),Et(()=>(m(L()),m(I()),t(qt),t(kt)),()=>{const o=`${L()}_${I()}`;L()&&I()&&o!==t(qt)&&(a(qt,o),(!t(kt)||!Rt.has(o))&&ye())}),ha(),_e();var Lt=Ga(),te=N(f(Lt),2);ya(te,{});var Ce=N(te,2);{var Ve=o=>{var i=za(),u=f(i);{var b=r=>{var e=Pa(),S=f(e,!0);_(e),O(()=>z(S,t(at)?t(at):"Loading well logâ€¦")),y(r,e)},s=r=>{var e=dt(),S=vt(e);{var D=F=>{var g=Ta(),d=f(g);_(g),O(()=>z(d,`Error: ${t(A)??""}`)),y(F,g)};V(S,F=>{t(A)&&F(D)},!0)}y(r,e)};V(u,r=>{t(q)?r(b):r(s,!1)})}var p=N(u,2),w=f(p),v=N(f(w),2);$t(v),_(w);var T=N(w,2),n=N(f(T),2);$t(n),_(T),_(p);var x=N(p,4),h=f(x);Xt(h,r=>a(lt,r),()=>t(lt)),_(x);var c=N(x,4),R=N(f(c),2);$t(R),_(c);var W=N(c,2),tt=f(W);Xt(tt,r=>a(ct,r),()=>t(ct)),_(W);var rt=N(W,2),Wt=f(rt);$t(Wt),ue(2),_(rt);var wt=N(rt,2),pt=f(wt),Ht=N(f(pt),2);O(()=>{t(ht),fa(()=>{})});var Ot=f(Ht);Ot.value=Ot.__value="metric";var ee=N(Ot);ee.value=ee.__value="imperial",_(Ht),_(pt);var ae=N(pt,2),re=N(f(ae),2);$t(re),_(ae),_(wt);var Bt=N(wt,2),se=f(Bt);{let r=C(()=>t(q)?"opacity:0.5; pointer-events:none;":"");pe(se,{class:"btn btn-primary",onclick:$e,get disabled(){return t(q)},get style(){return t(r)},children:(e,S)=>{ue();var D=Zt("Estimate Water Saturation");y(e,D)},$$slots:{default:!0}})}var ie=N(se,2);{let r=C(()=>t(q)||t(bt)),e=C(()=>t(q)||t(bt)?"opacity:0.5; pointer-events:none;":"");pe(ie,{class:"btn ml-2 bg-emerald-700",onclick:We,get disabled(){return t(r)},get style(){return t(e)},children:(S,D)=>{var F=dt(),g=vt(F);{var d=$=>{var E=Zt("Saving...");y($,E)},M=$=>{var E=Zt("Save Saturation");y($,E)};V(g,$=>{t(bt)?$(d):$(M,!1)})}y(S,F)},$$slots:{default:!0}})}var Ie=N(ie,2);{var qe=r=>{var e=$a(),S=f(e,!0);_(e),O(()=>z(S,t(St))),y(r,e)};V(Ie,r=>{t(St)&&r(qe)})}_(Bt);var oe=N(Bt,2),Qt=f(oe),Le=N(f(Qt),2);{var He=r=>{const e=C(()=>(t(j),l(()=>t(j).map(d=>Number(d.tvdss??d.TVDSS??d.tvd??d.TVD??d.depth??d.DEPTH)).filter(d=>!isNaN(d)))));var S=dt(),D=vt(S);{var F=d=>{const M=C(()=>(m(t(e)),l(()=>Math.min(...t(e))))),$=C(()=>(m(t(e)),l(()=>Math.max(...t(e)))));var E=Ma(),B=f(E);_(E),O((Q,Y)=>z(B,`Min: ${Q??""} | Max: ${Y??""} | Count: ${m(t(e)),l(()=>t(e).length)??""}`),[()=>(m(t(M)),l(()=>t(M).toFixed(2))),()=>(m(t($)),l(()=>t($).toFixed(2)))]),y(d,E)},g=d=>{var M=ka();y(d,M)};V(D,d=>{m(t(e)),l(()=>t(e).length>0)?d(F):d(g,!1)})}y(r,S)},Oe=r=>{var e=Ra();y(r,e)};V(Le,r=>{t(j),l(()=>t(j).length)?r(He):r(Oe,!1)})}_(Qt);var zt=N(Qt,2),Be=N(f(zt),2);{var Qe=r=>{const e=C(()=>(t(K),l(()=>Tt(t(K)))));var S=dt(),D=vt(S);{var F=g=>{var d=Fa(),M=f(d);_(d),O(($,E,B,Q,Y)=>z(M,`Avg: ${$??""} | Min: ${E??""} | Max: ${B??""} | Median: ${Q??""} | Std: ${Y??""} | Count: ${m(t(e)),l(()=>t(e).count)??""}`),[()=>(m(t(e)),l(()=>t(e).mean.toFixed(2))),()=>(m(t(e)),l(()=>t(e).min.toFixed(2))),()=>(m(t(e)),l(()=>t(e).max.toFixed(2))),()=>(m(t(e)),l(()=>t(e).median.toFixed(2))),()=>(m(t(e)),l(()=>t(e).std.toFixed(2)))]),y(g,d)};V(D,g=>{t(e)&&g(F)})}y(r,S)},ze=r=>{var e=Aa();y(r,e)};V(Be,r=>{t(K),l(()=>t(K).length)?r(Qe):r(ze,!1)})}_(zt);var Jt=N(zt,2),Je=N(f(Jt),2);{var Ge=r=>{const e=C(()=>(t(H),l(()=>Tt(t(H)))));var S=dt(),D=vt(S);{var F=g=>{var d=Da(),M=f(d);_(d),O(($,E,B,Q,Y)=>z(M,`Avg: ${$??""} | Min: ${E??""} | Max: ${B??""} | Median: ${Q??""} | Std: ${Y??""} | Count: ${m(t(e)),l(()=>t(e).count)??""}`),[()=>(m(t(e)),l(()=>t(e).mean.toFixed(3))),()=>(m(t(e)),l(()=>t(e).min.toFixed(3))),()=>(m(t(e)),l(()=>t(e).max.toFixed(3))),()=>(m(t(e)),l(()=>t(e).median.toFixed(3))),()=>(m(t(e)),l(()=>t(e).std.toFixed(3)))]),y(g,d)};V(D,g=>{t(e)&&g(F)})}y(r,S)},Ue=r=>{var e=Wa();y(r,e)};V(Je,r=>{t(H),l(()=>t(H).length)?r(Ge):r(Ue,!1)})}_(Jt);var ne=N(Jt,2);{var Ke=r=>{var e=Va(),S=N(f(e),2);{var D=g=>{const d=C(()=>(t(G),l(()=>Tt(t(G)))));var M=dt(),$=vt(M);{var E=B=>{var Q=Ea(),Y=f(Q);_(Q),O((da,va,ma,ua,pa)=>z(Y,`Avg: ${da??""} | Min: ${va??""} | Max: ${ma??""} | Median: ${ua??""} | Std: ${pa??""} | Count: ${m(t(d)),l(()=>t(d).count)??""}`),[()=>(m(t(d)),l(()=>t(d).mean.toFixed(3))),()=>(m(t(d)),l(()=>t(d).min.toFixed(3))),()=>(m(t(d)),l(()=>t(d).max.toFixed(3))),()=>(m(t(d)),l(()=>t(d).median.toFixed(3))),()=>(m(t(d)),l(()=>t(d).std.toFixed(3)))]),y(B,Q)};V($,B=>{t(d)&&B(E)})}y(g,M)},F=g=>{var d=Ca();y(g,d)};V(S,g=>{t(G),l(()=>t(G).length)?g(D):g(F,!1)})}_(e),y(r,e)};V(ne,r=>{t(_t)||r(Ke)})}var Gt=N(ne,2),Ut=f(Gt),Ye=f(Ut);_(Ut);var Xe=N(Ut,2);{var Ze=r=>{const e=C(()=>(t(et),l(()=>Tt(t(et)))));var S=dt(),D=vt(S);{var F=g=>{var d=ja(),M=f(d);_(d),O(($,E,B,Q,Y)=>z(M,`Avg: ${$??""} | Min: ${E??""} | Max: ${B??""} | Median: ${Q??""} | Std: ${Y??""} | Count: ${m(t(e)),l(()=>t(e).count)??""}`),[()=>(m(t(e)),l(()=>t(e).mean.toFixed(3))),()=>(m(t(e)),l(()=>t(e).min.toFixed(3))),()=>(m(t(e)),l(()=>t(e).max.toFixed(3))),()=>(m(t(e)),l(()=>t(e).median.toFixed(3))),()=>(m(t(e)),l(()=>t(e).std.toFixed(3)))]),y(g,d)};V(D,g=>{t(e)&&g(F)})}y(r,S)},ta=r=>{var e=Ia(),S=f(e);_(e),O(()=>z(S,`No ${t(_t)?"BQv":"Qv"} computed`)),y(r,e)};V(Xe,r=>{t(et),l(()=>t(et).length)?r(Ze):r(ta,!1)})}_(Gt);var Kt=N(Gt,2),ea=N(f(Kt),2);{var aa=r=>{const e=C(()=>(t(it),l(()=>Tt(t(it)))));var S=dt(),D=vt(S);{var F=g=>{var d=qa(),M=f(d);_(d),O(($,E,B,Q,Y)=>z(M,`Avg: ${$??""} | Min: ${E??""} | Max: ${B??""} | Median: ${Q??""} | Std: ${Y??""} | Count: ${m(t(e)),l(()=>t(e).count)??""}`),[()=>(m(t(e)),l(()=>t(e).mean.toFixed(3))),()=>(m(t(e)),l(()=>t(e).min.toFixed(3))),()=>(m(t(e)),l(()=>t(e).max.toFixed(3))),()=>(m(t(e)),l(()=>t(e).median.toFixed(3))),()=>(m(t(e)),l(()=>t(e).std.toFixed(3)))]),y(g,d)};V(D,g=>{t(e)&&g(F)})}y(r,S)},ra=r=>{var e=La();y(r,e)};V(ea,r=>{t(it),l(()=>t(it).length)?r(aa):r(ra,!1)})}_(Kt);var le=N(Kt,2),Yt=N(f(le),2),ce=f(Yt),sa=f(ce);Xt(sa,r=>a(nt,r),()=>t(nt)),_(ce),_(Yt);var de=N(Yt,2),ve=f(de);{var ia=r=>{const e=C(()=>t(mt)),S=C(()=>(m(t(e)),l(()=>t(e).reduce((M,$)=>M+$,0)/t(e).length))),D=C(()=>(m(t(e)),l(()=>Math.min(...t(e))))),F=C(()=>(m(t(e)),l(()=>Math.max(...t(e)))));var g=Ha(),d=N(f(g));_(g),O((M,$,E)=>z(d,` Avg: ${M??""} | Min: ${$??""} | Max: ${E??""} | Count: ${m(t(e)),l(()=>t(e).length)??""}`),[()=>(m(t(S)),l(()=>t(S).toFixed(2))),()=>(m(t(D)),l(()=>t(D).toFixed(2))),()=>(m(t(F)),l(()=>t(F).toFixed(2)))]),y(r,g)},oa=r=>{var e=Oa();y(r,e)};V(ve,r=>{t(mt),l(()=>t(mt).length>0)?r(ia):r(oa,!1)})}var na=N(ve,2);{var la=r=>{const e=C(()=>t(ut)),S=C(()=>(m(t(e)),l(()=>t(e).reduce((M,$)=>M+$,0)/t(e).length))),D=C(()=>(m(t(e)),l(()=>Math.min(...t(e))))),F=C(()=>(m(t(e)),l(()=>Math.max(...t(e)))));var g=Ba(),d=N(f(g));_(g),O((M,$,E)=>z(d,` Avg: ${M??""} | Min: ${$??""} | Max: ${E??""} | Count: ${m(t(e)),l(()=>t(e).length)??""}`),[()=>(m(t(S)),l(()=>t(S).toFixed(2))),()=>(m(t(D)),l(()=>t(D).toFixed(2))),()=>(m(t(F)),l(()=>t(F).toFixed(2)))]),y(r,g)},ca=r=>{var e=Qa();y(r,e)};V(na,r=>{t(ut),l(()=>t(ut).length>0)?r(la):r(ca,!1)})}_(de),_(le),_(oe),_(i),O(()=>z(Ye,`Estimated ${t(_t)?"BQv":"Qv"}`)),Ct(v,()=>t(U),r=>a(U,r)),Ct(n,()=>t(st),r=>a(st,r)),Ct(R,()=>t(ft),r=>a(ft,r)),_a(Wt,()=>t(_t),r=>a(_t,r)),ga(Ht,()=>t(ht),r=>a(ht,r)),Ct(re,()=>t(yt),r=>a(yt,r)),y(o,i)},je=o=>{var i=Ja();y(o,i)};V(Ce,o=>{I()?o(Ve):o(je,!1)})}_(Lt),y(Vt,Lt),ge()}var Ka=k('<div slot="left"><!></div>');function sr(Vt,xt){he(xt,!1);let L=P(null),I=P(null);const J=Ne.subscribe(X=>{a(L,X?.project??null),a(I,X?.selectedWell??null)});fe(()=>J()),_e(),ba(Vt,{get selectedWell(){return t(I)},get project(){return t(L)},$$slots:{left:(X,Mt)=>{var j=Ka(),ht=f(j);{let yt=C(()=>t(L)?.project_id??""),U=C(()=>t(I)?.name??"");Ua(ht,{get projectId(){return t(yt)},get wellName(){return t(U)}})}_(j),y(X,j)}}}),ge()}export{sr as component,rr as universal};
