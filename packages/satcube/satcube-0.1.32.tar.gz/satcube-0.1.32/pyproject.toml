[tool.poetry]
name    = "satcube"
version = "0.1.32"
description = "A Python package to create cloud-free monthly composites by fusing Landsat and Sentinel-2 data."
authors = ["Cesar Aybar <fcesar.aybar@uv.es>"]
repository     = "https://github.com/IPL-UV/satcube"
documentation  = "https://ipl-uv.github.io/satcube/"
readme         = "README.md"
packages       = [{ include = "satcube" }]

[tool.poetry.dependencies]
python          = ">=3.9"
cubexpress      = "0.1.28"
mlstac          = ">=0.4.5"
satalign        = "0.1.16"         
segmentation-models-pytorch = ">=0.3.0"
phicloudmask    = ">=0.0.2" 
scikit-learn    = ">=1.2.0"
requests        = ">=2.26.0"
xarray          = ">=2023.7.0"  
tqdm            = ">=4.67.1"
torch           = ">=2.0.0"
sen2sr          = ">=0.8.5"

[tool.poetry.extras]
full = ["torch"]

# --- tooling fixes ----------------------------------------------------------
[tool.mypy]
files                   = ["satcube"]
disallow_untyped_defs   = true
disallow_any_unimported = true
no_implicit_optional    = true
check_untyped_defs      = true
warn_return_any         = true
warn_unused_ignores     = true
show_error_codes        = true

[tool.ruff]
target-version = "py310"
line-length = 120
fix = true

[tool.ruff.lint]
select = ["YTT","S","B","A","C4","T10","SIM","I","C90","E","W","F","PGH","UP","RUF","TRY"]
ignore = [
    "E501",   
    "E731",   
    "RUF002", 
    "SIM108", 
    "RUF059", 
    "TRY003", 
    "C901",   
    "TRY300", 
    "S112",   
    "S110",   
    "SIM101", 
    "S101",   
    "RUF003", 
]

[tool.ruff.lint.per-file-ignores]
"__init__.py" = ["F401", "E402"]  
"_quiet.py" = ["E402"]            
"utils.py" = ["S101"]             