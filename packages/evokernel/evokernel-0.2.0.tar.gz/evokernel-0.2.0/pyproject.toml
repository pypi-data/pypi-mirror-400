[project]
name = "evokernel"
version = "0.2.0"
description = "CUDA kernel optimization agent powered by OpenEvolve - fork of gptme"
authors = [
    { name = "Joseph Tso" },
]
readme = "README.md"
license = "MIT"
requires-python = ">=3.10,<3.14"
dependencies = [
    "click>=8.0",
    "click-default-group>=1.2.4",
    "python-dotenv>=1.0.0",
    "rich>=13.5.2",
    "tabulate",
    "pick>=2.2.0",
    "tiktoken>=0.7",
    "tomlkit",
    "typing-extensions",
    "platformdirs>=4.3",
    "lxml",
    "json-repair>=0.32.0",
    "mcp>=1.13.0",
    "questionary>=2.1.0",
    "prompt-toolkit>=3.0",
    "deprecated>=1.2.18",
    "python-dateutil>=2.9.0.post0",
    "pyyaml>=6.0.3",
    "ipython>=8.17.2",
    "bashlex>=0.18",
    "pillow",
    "pydantic>=2.11.7",
    "multiprocessing-logging>=0.3.4",
    "openai>=1.0",
    "anthropic>=0.47",
    "numpy>=1.22.0",
    "tqdm>=4.64.0",
    "flask>=3.0",
    "flask-socketio>=5.3",
    "python-socketio>=5.0",
    "eventlet>=0.33",
    "jinja2>=3.1",
    "dacite>=1.9.2",
    "modal>=1.3.0",
]

[project.scripts]
evokernel = "evokernel.cli:main"

[tool.poetry]
packages = [
    { include = "gptme" },
    { include = "openevolve" },
    { include = "evokernel" },
]
include = ["gptme/server/static/**/*", "media/*.png", "media/*.wav"]

[tool.poetry.dependencies]
python = ">=3.10,<3.14"

# gptme core
click = "^8.0"
click-default-group = "^1.2.4"
python-dotenv = "^1.0.0"
rich = "^13.5.2"
tabulate = "*"
pick = "^2.2.0"
tiktoken = ">=0.7"
tomlkit = "*"
typing-extensions = "*"
platformdirs = "^4.3"
lxml = "*"
json-repair = "^0.32.0"
mcp = "^1.13.0"
questionary = "^2.1.0"
prompt-toolkit = "^3.0"
deprecated = "^1.2.18"
python-dateutil = "^2.9.0.post0"
pyyaml = "^6.0.3"
ipython = "^8.17.2"
bashlex = "^0.18"
pillow = "*"
pydantic = "^2.11.7"
multiprocessing-logging = "^0.3.4"

# LLM providers
openai = "^1.0"
anthropic = "^0.47"

# OpenEvolve
numpy = ">=1.22.0"
tqdm = ">=4.64.0"
flask = "^3.0"
flask-socketio = "^5.3"
python-socketio = "^5.0"
eventlet = "^0.33"
jinja2 = "^3.1"
dacite = ">=1.9.2"
modal = ">=1.3.0"

# evokernel-specific
tree-sitter = {version = "^0.23", optional = true}

[tool.poetry.extras]
cuda-parser = ["tree-sitter"]
server = ["flask", "flask-cors"]
browser = ["playwright"]
datascience = ["matplotlib", "pandas", "scipy"]

[tool.poetry.group.dev.dependencies]
mypy = "*"
ruff = "*"
pytest = "^8.0"
pytest-cov = "*"

[tool.ruff]
target-version = "py310"

[tool.ruff.lint]
select = ["E4", "E7", "E9", "F", "B", "UP", "I"]
ignore = ["E402", "E501", "B905"]

[build-system]
requires = ["poetry-core>=2.0"]
build-backend = "poetry.core.masonry.api"
