<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Bikeshed Documentation</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet"></style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="no-ref p-name" id="title">Bikeshed Documentation</h1>
   <h2 class="no-num no-ref no-toc" id="profile-and-date">Living Standard,
    <time class="dt-updated" datetime="2026-01-05">5 January 2026</time></h2>
   <div data-fill-with="spec-metadata"></div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"></p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract"></div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="multipage-table-of-contents" id="toc"></nav>
  <main>
   <p>When writing specifications for the open web,
the canonical way to test new features and ensure interoperability
is to contribute the testsuite to the <a href="https://wpt.fyi/about">Web Platform Tests</a> project.
Bikeshed has some useful tools to interact with WPT information.</p>
   <h3 class="dfn-paneled heading settled" data-dfn-type="element" data-export data-level="12.1" data-lt="wpt" id="wpt-element"><span class="secno">12.1. </span><span class="content">
Annotating Specs with Tests: the <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element③">wpt</a></code> element</span><a class="self-link" href="#wpt-element" id="ref-for-wpt-element②③"></a></h3>
   <p>When writing tests,
you can sometimes link to the section of the spec that you’re testing,
to make it easier to review.
But when you’re actually reading (or updating!) the spec,
you can’t tell what sections are tested or untested,
or what tests might need to be updated due to a change you’re making.
The <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element④">wpt</a></code> element lets you easily link to your WPT testcases inline,
right next to the text they’re testing,
and helps make sure that the testsuite and the spec are kept in-sync.</p>
   <p>The <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element⑤">wpt</a></code> element is a block-level element for parsing purposes;
place it after or between paragraphs/etc.
The contents of the element are line-based:
each line contains a single test path
(the path under the <a href="https://github.com/web-platform-tests/wpt">WPT repo</a>,
so not including the domain or the <code class="highlight">/web-platforms-tests/wpt/</code>)
pointing to the test covering some nearby text.</p>
   <div class="example" id="example-794c9f23">
    <a class="self-link" href="#example-794c9f23"></a>
	For example:

	
<pre class="highlight">Implementations must FOO whenever they would also BAR.

<c- p>&lt;</c-><c- f>wpt</c-><c- p>></c->
  /foo-spec/foo-whenever-you-bar.html
  /foo-spec/no-foo-when-no-bar.html
<c- p>&lt;/</c-><c- f>wpt</c-><c- p>></c->
</pre>
   </div>
   <p>If all or most of your tests have a common path prefix,
you can specify it in <a data-link-type="dfn" href="testing.html#metadata-wpt-path-prefix" id="ref-for-metadata-wpt-path-prefix">WPT Path Prefix</a> metadata,
and then leave it off of all the individual test lines.
This also triggers Bikeshed to complain if it knows of any tests under that prefix
that don’t show up in your spec.</p>
   <p>An explicit <dfn class="dfn-paneled" data-dfn-for="wpt, wpt-rest" data-dfn-type="element-attr" data-export id="element-attrdef-wpt-pathprefix"><code class="highlight">pathprefix</code></dfn> attribute
can also provide the path prefix for a single <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element⑥">wpt</a></code> block,
overriding the metadata if specified.</p>
   <div class="example" id="example-123bb00c">
    <a class="self-link" href="#example-123bb00c"></a>
	If the preceding example used <a data-link-type="dfn" href="testing.html#metadata-wpt-path-prefix" id="ref-for-metadata-wpt-path-prefix①">WPT Path Prefix</a>,
	the <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element⑦">wpt</a></code> element could be shorter:

	
<pre class="highlight"><c- p>&lt;</c-><c- f>pre</c-> <c- e>class</c-><c- o>=</c-><c- s>metadata</c-><c- p>></c->
WPT Display: open
WPT Path Prefix: /foo-spec/
<c- p>&lt;/</c-><c- f>pre</c-><c- p>></c->

...

Implementations must FOO whenever they would also BAR.

<c- p>&lt;</c-><c- f>wpt</c-><c- p>></c->
  foo-whenever-you-bar.html
  no-foo-when-no-bar.html
<c- p>&lt;/</c-><c- f>wpt</c-><c- p>></c->
</pre>
    <p>Alternately, the path prefix could be indicated just on the one block:</p>
<pre class="highlight">Implementations must FOO whenever they would also BAR.

<c- p>&lt;</c-><c- f>wpt</c-> <c- e>pathprefix</c-><c- o>=</c-><c- s>"/foo-spec/"</c-><c- p>></c->
  foo-whenever-you-bar.html
  no-foo-when-no-bar.html
<c- p>&lt;/</c-><c- f>wpt</c-><c- p>></c->
</pre>
   </div>
   <p>For debugging purposes,
a single <dfn class="dfn-paneled" data-dfn-type="element" data-export data-lt="wpt-rest" id="elementdef-wpt-rest"><code class="highlight"><c- p>&lt;</c-><c- f>wpt-rest</c-><c- p>></c-></code></dfn> element can be used in a spec,
which will act like a <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element⑧">wpt</a></code> element containing all the tests under the current path prefix
that aren’t already specified in a <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element⑨">wpt</a></code> element.
As this defeats Bikeshed’s ability to tell you when you’re missing any tests,
Bikeshed will emit a warning as long as a <code><a data-link-type="element" href="#elementdef-wpt-rest" id="ref-for-elementdef-wpt-rest">wpt-rest</a></code> element is in use.</p>
   <p>Bikeshed’s knowledge of valid tests allows some useful checks:</p>
   <ul>
    <li data-md>
     <p>If <a data-link-type="dfn" href="testing.html#metadata-wpt-path-prefix" id="ref-for-metadata-wpt-path-prefix②">WPT Path Prefix</a> is specified,
then any tests under that prefix that aren’t specified in a <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①⓪">wpt</a></code> element
will trigger a fatal error,
so you’ll be alerted when new tests are added.</p>
    <li data-md>
     <p>If you specify a path that doesn’t exist
(or <em>no longer</em> exists due to tests being moved or deleted),
it will trigger a fatal error.</p>
     <p>This check can be disabled for a given <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①①">wpt</a></code> element
by giving it the <dfn class="dfn-paneled idl-code" data-dfn-for="wpt" data-dfn-type="attribute" data-export id="dom-wpt-skip-existence-check"><code class="highlight">skip-existence-check</code></dfn> boolean attribute.
This allows you to point to private tests,
such as those in browser-specific repos,
without receiving errors about those tests missing
from the main WPT repository.</p>
   </ul>
   <p>By default, <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①②">wpt</a></code> elements don’t display in the output document;
they’re intended to annotate the source file to help with spec authoring,
and trigger Bikeshed’s checks.
If you want to produce a test-annotated version of the output,
specify the <a data-link-type="dfn" href="testing.html#metadata-wpt-display" id="ref-for-metadata-wpt-display">WPT Display</a> metadata with the value "open" or "closed";
all of the <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①③">wpt</a></code> elements will become usefully-formatted lists of their contained tests,
with links to <a href="https://wpt.fyi">wpt.fyi</a>,
the live test on <a href="https://w3c-test.org">w3c-test.org</a>,
and the source code on <a href="https://github.com/web-platform-tests/wpt">GitHub</a>.
The difference between "open" and "closed" is that
with the former, all <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①④">wpt</a></code> elements are initially displayed in a collapsed state
to avoid getting in the way of reading the document,
while "open" causes them to be expanded initially.
In either case, the use can interactively collapse or expand each element.</p>
   <figure>
    
	<img height="195" src="images/wpt-display-open.png" srcset="images/wpt-display-open.png 2x" width="600">
	
    <figcaption>
		When <code class="highlight">WPT Display: open</code> is set,
		the <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①⑤">wpt</a></code> element turns into a "TESTS" block.
	</figcaption>
   </figure>
   <figure>
    
	<img height="104" src="images/wpt-display-closed.png" srcset="images/wpt-display-closed.png 2x" width="600">
	
    <figcaption>
		When <code class="highlight">WPT Display: closed</code> is set,
		the <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①⑥">wpt</a></code> element also turns into a "TESTS" block,
		but it is initially collapsed.
	</figcaption>
   </figure>
   <p class="note" role="note"><span class="marker">Note:</span> For compatibility with earlier versions of Bikshed,
"inline" is accepted as a synonym of "open".</p>
   <p>When the  <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-hidden" id="ref-for-attr-hidden">hidden</a> attribute is set on the <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①⑦">wpt</a></code> element,
Bikeshed will take the tests listed in that element into account,
but exclude them from the output,
even when producing a test-annotated version.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This can be useful
when tests for all versions or levels of a single specification are stored together
under a single directory.
Using <a data-link-type="dfn" href="testing.html#metadata-wpt-path-prefix" id="ref-for-metadata-wpt-path-prefix③">WPT Path Prefix</a> would cause Bikeshed to complain
if the tests are not listed,
but the tests may only be relevant for a later version of the specification.
In such cases,
listing the tests in a <code class="highlight"><c- p>&lt;</c-><c- f>wpt</c-> <c- e>hidden</c-><c- p>></c-></code> element silences the warnings,
without adding anything irrelevant to the output.</p>
   <p>Information about a set of tests described in a <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①⑧">wpt</a></code> element
can be provided to the reader
by writing it in the <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/dom.html#attr-title" id="ref-for-attr-title">title</a> attribute of the <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element①⑨">wpt</a></code> element.
This will be inserted in the output as an introductory paragraph
before the test list.
A <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/dom.html#attr-lang" id="ref-for-attr-lang">lang</a> or <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/dom.html#attr-dir" id="ref-for-attr-dir">dir</a> set on the <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element②⓪">wpt</a></code> element
will apply to the introductory paragraph if there is one.</p>
   <div class="example" id="example-1076be64">
    <a class="self-link" href="#example-1076be64"></a>
	
<pre class="highlight"><c- p>&lt;</c-><c- f>h1</c-> <c- e>id</c-><c- o>=</c-><c- s>intro</c-><c- p>></c->Introduction<c- p>&lt;/</c-><c- f>h1</c-><c- p>></c->

This specification introduces…

<c- p>&lt;</c-><c- f>wpt</c-> <c- e>title</c-><c- o>=</c-><c- s>"The following tests are crash tests</c->
<c- s>            that relate to general usage</c->
<c- s>            of the features described in this specification</c->
<c- s>            but are not tied to any particular normative statement."</c-><c- p>></c->
crash-001.html
crash-002.html
<c- p>&lt;/</c-><c- f>wpt</c-><c- p>></c->
</pre>
    <p>The test block in the example above would be rendered as follows:</p>
    <figure>
		<img alt="A WPT element with a list of tests, preceded by an introductory paragraph" height="168" src="images/tests-with-intro.png" srcset="images/tests-with-intro.png 2x" width="624">
	</figure>
   </div>
   <p>If multiple <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element②①">wpt</a></code> follow each other in the source,
with nothing between them other than whitespace,
they will be fused together in the output,
visually taking less space than if they remained as separate elements.
This will work even
if they have different <a data-link-type="element-attr" href="#element-attrdef-wpt-pathprefix" id="ref-for-element-attrdef-wpt-pathprefix">pathprefix</a>
or <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/dom.html#attr-title" id="ref-for-attr-title①">title</a> attributes.
When merging elements with <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/dom.html#attr-title" id="ref-for-attr-title②">title</a> attributes,
the tests listed in each element will be preceded by the relevant introductory paragraph,
and visually separated from tests listed in different <code><a data-link-type="element" href="#wpt-element" id="ref-for-wpt-element②②">wpt</a></code> elements.</p>
   <p class="note" role="note"><span class="marker">Note:</span> More tools and options for integrating with WPT will be developed in the future.</p>
   <h3 class="heading settled" data-level="12.2" id="updating-tests"><span class="secno">12.2. </span><span class="content">Updating Lists of Tests</span><a class="self-link" href="#updating-tests"></a></h3>
   <p>If Bikeshed reports that a test doesn’t exist,
but you’re sure that it does
(and have checked the spelling!),
make sure your data files are up-to-date with <code class="highlight">bikeshed update</code>
(see <a href="#cli-update">§ 3.6 bikeshed update</a>) for details).</p>
   <p>If you’ve <em>just</em> pushed a new test to WPT
and Bikeshed’s update hasn’t picked it up yet,
try doing a manual update with <code class="highlight">bikeshed update --wpt --skip-manifest</code>.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-num no-ref" id="conformance">
    Conformance</h2>
   <p>
            Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification.

        </p>
   <p>
            All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-biblio-type="normative" data-link-type="biblio" data-lt="RFC2119">[RFC2119]</a>

        </p>
   <p>
            Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code nohighlight>class="example"</code>, like this:

        </p>
   <div class="example" id="example-example">
            This is an example of an informative example.
        </div>
   <p>
            Informative notes begin with the word “Note”
            and are set apart from the normative text with <code nohighlight>class="note"</code>, like this:

        </p>
   <p class="note">
            Note, this is an informative note.</p>
   <wpt title="Tests relating to the content of this specification
                    may be documented in “Tests” blocks.
                    Any such block is non-normative."></wpt>
  </div>
<script></script>