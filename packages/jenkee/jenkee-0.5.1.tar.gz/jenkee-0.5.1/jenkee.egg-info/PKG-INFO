Metadata-Version: 2.4
Name: jenkee
Version: 0.5.1
Summary: Jenkins CLI Helper Tools
Author-email: "Ching Yi, Chan" <chingyichan.tw@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/qrtt1/jenkins-inspector
Project-URL: Repository, https://github.com/qrtt1/jenkins-inspector
Project-URL: Issues, https://github.com/qrtt1/jenkins-inspector/issues
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Build Tools
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: python-dotenv>=1.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0; extra == "dev"
Requires-Dist: pytest-html>=4.0; extra == "dev"
Requires-Dist: testcontainers>=3.7.1; extra == "dev"
Requires-Dist: black>=22.0; extra == "dev"
Requires-Dist: flake8>=5.0; extra == "dev"
Requires-Dist: mypy>=0.990; extra == "dev"
Provides-Extra: release
Requires-Dist: build>=1.0.0; extra == "release"
Requires-Dist: twine>=4.0.0; extra == "release"

# jenkee

[![PyPI version](https://badge.fury.io/py/jenkee.svg)](https://pypi.org/project/jenkee/)
[![Python Support](https://img.shields.io/pypi/pyversions/jenkee.svg)](https://pypi.org/project/jenkee/)
[![Tests](https://github.com/qrtt1/jenkins-inspector/actions/workflows/test.yml/badge.svg)](https://github.com/qrtt1/jenkins-inspector/actions/workflows/test.yml)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> [!NOTE]
> **è®“ AI Agent å¹«ä½ æ¢ç´¢å’Œç®¡ç† Jenkins çš„ CLI å·¥å…·**
>
> Jenkins CLI å·¥å…·ï¼Œæä¾›å‘½ä»¤åˆ—ä»‹é¢ä¾†ç®¡ç†å’Œæ¢ç´¢ Jenkins jobsã€buildsã€credentials ç­‰è³‡æºã€‚ä¸»è¦ CLI å‘½ä»¤ç‚º `jenkee`ï¼ˆä¿ç•™ `jks` ä½œç‚ºç›¸å®¹ aliasï¼‰ã€‚

## ç‚ºä»€éº¼éœ€è¦ jenkeeï¼Ÿ

æˆ‘å° Jenkins Web UI ä¸å¤ªåœ¨è¡Œã€‚æ¯æ¬¡è¦çœ‹ job çš„è¨­å®šï¼Œéƒ½å¾—å±•é–‹ä¸€å †é¸å–®æ‰èƒ½æ‰¾åˆ°è³‡è¨Šã€‚æ›´éº»ç…©çš„æ˜¯ï¼Œå¾ˆå¤šé‡è¦çš„é…ç½®ç´°ç¯€è—åœ¨ XML è£¡ï¼Œä¸ä¸‹è¼‰å›ä¾†æ ¹æœ¬çœ‹ä¸æ¸…æ¥šã€‚

æœ€åˆï¼Œæˆ‘åªæ˜¯æƒ³åšä¸€å€‹ç°¡å–®çš„å·¥å…·ï¼šç”¨å‘½ä»¤åˆ—å‡º jobsã€æŠ“ä¸‹ XMLã€ç„¶å¾Œè‡ªå·± diff æ¯”å°ã€‚é‚£æ™‚å€™æˆ‘ç›´æ¥å‘¼å« `jenkins-cli.jar`ï¼Œé‚„ç‰¹åœ°å¯«äº† prompt ä¾†æ•™ AI agent æ€éº¼ç”¨ã€‚ ä½†å¾ˆå¿«å°±ç™¼ç¾å•é¡Œäº†ã€‚AI agent å¸¸å¸¸æéŒ¯ `jenkins-cli.jar` çš„åƒæ•¸æ ¼å¼ï¼Œæ˜æ˜æ•™éé‚„æ˜¯æœƒå‡ºéŒ¯ã€‚æˆ‘é–‹å§‹æ€è€ƒï¼šèˆ‡å…¶ä¸€ç›´æ•™å®ƒç”¨è¤‡é›œçš„å·¥å…·ï¼Œä¸å¦‚ç›´æ¥æŠŠå·¥å…·æ”¹ç°¡å–®ä¸€é»ï¼Ÿ æ–¼æ˜¯æˆ‘æŠŠå¸¸ç”¨çš„æ“ä½œåŒ…è£æˆç°¡å–®çš„ CLI å‘½ä»¤ã€‚ç¥å¥‡çš„äº‹æƒ…ç™¼ç”Ÿäº†ï¼šAI agent å¹¾ä¹ä¸ç”¨ç‰¹åˆ¥æ•™ï¼Œçœ‹çœ‹ help å°±èƒ½æ­£ç¢ºä½¿ç”¨ã€‚åŸä¾†ç°¡åŒ–ä»‹é¢çœŸçš„èƒ½è®“ AI æ›´å¥½ç™¼æ®ã€‚

å¾Œä¾†å·¥å…·æ…¢æ…¢é•·å¤§äº†ã€‚å¾æœ€åˆçš„ listã€getã€diffï¼Œæ“´å±•åˆ°å®Œæ•´çš„ Jenkins ç®¡ç†åŠŸèƒ½ã€‚ç¾åœ¨æœ‰ 24 å€‹å‘½ä»¤å’Œå®Œæ•´çš„æ¸¬è©¦è¦†è“‹ï¼Œä½†æ ¸å¿ƒç†å¿µæ²’è®Šï¼šè®“ AI agent å¹«ä½ æ¢ç´¢å’Œç®¡ç† Jenkinsã€‚

ä¸€é–‹å§‹æˆ‘å€‘å°ˆæ³¨åœ¨å”¯è®€æ“ä½œï¼šåˆ—å‡º jobsã€æŠ“é…ç½®ã€çœ‹ consoleã€‚é€™äº›æ“ä½œå¾ˆå®‰å…¨ï¼Œä¸æœƒæ”¹è®Š Jenkins çš„ä»»ä½•æ±è¥¿ã€‚é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼å°ˆæ¡ˆçš„ repository åç¨±å« `jenkins-inspector`ï¼Œå› ç‚ºé‚£æ™‚å€™çœŸçš„åªæœ‰æª¢è¦–ã€æ¢ç´¢è³‡æ–™çš„åŠŸèƒ½ã€‚å¾Œä¾†æ‰æ…¢æ…¢åŠ å…¥ç®¡ç†åŠŸèƒ½ï¼šå»ºç«‹ jobã€è§¸ç™¼ buildã€åˆªé™¤è³‡æºã€‚é€™äº›æœƒè®Šæ›´ Jenkins å…§å®¹çš„æ“ä½œï¼Œæˆ‘å€‘éƒ½åŠ ä¸Šäº†ç‰¹åˆ¥çš„æé†’å’Œç¢ºèªæ©Ÿåˆ¶ã€‚

## ç‰¹è‰²

- ğŸš€ 24 å€‹å®Œæ•´çš„ Jenkins CLI å‘½ä»¤
- ğŸ§ª å®Œæ•´çš„æ¸¬è©¦è¦†è“‹æ‰€æœ‰åŠŸèƒ½
- ğŸ¤– å°ˆç‚º AI Agent è¨­è¨ˆçš„äº’å‹•æ¨¡å¼
- ğŸ”’ æ”¯æ´å¤šç¨® Jenkins credentials é¡å‹
- ğŸ“¦ é€é PyPI è¼•é¬†å®‰è£
- ğŸ’¬ æ¸…æ™°çš„ help è¨Šæ¯ï¼ŒAI agent å®¹æ˜“ç†è§£

## å¿«é€Ÿé–‹å§‹

```bash
# å®‰è£
pip install jenkee

# è¨­å®šèªè­‰
mkdir -p ~/.jenkins-inspector
cat > ~/.jenkins-inspector/.env << EOF
JENKINS_URL=http://your-jenkins-server:8080/
JENKINS_USER_ID=your_email@example.com
JENKINS_API_TOKEN=your_api_token
EOF

# é©—è­‰é€£ç·š
jenkee auth

# åˆ—å‡ºæ‰€æœ‰ jobs
jenkee list-jobs --all

# è§¸ç™¼ build
jenkee build my-job
```

## å®‰è£

### å¾ PyPI å®‰è£ï¼ˆæ¨è–¦ï¼‰

```bash
pip install jenkee
```

æˆ–ä½¿ç”¨ pipxï¼ˆå»ºè­°ç”¨æ–¼ CLI å·¥å…·ï¼‰ï¼š

```bash
pipx install jenkee
```

### é–‹ç™¼æ¨¡å¼å®‰è£

å¦‚æœæƒ³è¦åƒèˆ‡é–‹ç™¼æˆ–ä¿®æ”¹ç¨‹å¼ç¢¼ï¼š

```bash
# Clone repository
git clone https://github.com/qrtt1/jenkins-inspector
cd jenkins-inspector

# å•Ÿç”¨è™›æ“¬ç’°å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ä»¥ editable æ¨¡å¼å®‰è£
pip install -e ".[dev]"
```

> [!WARNING]
> **ä½¿ç”¨ AI Agent çš„é‡è¦æé†’**
>
> jenkee è¨­è¨ˆä¾†è®“ AI agent å¹«ä½ æ“ä½œ Jenkinsã€‚ä½†æœ‰äº›æ“ä½œæœƒçœŸçš„æ”¹è®Šä½ çš„ Jenkins ç’°å¢ƒï¼Œåƒæ˜¯å»ºç«‹ jobã€è§¸ç™¼ buildã€åˆªé™¤è³‡æºã€‚
> å±éšªå‘½ä»¤éœ€è¦äº’å‹•å¼ç¢ºèªï¼›è‹¥è¦ç”¨åœ¨è‡ªå‹•åŒ–è…³æœ¬ï¼Œè«‹åŠ ä¸Š `--yes-i-really-mean-it` ä»¥è·³éç¢ºèªã€‚
>
> **å¼·çƒˆå»ºè­°ä½ åœ¨ã€Œéœ€è¦é€ä¸€æˆæ¬Šã€çš„æ¨¡å¼ä¸‹ä½¿ç”¨ AI agentã€‚** æ¯æ¬¡ AI è¦åŸ·è¡Œå‘½ä»¤æ™‚ï¼Œä½ éƒ½æ‡‰è©²å…ˆçœ‹éæ‰æ”¾è¡Œã€‚ç‰¹åˆ¥æ˜¯é‚£äº›æœƒå¯«å…¥æˆ–åˆªé™¤çš„æ“ä½œã€‚
>
> å®‰å…¨çš„åšæ³•ï¼š
> - è®“ AI agent åœ¨æ¯å€‹å‘½ä»¤åŸ·è¡Œå‰å…ˆå‘Šè¨´ä½ å®ƒè¦åšä»€éº¼
> - è‡ªå·±æª¢æŸ¥å‘½ä»¤çš„åƒæ•¸å’Œå½±éŸ¿ç¯„åœ
> - ç¢ºèªæ²’å•é¡Œå¾Œæ‰è®“å®ƒåŸ·è¡Œ
> - å°æ–¼å±éšªæ“ä½œï¼ˆåˆªé™¤ã€æ›´æ–°é…ç½®ï¼‰ï¼Œä¸€å®šè¦è¦ªè‡ªç¢ºèª
>
> æŸ¥çœ‹å“ªäº›å‘½ä»¤éœ€è¦ç‰¹åˆ¥æ³¨æ„ï¼š
> ```bash
> jenkee help --all
> jenkee prompt --all
> ```
>
> è©³ç´°çš„å±éšªå‘½ä»¤èªªæ˜è«‹åƒè€ƒ [README.advanced.md](README.advanced.md)ã€‚

## èˆ‡ AI Agent å”ä½œ

jenkee å¾ä¸€é–‹å§‹å°±æ˜¯è¨­è¨ˆçµ¦ AI agent ç”¨çš„ã€‚å‘½ä»¤çµæ§‹å¾ˆç°¡å–®ï¼š`jenkee <command> [options]`ï¼Œä¸éœ€è¦è¨˜æ†¶è¤‡é›œçš„åƒæ•¸çµ„åˆã€‚

æ¯å€‹å‘½ä»¤éƒ½æœ‰è©³ç´°çš„ help èªªæ˜å’Œç¯„ä¾‹ã€‚AI agent çœ‹ä¸€çœ¼å°±çŸ¥é“æ€éº¼ç”¨ã€‚è¼¸å‡ºæ ¼å¼ä¹Ÿå¾ˆè¦å¾‹ï¼Œæ–¹ä¾¿å®ƒè§£æå’Œç†è§£ã€‚

å¦‚æœä½ æƒ³è®“ AI assistantï¼ˆåƒæ˜¯ ChatGPT æˆ– Claudeï¼‰å¹«ä½ æ“ä½œ Jenkinsï¼Œå¯ä»¥å…ˆè·‘é€™å€‹å‘½ä»¤ï¼š

```bash
jenkee prompt
```

é€™æœƒè¼¸å‡ºä¸€ä»½å®Œæ•´çš„ä½¿ç”¨æŒ‡å¼•ã€‚åŒ…å«æ‰€æœ‰å‘½ä»¤çš„èªªæ˜ã€ä½¿ç”¨æƒ…å¢ƒã€é‚„æœ‰å¸¸è¦‹ä»»å‹™çš„çµ„åˆç¯„ä¾‹ã€‚æŠŠå…§å®¹è¤‡è£½çµ¦ AIï¼Œå®ƒå°±èƒ½ç«‹åˆ»ä¸Šæ‰‹å¹«ä½ è™•ç† Jenkins çš„å·¥ä½œã€‚

### è‡ªè¨‚ AI Agent Prompt

å¦‚æœéœ€è¦è‡ªè¨‚ prompt å…§å®¹ï¼ˆä¾‹å¦‚ï¼šåŠ å…¥åœ˜éšŠç‰¹å®šçš„å·¥ä½œæµç¨‹ã€å‘½åè¦ç¯„ç­‰ï¼‰ï¼Œå¯ä»¥é€éä»¥ä¸‹æ–¹å¼ï¼š

**æ–¹å¼ 1ï¼šä½¿ç”¨é è¨­ä½ç½®**

```bash
# å»ºç«‹è‡ªè¨‚ prompt
cat > ~/.jenkins-inspector/prompt.md << 'EOF'
# æˆ‘çš„ä½¿ç”¨æŒ‡å¼•

è‡ªè¨‚çš„ prompt å…§å®¹...
EOF
```

**æ–¹å¼ 2ï¼šä½¿ç”¨ç’°å¢ƒè®Šæ•¸æŒ‡å®šæª”æ¡ˆä½ç½®**

```bash
# è¨­å®šç’°å¢ƒè®Šæ•¸
export JENKINS_INSPECTOR_PROMPT_FILE=/path/to/my-prompt.md

# åŸ·è¡Œ prompt å‘½ä»¤
jenkee prompt
```

ç’°å¢ƒè®Šæ•¸ `JENKINS_INSPECTOR_PROMPT_FILE` çš„å„ªå…ˆç´šé«˜æ–¼é è¨­ä½ç½®ã€‚

**æš«æ™‚å¿½ç•¥è‡ªè¨‚ prompt**

å¦‚æœéœ€è¦æš«æ™‚ä½¿ç”¨é è¨­ prompt è€Œä¸åˆªé™¤è‡ªè¨‚æª”æ¡ˆï¼š

```bash
# ä½¿ç”¨ --ignore-override flag
jenkee prompt --ignore-override
```

è©³ç´°èªªæ˜è«‹åƒè€ƒ [docs/examples/prompt.md](docs/examples/prompt.md)ã€‚

## è¨­å®šèªè­‰

```bash
# å»ºç«‹è¨­å®šæª”ç›®éŒ„
mkdir -p ~/.jenkins-inspector

# ç·¨è¼¯ .env æª”æ¡ˆ
cat > ~/.jenkins-inspector/.env << EOF
JENKINS_URL=http://your-jenkins-server:8080/
JENKINS_USER_ID=your_email@example.com
JENKINS_API_TOKEN=your_api_token
EOF

# é©—è­‰èªè­‰
jenkee auth
```

## å¯ç”¨å‘½ä»¤

### ä¸€èˆ¬å‘½ä»¤

| å‘½ä»¤ | èªªæ˜ | ç¯„ä¾‹ |
|------|------|------|
| `help` | é¡¯ç¤ºå‘½ä»¤èªªæ˜ | `jenkee help [command]` |
| `prompt` | é¡¯ç¤º AI agent ä½¿ç”¨æŒ‡å¼• | `jenkee prompt` |
| `auth` | é©—è­‰ Jenkins èªè­‰ | `jenkee auth` |
| `list-views` | åˆ—å‡ºæ‰€æœ‰ views | `jenkee list-views` |
| `list-jobs` | åˆ—å‡º view ä¸­çš„ jobs | `jenkee list-jobs AVENGERS` |
| `get-job` | å–å¾— job XML é…ç½® | `jenkee get-job <job-name>` |
| `list-builds` | åˆ—å‡º job çš„ build æ­·å² | `jenkee list-builds <job-name>` |
| `console` | å–å¾— build console è¼¸å‡º | `jenkee console <job-name> [build]` |
| `job-status` | æŸ¥çœ‹ job ç‹€æ…‹èˆ‡è§¸ç™¼é—œä¿‚ | `jenkee job-status <job-name>` |
| `job-diff` | æ¯”è¼ƒå…©å€‹ job é…ç½®å·®ç•° | `jenkee job-diff <job1> <job2>` |
| `list-credentials` | åˆ—å‡º Jenkins credentials metadata | `jenkee list-credentials [domain]` |
| `describe-credentials` | æŸ¥çœ‹ç‰¹å®š credential è©³ç´°è³‡è¨Š | `jenkee describe-credentials <id> [--show-secret]` |
| `add-job-to-view` | å°‡ jobs åŠ å…¥åˆ° view | `jenkee add-job-to-view <view> <job> [job ...]` |
| `copy-job` | è¤‡è£½ job ç‚ºæ–° job | `jenkee copy-job <source> <destination>` |
| `update-job` | æ›´æ–° job é…ç½® | `jenkee update-job <job> < config.xml` |
| `build` | è§¸ç™¼ job build | `jenkee build <job> [-p key=value] [-s] [-f]` |
| `stop-builds` | åœæ­¢åŸ·è¡Œä¸­çš„ builds | `jenkee stop-builds <job> [job ...]` |
| `create-job` | å»ºç«‹æ–° job | `jenkee create-job <job> < config.xml` |

è©³ç´°ä½¿ç”¨èªªæ˜è«‹åƒè€ƒ [docs/examples/](docs/examples/) ç›®éŒ„ä¸‹çš„å„å‘½ä»¤æ–‡ä»¶ã€‚

é€²éšèˆ‡å±éšªå‘½ä»¤è«‹åƒè€ƒ [README.advanced.md](README.advanced.md)ã€‚

## ä¸»è¦åŠŸèƒ½

### 1. æ¢ç´¢ Jenkins æ¶æ§‹
- åˆ—å‡ºæ‰€æœ‰ views å’Œ jobs
- æŸ¥çœ‹ job é…ç½®èˆ‡ç‹€æ…‹
- è¿½è¹¤ job è§¸ç™¼é—œä¿‚

### 2. Build ç®¡ç†
- è§¸ç™¼ job buildsï¼ˆæ”¯æ´åƒæ•¸ã€åŒæ­¥èˆ‡è¿½è¹¤æ¨¡å¼ï¼‰
- åœæ­¢åŸ·è¡Œä¸­çš„ builds
- æŸ¥çœ‹ build æ­·å²èˆ‡ console è¼¸å‡º

### 3. Job ç®¡ç†
- å»ºç«‹ã€è¤‡è£½ã€æ›´æ–° job é…ç½®
- æ¯”è¼ƒ job é…ç½®å·®ç•°
- å°‡ jobs åŠ å…¥ views

### 4. Credentials ç®¡ç†
- åˆ—å‡ºæ‰€æœ‰ credentials metadata
- æŸ¥çœ‹ credentials é¡å‹èˆ‡ç›¸é—œè³‡è¨Š
- é©—è­‰ credentials é…ç½®

## æ–‡ä»¶

- [README.advanced.md](README.advanced.md) - é€²éšèˆ‡å±éšªå‘½ä»¤
- [CODING_GUIDE.md](CODING_GUIDE.md) - å°ˆæ¡ˆé–‹ç™¼æŒ‡å—
- [docs/examples/](docs/examples/) - å„å‘½ä»¤ä½¿ç”¨ç¯„ä¾‹

## é–‹ç™¼æŒ‡å¼•

å¦‚æœä½ æ˜¯ AI agent æ­£åœ¨é–‹ç™¼æ­¤å°ˆæ¡ˆï¼Œè«‹**å‹™å¿…å…ˆé–±è®€ [CODING_GUIDE.md](CODING_GUIDE.md)**ã€‚

è©²æ–‡ä»¶åŒ…å«ï¼š
- å°ˆæ¡ˆæ¶æ§‹åŸå‰‡èˆ‡è¨­è¨ˆæ¨¡å¼
- æ–°å¢ command çš„å®Œæ•´æµç¨‹
- ç¨‹å¼ç¢¼æ ¼å¼åŒ–è¦ç¯„ï¼ˆBlackï¼‰
- AI Agent é–‹ç™¼ checklist

éµå¾ª CODING_GUIDE å¯ç¢ºä¿ï¼š
- ç¨‹å¼ç¢¼é¢¨æ ¼ä¸€è‡´
- åŠŸèƒ½å®Œæ•´å¯¦ä½œï¼ˆåŒ…å« helpã€promptã€example æ–‡ä»¶ï¼‰
- é€šéæ‰€æœ‰æ•´åˆæ¸¬è©¦
