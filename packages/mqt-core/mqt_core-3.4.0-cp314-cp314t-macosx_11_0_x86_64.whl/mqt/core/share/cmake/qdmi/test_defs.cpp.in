/** @file
 * @brief This file is for testing whether a device implements all the required
 * functions.
 * @details It calls all the functions in the device interface to ensure that
 * they are implemented. During linking, when a function is not implemented this
 * will raise an error.
 * @note This file is not meant to be ever executed, only linked.
 */

#include "@QDMI_prefix@_qdmi/device.h"

int main() {
  @QDMI_PREFIX@_QDMI_Device_Session session = nullptr;
  @QDMI_PREFIX@_QDMI_Device_Job job = nullptr;
  @QDMI_PREFIX@_QDMI_Site site = nullptr;
  @QDMI_PREFIX@_QDMI_Operation operation = nullptr;
  @QDMI_PREFIX@_QDMI_device_initialize();
  @QDMI_PREFIX@_QDMI_device_finalize();
  @QDMI_PREFIX@_QDMI_device_session_alloc(&session);
  @QDMI_PREFIX@_QDMI_device_session_init(session);
  @QDMI_PREFIX@_QDMI_device_session_free(session);
  @QDMI_PREFIX@_QDMI_device_session_set_parameter(session, QDMI_DEVICE_SESSION_PARAMETER_MAX, 0, nullptr);
  @QDMI_PREFIX@_QDMI_device_session_create_device_job(session, &job);
  @QDMI_PREFIX@_QDMI_device_job_free(job);
  @QDMI_PREFIX@_QDMI_device_job_set_parameter(job, QDMI_DEVICE_JOB_PARAMETER_MAX, 0, nullptr);
  @QDMI_PREFIX@_QDMI_device_job_query_property(job, QDMI_DEVICE_JOB_PROPERTY_MAX, 0, nullptr, nullptr);
  @QDMI_PREFIX@_QDMI_device_job_submit(job);
  @QDMI_PREFIX@_QDMI_device_job_cancel(job);
  @QDMI_PREFIX@_QDMI_device_job_check(job, nullptr);
  @QDMI_PREFIX@_QDMI_device_job_wait(job, 0);
  @QDMI_PREFIX@_QDMI_device_job_get_results(job, QDMI_JOB_RESULT_MAX, 0, nullptr, nullptr);
  @QDMI_PREFIX@_QDMI_device_session_query_device_property(session, QDMI_DEVICE_PROPERTY_MAX, 0, nullptr, nullptr);
  @QDMI_PREFIX@_QDMI_device_session_query_site_property(session, site, QDMI_SITE_PROPERTY_MAX, 0, nullptr, nullptr);
  @QDMI_PREFIX@_QDMI_device_session_query_operation_property(session, operation, 0, nullptr, 0, nullptr, QDMI_OPERATION_PROPERTY_MAX, 0, nullptr, nullptr);
}
