import{c as r,aS as t,u as d,j as e,s as o,a2 as l,b as m,z as x,aL as h}from"./index-D87ilqMg.js";const g=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],f=r("arrow-left",g);const p=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],j=r("git-branch",p);const u=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],c=r("git-commit-horizontal",u);function N(){const{imageId:i}=t({from:"/images/$imageId"}),{data:s,isLoading:n}=d({queryKey:["image",i],queryFn:()=>h(i)});return n?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(o,{})}):s?e.jsxs("div",{className:"flex flex-col h-full overflow-hidden p-1 gap-1",children:[e.jsxs("div",{className:"flex items-center gap-4 p-1 bg-card border shrink-0",children:[e.jsx(l,{to:"/",children:e.jsx(m,{variant:"ghost",size:"icon",children:e.jsx(f,{className:"w-4 h-4"})})}),e.jsx("h1",{className:"text-lg font-semibold",children:"Image Details"})]}),e.jsxs("div",{className:"flex flex-1 min-h-0 border",children:[e.jsx("div",{className:"flex-1 bg-muted/30 p-4 flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:s.image_url,alt:s.prompt,className:"max-w-full max-h-full object-contain shadow-lg"})}),e.jsx("div",{className:"w-96 border-l bg-card flex flex-col overflow-hidden",children:e.jsx(x,{className:"flex-1",children:e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Metadata"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"ID"}),e.jsx("span",{className:"col-span-2 font-mono",children:s.id})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Size"}),e.jsxs("span",{className:"col-span-2",children:[s.width," x ",s.height]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created"}),e.jsx("span",{className:"col-span-2",children:new Date(s.created_at).toLocaleString()})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Filename"}),e.jsx("span",{className:"col-span-2 break-all",children:s.prompt})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4"}),"Lineage"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-2",children:[e.jsx(c,{className:"w-3 h-3"}),"Parents (",s.parents?.length||0,")"]}),s.parents&&s.parents.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-2",children:s.parents.map(a=>e.jsx(l,{to:"/images/$imageId",params:{imageId:a.id.toString()},className:"block aspect-square  overflow-hidden border hover:ring-2 ring-primary transition-all",children:e.jsx("img",{src:a.thumb_url,alt:`Parent ${a.id}`,className:"w-full h-full object-cover"})},a.id))}):e.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No parents recorded"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-2",children:[e.jsx(c,{className:"w-3 h-3"}),"Children (",s.children?.length||0,")"]}),s.children&&s.children.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-2",children:s.children.map(a=>e.jsx(l,{to:"/images/$imageId",params:{imageId:a.id.toString()},className:"block aspect-square  overflow-hidden border hover:ring-2 ring-primary transition-all",children:e.jsx("img",{src:a.thumb_url,alt:`Child ${a.id}`,className:"w-full h-full object-cover"})},a.id))}):e.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No children recorded"})]})]})]})})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:"Image not found"})}const v=N;export{v as component};
