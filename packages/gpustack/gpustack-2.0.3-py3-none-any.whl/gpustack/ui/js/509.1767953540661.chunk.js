"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[509],{66297:function(n,e,t){var r,o,a,c=t(26068),i=t.n(c),u=t(53649),l=t.n(u),s=t(79312),d=t(10470),p=t(65361),f=t(25466),m=t(58281),v=t(82187),h=t.n(v),b=(t(75271),t(67585)),y=t(3453),k=t(52676),g=(0,m.kc)((function(n){var e=n.token;return{alertBlockInfo:(0,n.css)(r||(r=l()(["\n      padding-block: 6px;\n      padding-inline: 10px 16px;\n      position: relative;\n      padding-left: 32px;\n      text-align: left;\n      border-radius: ","px;\n      margin: 0;\n      border: 1px solid transparent;\n      .ant-typography {\n        margin-bottom: 0;\n      }\n\n      &.danger {\n        border-color: ",";\n        background-color: ",";\n      }\n\n      &.warning {\n        border-color: ",";\n        background-color: ",";\n      }\n\n      &.transition {\n        color: ",";\n        background: ",";\n        border-color: ",";\n      }\n\n      &.success {\n        border: 1px solid ",";\n        color: ",";\n        background: ",";\n\n        .content.success {\n          font-weight: var(--font-weight-normal);\n        }\n      }\n      .title {\n        position: absolute;\n        left: 0;\n        top: 0;\n        display: flex;\n        height: 32px;\n        padding: 5px 10px;\n        border-radius: ","px ","px 0 0;\n\n        .info-icon {\n          &.danger {\n            color: ",";\n          }\n\n          &.warning {\n            color: ",";\n          }\n\n          &.transition {\n            color: ",";\n          }\n\n          &.success {\n            color: ",";\n          }\n        }\n\n        .text {\n          font-weight: var(--font-weight-bold);\n        }\n      }\n    "])),e.borderRadius,e.colorErrorBorder,e.colorErrorBg,e.colorWarningBorder,e.colorWarningBg,e.geekblue7,e.geekblue1,e.geekblue3,e.colorSuccess,e.colorSuccessText,e.colorSuccessBg,e.borderRadius,e.borderRadius,e.colorErrorText,e.colorWarningText,e.geekblue7,e.colorSuccessText)}})),x=b.ZP.div(o||(o=l()(["\n  font-weight: 700;\n  color: var(--ant-color-text);\n"]))),E=b.ZP.div(a||(a=l()(["\n  word-break: break-word;\n  color: ",";\n  font-weight: var(--font-weight-500);\n  white-space: pre-line;\n"])),(function(n){return n.$hasTitle?"var(--ant-color-text-secondary)":"var(--ant-color-text)"}));e.Z=function(n){var e=n.message,t=n.type,r=n.rows,o=void 0===r?1:r,a=n.ellipsis,c=n.style,u=n.title,l=n.contentStyle,m=n.icon,v=n.maxHeight,b=void 0===v?86:v,w=n.overlayScrollerProps,A=void 0===w?{}:w,D=g().styles;return(0,k.jsx)(k.Fragment,{children:e?(0,k.jsx)("div",{className:h()(D.alertBlockInfo,t),style:i()({},c),children:(0,k.jsxs)(f.Z.Paragraph,{ellipsis:null!=a?a:{rows:o,tooltip:e},children:[(0,k.jsx)("div",{className:h()("title",t),children:(0,k.jsx)("span",{className:h()("info-icon",t),children:null!=m?m:"transition"===t?(0,k.jsx)(s.Z,{}):"success"===t?(0,k.jsx)(d.Z,{}):(0,k.jsx)(p.Z,{})})}),u&&(0,k.jsx)(x,{className:"title-text",children:u}),(0,k.jsx)(y.ZP,i()(i()({maxHeight:b,style:i()({},l)},A),{},{children:(0,k.jsx)(E,{$hasTitle:!!u,className:h()("content",t),children:e})}))]})}):null})}},85882:function(n,e,t){var r,o=t(26068),a=t.n(o),c=t(48305),i=t.n(c),u=t(67825),l=t.n(u),s=t(53649),d=t.n(s),p=t(15409),f=t(68652),m=t(32699),v=t(75271),h=t(67585),b=t(3453),y=t(52676),k=["children","maxWidth","minWidth","ghost","title","showTitle","tooltipProps","radius","filled"],g=(0,h.ZP)(f.Z)(r||(r=d()(["\n  margin: 0;\n  &.tag-filled {\n    border: none;\n    background-color: var(--ant-color-fill-secondary);\n  }\n"]))),x=function(n){var e=n.children,t=n.maxWidth,r=void 0===t?"100%":t,o=n.minWidth,c=n.ghost,u=void 0!==c&&c,s=n.title,d=n.showTitle,f=void 0!==d&&d,h=n.tooltipProps,x=n.radius,E=void 0===x?12:x,w=n.filled,A=void 0!==w&&w,D=l()(n,k),T=(0,v.useRef)(null),Z=(0,v.useState)(!1),O=i()(Z,2),C=O[0],N=O[1],I=(0,v.useRef)(null),R=(0,v.useCallback)((function(){if(T.current){var n=T.current,e=n.scrollWidth,t=n.clientWidth;N(e>t)}}),[T.current]);(0,v.useEffect)((function(){var n,e,t=T.current;if(t)return null===(n=I.current)||void 0===n||n.disconnect(),I.current=new ResizeObserver((function(){R()})),null===(e=I.current)||void 0===e||e.observe(t),R(),function(){var n;null===(n=I.current)||void 0===n||n.disconnect(),I.current=null}}),[R]),(0,v.useEffect)((function(){var n=(0,m.throttle)(R,200);return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n),n.cancel()}}),[R]),(0,v.useEffect)((function(){R()}),[e,R]);var S=(0,v.useMemo)((function(){return a()({maxWidth:r,minWidth:o,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},D.style)}),[r,D.style]);return(0,y.jsx)(b.$R,{toolTipProps:a()(a()({},h),{},{destroyOnHidden:!1}),title:!(!C&&!f)&&(s||e),children:u?(0,y.jsx)("div",{ref:T,style:S,"data-overflow":C,children:e}):(0,y.jsx)(g,a()(a()({},D),{},{className:"".concat(D.className||""," ").concat(A?"tag-filled":""),ref:T,style:a()({paddingInline:D.closable?"8px 22px":8,borderRadius:E},S),closeIcon:!!D.closable&&(0,y.jsx)(p.Z,{style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"}}),children:e}))})};e.Z=v.memo(x)},10939:function(n,e,t){var r=t(92829),o=t(13554),a=t(25324),c=t(38913),i=t(96331),u=t(83992),l=t(86422),s=t(62826),d=t(95059),p=t(41680),f=t(50903),m=t(51800),v=t(85427),h=t(75271),b={EditOutlined:h.createElement(o.Z),ExperimentOutlined:h.createElement(a.Z),DeleteOutlined:h.createElement(c.Z),ThunderboltOutlined:h.createElement(i.Z),RetweetOutlined:h.createElement(u.Z),DownloadOutlined:h.createElement(l.Z),FileTextOutlined:h.createElement(s.Z),ApiOutlined:h.createElement(d.Z),KubernetesOutlined:h.createElement(p.Z),ProfileOutlined:h.createElement(f.Z),DockerOutlined:h.createElement(m.Z),Stop:h.createElement(r.Z,{type:"icon-stop1"}),Play:h.createElement(r.Z,{type:"icon-outline-play"}),Catalog:h.createElement(r.Z,{type:"icon-catalog"}),HF:h.createElement(r.Z,{type:"icon-huggingface"}),Ollama:h.createElement(r.Z,{type:"icon-ollama"}),ModelScope:h.createElement(r.Z,{type:"icon-tu2"}),LocalPath:h.createElement(r.Z,{type:"icon-hard-disk"}),Launch:h.createElement(r.Z,{type:"icon-rocket-launch"}),Deployment:h.createElement(r.Z,{type:"icon-rocket-launch1"}),Docker:h.createElement(r.Z,{type:"icon-docker"}),DigitalOcean:h.createElement(r.Z,{type:"icon-digitalocean"}),DetailInfo:h.createElement(r.Z,{type:"icon-detail-info"}),HuaweiCloud:h.createElement(r.Z,{type:"icon-huaweicloud"}),AliCloud:h.createElement(r.Z,{type:"icon-alicloud"}),TencentCloud:h.createElement(r.Z,{type:"icon-tencentcloud"}),Nvidia:h.createElement(r.Z,{type:"icon-nvidia"}),Ascend:h.createElement(r.Z,{type:"icon-ascend"}),Catalog1:h.createElement(r.Z,{type:"icon-catalog1"}),AMD:h.createElement(r.Z,{type:"icon-amd"}),KubernetesFilled:h.createElement(r.Z,{type:"icon-k8s-filled"}),EditContent:h.createElement(r.Z,{type:"icon-edit-content"}),Yaml:h.createElement(r.Z,{type:"icon-code_block"}),Version:h.createElement(r.Z,{type:"icon-version"}),Parameter:h.createElement(r.Z,{type:"icon-parameters"}),Private:h.createElement(r.Z,{type:"icon-private"}),AWS:h.createElement(r.Z,{type:"icon-aws"}),LockOpenRight:h.createElement(r.Z,{type:"icon-lock_open_right"}),LockPerson:h.createElement(r.Z,{type:"icon-lock_person"}),LockOpen:h.createElement(r.Z,{type:"icon-lock_open"}),Permission:h.createElement(r.Z,{type:"icon-permission"}),CaptivePortal:h.createElement(r.Z,{type:"icon-captive_portal"}),StarOutlined:h.createElement(v.Z)};e.Z=b},4746:function(n,e,t){t.d(e,{D:function(){return o},k:function(){return a}});var r=t(75271),o=r.createContext({}),a=function(){var n=r.useContext(o);if(!n)throw new Error("useLabelSelectorContext must be used within a LabelSelectorProvider");return n}},81305:function(n,e,t){t.d(e,{Z:function(){return E}});var r=t(15558),o=t.n(r),a=t(48305),c=t.n(a),i=t(53231),u=t(32699),l=t.n(u),s=t(75271),d=t(53722),p=t(55446),f=t(25408),m=t(79635),v=t(4746),h=t(52676),b=function(n){var e=n.labels,t=n.label,r=n.labelList,o=n.seperator,a=n.keyAddon,u=n.valueAddon,b=n.disabled,y=n.onChange,k=n.onDelete,g=n.onBlur,x=(0,i.useIntl)(),E=(0,s.useState)(!1),w=c()(E,2),A=w[0],D=w[1],T=(0,v.k)().options,Z=(0,s.useMemo)((function(){return null==T?void 0:T.filter((function(n){return!l().has(e,n.value)||n.value===t.key}))}),[e,T]),O=(0,s.useMemo)((function(){var n;return(null==T||null===(n=T.find((function(n){return n.value===t.key})))||void 0===n?void 0:n.children)||[]}),[t.key,T]);return(0,h.jsxs)("div",{className:"label-item",children:[(0,h.jsx)("div",{className:"label-key",children:null!=a?a:(0,h.jsx)(f.Z,{open:A,title:x.formatMessage({id:"resources.table.key.tips"}),children:(0,h.jsx)(d.Z,{options:Z,disabled:b,checkStatus:"success",label:x.formatMessage({id:"common.input.key"}),value:t.key,onChange:function(n){null==y||y({key:n,value:t.value})},onBlur:function(n){return function(n,e){var o=n.target.value;l().filter(r,(function(n){return o&&o===n.key})).length>1?(D(!0),null==y||y({key:"",value:t.value}),setTimeout((function(){D(!1)}),1e3)):D(!1),null==g||g(n,e)}(n,"key")}})})}),o&&(0,h.jsx)("span",{className:"seprator",children:o}),(0,h.jsx)("div",{className:"label-value",children:null!=u?u:(0,h.jsx)(d.Z,{options:O,disabled:b,checkStatus:t.value?"success":"",label:x.formatMessage({id:"common.input.value"}),value:t.value,onChange:function(n){null==y||y({key:t.key,value:n})},onBlur:function(n){return null==g?void 0:g(n,"value")}})}),!b&&(0,h.jsx)(m.ZP,{size:"small",className:"btn",type:"default",shape:"circle",onClick:k,children:(0,h.jsx)(p.Z,{})})]})},y=t(51143),k=function(n){var e=n.label,t=n.labelList,r=n.seperator,o=n.keyAddon,a=n.valueAddon,u=n.disabled,d=n.onChange,v=n.onDelete,b=n.onPaste,k=n.onBlur,g=(0,i.useIntl)(),x=(0,s.useState)(!1),E=c()(x,2),w=E[0],A=E[1];return(0,h.jsxs)("div",{className:"label-item",children:[(0,h.jsx)("div",{className:"label-key",children:null!=o?o:(0,h.jsx)(f.Z,{open:w,title:g.formatMessage({id:"resources.table.key.tips"}),children:(0,h.jsx)(y.Z.Input,{disabled:u,checkStatus:"success",label:g.formatMessage({id:"common.input.key"}),value:e.key,onChange:function(n){var t=n.target.value;null==d||d({key:t,value:e.value})},onBlur:function(n){return function(n,r){var o=n.target.value;l().filter(t,(function(n){return o&&o===n.key})).length>1?(A(!0),null==d||d({key:"",value:e.value}),setTimeout((function(){A(!1)}),1e3)):A(!1),null==k||k(n,r)}(n,"key")},onPaste:b})})}),r&&(0,h.jsx)("span",{className:"seprator",children:r}),(0,h.jsx)("div",{className:"label-value",children:null!=a?a:(0,h.jsx)(y.Z.Input,{trim:!1,disabled:u,checkStatus:e.value?"success":"",label:g.formatMessage({id:"common.input.value"}),value:e.value,onChange:function(n){var t=n.target.value;null==d||d({key:e.key,value:t})},onBlur:function(n){return null==k?void 0:k(n,"value")}})}),!u&&(0,h.jsx)(m.ZP,{size:"small",className:"btn",type:"default",shape:"circle",onClick:v,children:(0,h.jsx)(p.Z,{})})]})},g=t(63551),x=function(n){var e=n.labels,t=n.labelList,r=n.onChange,a=n.onLabelListChange,c=n.onPaste,u=n.onBlur,d=n.onDelete,p=n.disabled,f=n.label,m=n.btnText,v=n.description,y=n.isAutoComplete;(0,i.useIntl)();(0,s.useEffect)((function(){}),[e]);var x=function(n){var e=l().reduce(n,(function(n,e){return e.key&&(n[e.key]=e.value),n}),{});null==r||r(e)},E=function(n,e){var r=l().cloneDeep(t);r[n]=e,a(r),x(r)},w=function(n){var e=l().cloneDeep(t);e.splice(n,1),a(e),x(e),null==d||d(n)};return(0,h.jsx)(g.Z,{label:f,description:v,onAdd:function(){var n=[].concat(o()(t),[{key:"",value:""}]);a(n),x(n)},disabled:p,btnText:m,children:(0,h.jsx)(h.Fragment,{children:y?null==t?void 0:t.map((function(n,r){return(0,h.jsx)(b,{disabled:p,label:n,seperator:":",labels:e,labelList:t,onDelete:function(){return w(r)},onChange:function(n){return E(r,n)},onPaste:function(n){return null==c?void 0:c(n,r)},onBlur:function(n,e){return null==u?void 0:u(n,e,r)}},r)})):null==t?void 0:t.map((function(n,e){return(0,h.jsx)(k,{disabled:p,label:n,seperator:":",labelList:t,onDelete:function(){return w(e)},onChange:function(n){return E(e,n)},onPaste:function(n){return null==c?void 0:c(n,e)},onBlur:function(n,t){return null==u?void 0:u(n,t,e)}},e)}))})})},E=function(n){var e=n.labels,t=n.onChange,r=n.onBlur,a=n.onDelete,u=n.disabled,d=n.label,p=n.btnText,f=n.description,m=n.isAutoComplete,v=(0,i.useIntl)(),b=(0,s.useState)({}),y=c()(b,2),k=y[0],g=y[1],E=(0,s.useState)([]),w=c()(E,2),A=w[0],D=w[1];(0,s.useEffect)((function(){if(!l().isEqual(e,k)){g(e||{});var n=l().map(l().keys(e),(function(n){return{key:n,value:e[n]}}));D(n)}}),[e]);return(0,h.jsx)(x,{disabled:u,label:d,btnText:p,description:null!=f?f:v.formatMessage({id:"models.form.keyvalue.paste"}),isAutoComplete:m,labels:k,labelList:A,onChange:function(n){g(n),null==t||t(n)},onLabelListChange:function(n){D(n)},onPaste:function(n,e){var r=n.clipboardData.getData("text");if(r&&-1!==r.indexOf("=")){n.preventDefault();var a,i,u=r.split(/\r?\n/).map((function(n){return n.trim()})).filter((function(n){return n&&n.includes("=")})).map((function(n){var e=n.split("=").map((function(n){return n.trim()})),t=c()(e,2);return{key:t[0],value:t[1]}})),s=o()(A);s.splice.apply(s,[e,1].concat(o()(u))),a=s,i=l().reduce(a,(function(n,e){return e.key&&(n[e.key]=e.value),n}),{}),null==t||t(i),D(s)}},onBlur:r,onDelete:a})}},63551:function(n,e,t){var r,o,a=t(53649),c=t.n(a),i=t(10031),u=t(17114),l=t(53231),s=t(79635),d=(t(75271),t(67585)),p=t(52676),f=d.ZP.div(r||(r=c()(["\n  position: relative;\n  padding: 14px;\n  padding-top: 34px;\n  border: 1px solid var(--ant-color-border);\n  border-radius: var(--border-radius-base);\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  .label {\n    position: absolute;\n    left: 16px;\n    line-height: 1;\n    top: 12px;\n    color: var(--ant-color-text-tertiary);\n  }\n"]))),m=d.ZP.div(o||(o=c()(["\n  margin-top: 16px;\n"])));e.Z=function(n){var e=n.children,t=n.label,r=n.description,o=n.labelExtra,a=n.onAdd,c=n.btnText,d=n.disabled,v=n.button,h=(0,l.useIntl)();return(0,p.jsxs)(f,{children:[t&&(0,p.jsx)("span",{className:"label",children:(0,p.jsx)(i.Z,{label:t,description:r,labelExtra:o})}),e,!d&&(0,p.jsx)(m,{children:v||(0,p.jsxs)(s.ZP,{variant:"filled",color:"default",block:!0,onClick:a,children:[(0,p.jsx)(u.Z,{className:"font-size-14"}),c||h.formatMessage({id:"common.button.addSelector"})]})})]})}},92047:function(n,e,t){t.d(e,{A0:function(){return j},BT:function(){return g},E:function(){return z},E_:function(){return B},Fm:function(){return W},Io:function(){return O},X8:function(){return F},ax:function(){return R},bF:function(){return _},c0:function(){return M},c9:function(){return y},gX:function(){return A},go:function(){return X},iL:function(){return E},jl:function(){return T},kT:function(){return N},oh:function(){return s},p1:function(){return nn},qT:function(){return d},qn:function(){return J},zc:function(){return V}});var r=t(90228),o=t.n(r),a=t(87999),c=t.n(a),i=t(52064),u=t(53231),l="/cloud-credentials",s="/clusters",d="/worker-pools",p="registration-token",f="/provider-proxy",m="/config",v="/v2/regions",h="/v2/sizes",b="/v2/images";function y(n){return k.apply(this,arguments)}function k(){return(k=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(l,"/").concat(e.id).concat(f).concat(v),{method:"GET",params:{per_page:200}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return x.apply(this,arguments)}function x(){return(x=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(l,"/").concat(e.id).concat(f).concat(h),{method:"GET",params:{per_page:200}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function E(n){return w.apply(this,arguments)}function w(){return(w=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(l,"/").concat(e.id).concat(f).concat(b),{method:"GET",params:{per_page:200,type:"distribution"}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function A(n){return D.apply(this,arguments)}function D(){return(D=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(l),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function T(n){return Z.apply(this,arguments)}function Z(){return(Z=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(l),{method:"POST",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(n){return C.apply(this,arguments)}function C(){return(C=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(l,"/").concat(e.id),{method:"PUT",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function N(n){return I.apply(this,arguments)}function I(){return(I=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(l,"/").concat(e),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function R(n){return S.apply(this,arguments)}function S(){return(S=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(s),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function M(n){return P.apply(this,arguments)}function P(){return(P=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(s),{method:"POST",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function j(n){return L.apply(this,arguments)}function L(){return(L=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(s,"/").concat(e.id),{method:"PUT",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(n){return q.apply(this,arguments)}function q(){return(q=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(s,"/").concat(e),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function B(n){return H.apply(this,arguments)}function H(){return(H=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(i.Ns),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function V(n){return G.apply(this,arguments)}function G(){return(G=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(s,"/").concat(e.id,"/").concat(p),{method:"GET"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function z(n,e){return U.apply(this,arguments)}function U(){return(U=c()(o()().mark((function n(e,t){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(d,"?"),{method:"GET",params:e,cancelToken:null==t?void 0:t.token}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function W(n){return K.apply(this,arguments)}function K(){return(K=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(s,"/").concat(e.clusterId).concat(d),{method:"POST",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function X(n){return Y.apply(this,arguments)}function Y(){return(Y=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(d,"/").concat(e.id),{method:"PUT",data:e.data}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function F(n){return $.apply(this,arguments)}function $(){return($=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(d,"/").concat(e),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function J(){return Q.apply(this,arguments)}function Q(){return(Q=c()(o()().mark((function n(){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(m),{method:"GET"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function nn(n){return en.apply(this,arguments)}function en(){return(en=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("".concat(s,"/").concat(e.id,"/set-default"),{method:"POST"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},73940:function(n,e,t){t.d(e,{Rc:function(){return s},TE:function(){return m},Ur:function(){return u},Z3:function(){return f},_T:function(){return v},_m:function(){return l},dC:function(){return d},i7:function(){return p},oW:function(){return b},s:function(){return h}});var r=t(82092),o=t.n(r),a=t(10939),c=t(91315),i=t(93203),u={Provisioning:"provisioning",Ready:"ready",Provisioned:"provisioned"},l=o()(o()(o()({},u.Provisioning,"Provisioning"),u.Ready,"Ready"),u.Provisioned,"Provisioned"),s=o()(o()(o()({},u.Provisioning,c.iE.transitioning),u.Ready,c.iE.success),u.Provisioned,c.iE.transitioning),d={Kubernetes:"Kubernetes",DigitalOcean:"DigitalOcean",Docker:"Docker",HuaweiCloud:"HuaweiCloud",AliCloud:"AlibabaCloud",TencentCloud:"TencentCloud",AWS:"AWS"},p=o()(o()(o()({},d.Kubernetes,"Kubernetes"),d.DigitalOcean,"DigitalOcean"),d.Docker,"Docker"),f=function(n){return"curl -k -L '".concat(n.server,"/").concat(i.qk,"/clusters/").concat(n.clusterId,"/manifests' \\\n--header 'Authorization: Bearer ").concat(n.registrationToken,"' | kubectl apply -f -")},m={vram:"VRAM",vcpus:"vCPUs",ram:"RAM",bootDisk:"Boot Disk",scratchDisk:"Scratch Disk",minDiskSize:"Min Disk Size",size:"Size"},v={amd:"icon-amd",nvidia:"icon-nvidia1",rockyLinux:"icon-rocky-linux",almaLinux:"icon-alma-linux",ubuntu:"icon-ubuntu",centOs:"icon-centos",debian:"icon-debian",fedora:"icon-fedora"},h=[{key:"edit",label:"common.button.edit",icon:a.Z.EditOutlined},{key:"delete",props:{danger:!0},label:"common.button.delete",icon:a.Z.DeleteOutlined}],b=[{key:"edit",label:"common.button.edit",icon:a.Z.EditOutlined},{key:"add_worker",label:"resources.button.create",provider:d.Docker,locale:!0,icon:a.Z.DockerOutlined},{key:"register_cluster",label:"clusters.button.register",provider:d.Kubernetes,locale:!0,icon:a.Z.KubernetesOutlined},{key:"addPool",label:"clusters.button.addNodePool",provider:d.DigitalOcean,locale:!0,icon:a.Z.Catalog1},{key:"isDefault",label:"clusters.form.setDefault",icon:a.Z.StarOutlined},{key:"delete",label:"common.button.delete",icon:a.Z.DeleteOutlined,props:{danger:!0}}]},52064:function(n,e,t){t.d(e,{HY:function(){return s},Ns:function(){return l},Xv:function(){return m},_b:function(){return d},mt:function(){return p}});var r=t(90228),o=t.n(r),a=t(87999),c=t.n(a),i=t(53231),u=t(83861),l="/dashboard",s="".concat(l,"/usage"),d="".concat(l,"/usage/stats");function p(n){return f.apply(this,arguments)}function f(){return(f=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)(l,{params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n,e){return v.apply(this,arguments)}function v(){return(v=c()(o()().mark((function n(e,t){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("".concat(t.url,"?").concat(u.Z.stringify(e)),{method:"GET",cancelToken:null==t?void 0:t.token}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},13927:function(n,e,t){t.d(e,{I7:function(){return p},JI:function(){return d},Pe:function(){return C},QV:function(){return D},Sw:function(){return b},Vq:function(){return w},bO:function(){return Z},bk:function(){return v},lM:function(){return x},m_:function(){return I},oz:function(){return k},qx:function(){return f}});var r=t(90228),o=t.n(r),a=t(87999),c=t.n(a),i=t(93203),u=t(62998),l=t(53231),s=t(35421),d="/workers",p="/gpu-devices",f="/model-files",m=function(n){if(!n)return"";var e=n.match(/filename="?([^"]+)"?/);return e?e[1]:""};function v(n){return h.apply(this,arguments)}function h(){return(h=c()(o()().mark((function n(e){var t,r,a,c,l,p;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,r=e.name,n.prev=1,n.next=4,fetch("/".concat(i.qk).concat(d,"/").concat(t,"/privatekey"));case 4:if(a=n.sent,c=a.headers.get("content-Disposition"),l=m(c)||"".concat(r,"-privatekey.pem"),!a.ok){n.next=12;break}return n.next=10,a.blob();case 10:p=n.sent,(0,u.S)(p,l);case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),s.ZP.error("Download failed");case 17:case"end":return n.stop()}}),n,null,[[1,14]])})))).apply(this,arguments)}function b(n){return y.apply(this,arguments)}function y(){return(y=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("".concat(d),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(n){return g.apply(this,arguments)}function g(){return(g=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("".concat(p),{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(n){return E.apply(this,arguments)}function E(){return(E=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("".concat(d,"/").concat(e),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n,e){return A.apply(this,arguments)}function A(){return(A=c()(o()().mark((function n(e,t){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("".concat(d,"/").concat(e),{method:"PUT",data:t}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function D(n){return T.apply(this,arguments)}function T(){return(T=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)(f,{method:"GET",params:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Z(n,e){return O.apply(this,arguments)}function O(){return(O=c()(o()().mark((function n(e,t){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("".concat(f,"/").concat(e,"?cleanup=").concat(t.checked),{method:"DELETE"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(n){return N.apply(this,arguments)}function N(){return(N=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)(f,{method:"POST",data:e}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function I(n){return R.apply(this,arguments)}function R(){return(R=c()(o()().mark((function n(e){return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.request)("".concat(f,"/").concat(e,"/reset"),{method:"POST"}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},76634:function(n,e,t){t.d(e,{F:function(){return k},Ho:function(){return u},Pb:function(){return i},Sg:function(){return f},Tk:function(){return p},xV:function(){return y}});var r=t(31759),o=t.n(r),a=t(82092),c=t.n(a),i={NVIDIA:"cuda",AMD:"rocm",ASCEND:"cann",HYGON:"dtk",MOORE_THREADS:"musa",ILUVATAR:"corex",CAMBRICON:"neuware",METAX:"maca"},u=c()(c()(c()(c()(c()(c()(c()(c()({},i.NVIDIA,"NVIDIA"),i.AMD,"AMD"),i.ASCEND,"vendor.ascend"),i.HYGON,"vendor.hygon"),i.MOORE_THREADS,"vendor.moorthreads"),i.ILUVATAR,"vendor.iluvatar"),i.CAMBRICON,"vendor.cambricon"),i.METAX,"vendor.metax"),l=c()(c()(c()(c()(c()(c()(c()(c()({},i.NVIDIA,{label:u[i.NVIDIA],value:i.NVIDIA,runtime:"nvidia",driver:"nvidia-smi"}),i.AMD,{label:u[i.AMD],value:i.AMD,runtime:"amd",driver:"amd-smi static"}),i.ASCEND,{label:u[i.ASCEND],value:i.ASCEND,runtime:"ascend",driver:"npu-smi info"}),i.HYGON,{label:u[i.HYGON],value:i.HYGON,runtime:"",driver:"hy-smi"}),i.MOORE_THREADS,{label:u[i.MOORE_THREADS],value:i.MOORE_THREADS,runtime:"mthreads",driver:"mthreads-gmi"}),i.ILUVATAR,{label:u[i.ILUVATAR],value:i.ILUVATAR,runtime:"iluvatar",driver:"ixsmi"}),i.CAMBRICON,{label:u[i.CAMBRICON],value:i.CAMBRICON,runtime:"cambricon",driver:"cnmon info"}),i.METAX,{label:u[i.METAX],value:i.METAX,runtime:"metax",driver:"mx-smi"}),s=function(n){var e="nvidia"===n.runtime?"Runtime.*nvidia":n.runtime;return"".concat(n.driver,' >/dev/null 2>&1 && echo "').concat(n.label,' driver OK" || (echo "').concat(n.label,' driver issue"; exit 1) && sudo docker info 2>/dev/null | grep -q "').concat(e,'" && echo "').concat(n.label,' Container Toolkit OK" || (echo "').concat(n.label,' Container Toolkit not configured"; exit 1)')},d=function(n){return"".concat(n.driver,' >/dev/null 2>&1 && echo "').concat(n.label,' driver OK" || (echo "').concat(n.label,' driver issue"; exit 1)')},p=function(n){var e=l[n]||{};return"kubectl get runtimeclass ".concat(e.runtime,' > /dev/null 2>&1  && echo "').concat(e.label,' runtimeclass registered" || (echo "').concat(e.label,' runtimeclass issue"; exit 1)')},f=c()(c()(c()(c()(c()(c()(c()(c()({},i.NVIDIA,s(l[i.NVIDIA])),i.AMD,s(l[i.AMD])),i.ASCEND,s(l[i.ASCEND])),i.MOORE_THREADS,s(l[i.MOORE_THREADS])),i.HYGON,d(l[i.HYGON])),i.ILUVATAR,d(l[i.ILUVATAR])),i.CAMBRICON,d(l[i.CAMBRICON])),i.METAX,d(l[i.METAX])),m=function(n){return"sudo docker run -d --name ".concat(n.containerName||"gpustack-worker",' \\\n      -e "GPUSTACK_RUNTIME_DEPLOY_MIRRORED_NAME=').concat(n.containerName||"gpustack-worker",'" \\\n      ').concat(function(n){var e=n.registrationInfo||{},t="";return e.env&&"object"===o()(e.env)&&Object.keys(e.env).forEach((function(n){var r=e.env[n];t+='-e "'.concat(n,"=").concat(r,'" \\\n      ')})),t}(n),"\n      --restart=unless-stopped \\\n      --privileged \\\n      --network=host \\\n      --volume /var/run/docker.sock:/var/run/docker.sock \\\n      --volume ").concat(n.gpustackDataVolume||"gpustack-data",":/var/lib/gpustack \\\n      ").concat(n.modelDir?"--volume ".concat(n.modelDir,":").concat(n.modelDir," \\"):"","\n      ").concat(n.cacheDir?"--volume ".concat(n.cacheDir,":/var/lib/gpustack/cache \\"):"")},v=function(n){return"".concat(n.workerIP?"--worker-ip ".concat(n.workerIP," \\"):"","\n      ").concat(n.advertisAddress?"--advertise-address ".concat(n.advertisAddress," \\"):"")},h=function(n){return"".concat(n.image," \\\n      --server-url ").concat(n.server," \\")},b=function(n){var e=l[n.gpu],t=m(n),r=h(n);return"".concat(t,"\n      --runtime ").concat(e.runtime," \\\n      ").concat(r,"\n      ").concat(v(n))},y=c()(c()(c()(c()(c()(c()(c()(c()({},i.NVIDIA,b),i.AMD,(function(n){var e=l[n.gpu],t=m(n),r=h(n);return"".concat(t,"\n      --volume /opt/rocm:/opt/rocm:ro \\\n      --runtime ").concat(e.runtime," \\\n      ").concat(r,"\n      ").concat(v(n))})),i.ASCEND,(function(n){var e=l[n.gpu],t=m(n),r=h(n);return"".concat(t,'\n      --env "ASCEND_VISIBLE_DEVICES=$(sudo ls /dev/davinci* | head -1 | grep -o \'[0-9]\\+\' || echo "0")" \\\n      --runtime ').concat(e.runtime," \\\n      ").concat(r,"\n      ").concat(v(n))})),i.HYGON,(function(n){l[n.gpu];var e=m(n),t=h(n);return"".concat(e,"\n      --volume /opt/hyhal:/opt/hyhal:ro \\\n      --volume /opt/dtk:/opt/dtk:ro \\\n      --env ROCM_PATH=/opt/dtk \\\n      --env ROCM_SMI_LIB_PATH=/opt/hyhal/lib \\\n      ").concat(t,"\n      ").concat(v(n))})),i.ILUVATAR,(function(n){var e=l[n.gpu],t=m(n),r=h(n);return"".concat(t,"\n      --volume /lib/modules:/lib/modules:ro \\\n      --volume /usr/local/corex:/usr/local/corex:ro \\\n      --volume /usr/bin/ixsmi:/usr/bin/ixsmi \\\n      --runtime ").concat(e.runtime," \\\n      ").concat(r,"\n      ").concat(v(n))})),i.CAMBRICON,(function(n){l[n.gpu];var e=m(n),t=h(n);return"".concat(e,"\n      --volume /usr/local/neuware:/usr/local/neuware:ro \\\n      --volume /usr/bin/cnmon:/usr/bin/cnmon \\\n      ").concat(t,"\n      ").concat(v(n))})),i.METAX,(function(n){l[n.gpu];var e=m(n),t=h(n);return"".concat(e,"\n      --volume /opt/mxdriver:/opt/mxdriver:ro \\\n      --volume /opt/maca:/opt/maca:ro \\\n      ").concat(t,"\n      ").concat(v(n))})),i.MOORE_THREADS,b),k=c()(c()(c()(c()(c()(c()(c()(c()({},i.NVIDIA,[]),i.AMD,["clusters.addworker.amdNotes-01"]),i.MOORE_THREADS,[]),i.ASCEND,[]),i.HYGON,["clusters.addworker.hygonNotes","clusters.addworker.hygonNotes-02"]),i.ILUVATAR,["clusters.addworker.corexNotes"]),i.CAMBRICON,["clusters.addworker.cambriconNotes"]),i.METAX,["clusters.addworker.metaxNotes"])},41550:function(n,e,t){t.d(e,{$F:function(){return p},Jq:function(){return d},S7:function(){return l},i7:function(){return s},jX:function(){return u},no:function(){return m},w:function(){return f}});var r=t(82092),o=t.n(r),a=t(91315),c=t(73940),i=t(76634),u={ready:"ready",not_ready:"not_ready",unreachable:"unreachable",provisioning:"provisioning",deleting:"deleting",error:"error",pending:"pending",initializing:"initializing",maintenance:"maintenance"},l=o()(o()(o()(o()(o()(o()(o()(o()(o()({},u.ready,"Ready"),u.not_ready,"Not Ready"),u.unreachable,"Unreachable"),u.provisioning,"Provisioning"),u.deleting,"Deleting"),u.error,"Error"),u.initializing,"Initializing"),u.pending,"Pending"),u.maintenance,"Maintenance"),s=o()(o()(o()(o()(o()(o()(o()(o()(o()({},u.ready,a.iE.success),u.not_ready,a.iE.error),u.unreachable,a.iE.error),u.provisioning,a.iE.transitioning),u.deleting,a.iE.transitioning),u.error,a.iE.error),u.pending,a.iE.transitioning),u.initializing,a.iE.transitioning),u.maintenance,a.iE.warning),d={all:{registerWorker:function(n){var e;return null===(e=i.xV[n.gpu])||void 0===e?void 0:e.call(i.xV,n)},checkEnvCommand:function(n){return o()(o()({},c.dC.Docker,i.Sg[n]||""),c.dC.Kubernetes,(0,i.Tk)(n)||"")}}},p={Error:"error",Downloading:"downloading",Ready:"ready"},f=o()(o()(o()({},p.Error,"Error"),p.Downloading,"Downloading"),p.Ready,"Ready"),m=o()(o()(o()({},p.Ready,a.iE.success),p.Error,a.iE.error),p.Downloading,a.iE.transitioning)},62998:function(n,e,t){t.d(e,{S:function(){return o}});var r=t(11227),o=function(n,e){(0,r.saveAs)(n,e)}}}]);