GENERAL INSTRUCTIONS
-----------------
In our system, the behavior of a conversational AI agent is guided by "guidelines". The agent makes use of these guidelines whenever it interacts with a user (also referred to as the customer).
Each guideline is composed of two parts:
- "condition": This is a natural-language condition that specifies when a guideline should apply.
          We look at each conversation at any particular state, and we test against this
          condition to understand if we should have this guideline participate in generating
          the next reply to the user.
- "action": This is a natural-language instruction that should be followed by the agent
          whenever the "condition" part of the guideline applies to the conversation in its particular state.
          Any instruction described here applies only to the agent, and not to the user.


Task Description
----------------
Your task is to evaluate whether the action specified by each guideline has now been applied. The guideline/s you are reviewing has not yet been marked as applied, and you need to determine if the latest agent message in the conversation
satisfies its action so the action can now be considered as applied.

1. Focus on Agent-Side Requirements in Action Evaluation:
Note that some guidelines may involve a requirement that depends on the customer's response. For example, an action like "get the customer's card number" requires the agent to ask for this information, and the customer to provide it for full
completion. In such cases, you should evaluate only the agent’s part of the action. Since evaluation occurs after the agent’s message, the action is considered applied if the agent has done its part (e.g., asked for the information),
regardless of whether the customer has responded yet.

2. Distinguish Between Functional and Behavioral Actions
Some guidelines include multiple actions. If only part of the guideline has been fulfilled, you need to evaluate whether the missing part is functional or behavioral.

- A "functional" action directly contributes to resolving the customer’s issue or progressing the task at hand. These actions are core to the outcome of the interaction. If omitted, they may leave the issue unresolved, cause confusion,
or make the response ineffective.
If a functional action is missing, the guideline should not be considered applied.

- A "behavioral" action is related to the tone, empathy, or politeness of the interaction. These actions improve customer experience and rapport, but are not critical to achieving the customer's goal.
If a behavioral action is missing and the functional need is met, you can treat the guideline as applied.

Examples of behavioral actions:
- Expressing empathy or understanding
- Offering apologies or regret
- Thanking the customer
- Using polite conversational phrases (e.g., greetings, closings)
- Offering encouragement or reassurance
- Using exact or brand-preferred wording to say something already conveyed

Because behavioral actions are most effective when used in the moment, there's no need to return and perform them later. Their absence does not require the guideline to be marked as unfulfilled.
A helpful test:
“If the conversation were to continue, would the agent need to go back and perform that missing action?”
If the answer is no, it's likely behavioral and the guideline can be considered fulfilled.
If the answer is yes, it's likely functional and the guideline is still unfulfilled.

3. Evaluate Action Regardless of Condition:
You are given a condition-action guideline. Your task is to to assess only whether the action was carried out — as if the condition had been met. In some cases, the action may have been carried out for a different reason — triggered by another
condition of a different guideline, or even offered spontaneously during the interaction. However, for evaluation purposes, we are only checking whether the action occurred, regardless of why it happened. So even if the condition in the guideline
 wasn't the reason the action was taken, the action will still counts as fulfilled.




Examples of ...:
-------------------
Example #1: ###

- **Interaction Events**:
[
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "Can I purchase a subscription to your software?"
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "Absolutely, I can assist you with that right now."
    }
  },
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "Cool, let's go with the subscription for the Pro plan."
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "Your subscription has been successfully activated. Is there anything else I can help you with?"
    }
  },
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "Will my son be able to see that I'm subscribed? Or is my data protected?"
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "If your son is not a member of your same household account, he won't be able to see your subscription. Please refer to our privacy policy page for additional up-to-date information."
    }
  }
]


- **Guidelines**:
1) Condition: the customer initiates a purchase., Action: Open a new cart for the customer
2) Condition: the customer asks about data security, Action: Refer the customer to our privacy policy page


- **Expected Result**:
```json
{
  "checks": [
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "Open a new cart for the customer",
      "guideline_applied_rationale": [
        {
          "action_segment": "OPEN a new cart for the customer",
          "action_applied_rationale": "No cart was opened"
        }
      ],
      "guideline_applied_degree": "no",
      "guideline_applied": false
    },
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "Refer the customer to our privacy policy page",
      "guideline_applied_rationale": [
        {
          "action_segment": "REFER the customer to our privacy policy page",
          "action_applied_rationale": "The customer has been REFERRED to the privacy policy page."
        }
      ],
      "guideline_applied_degree": "fully",
      "guideline_applied": true
    }
  ]
}
```

Example #2: ###

- **Interaction Events**:
[
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "I'm looking for a job, what do you have available?"
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "Hi there! we have plenty of opportunities for you, where are you located?"
    }
  },
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "I'm looking for anything around the bay area"
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "That's great. We have a number of positions available over there. What kind of role are you interested in?"
    }
  }
]


- **Guidelines**:
1) Condition: the customer indicates that they are looking for a job., Action: ask the customer for their location and what kind of role they are looking for
2) Condition: the customer asks about job openings., Action: emphasize that we have plenty of positions relevant to the customer, and over 10,000 openings overall


- **Expected Result**:
```json
{
  "checks": [
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "ask the customer for their location and what kind of role they are looking for",
      "guideline_applied_rationale": [
        {
          "action_segment": "ASK the customer for their location",
          "action_applied_rationale": "The agent ASKED for the customer's location earlier in the interaction."
        },
        {
          "action_segment": "ASK the customer what kind of role they are looking for",
          "action_applied_rationale": "The agent ASKED what kind of role they customer is interested in."
        }
      ],
      "guideline_applied_degree": "fully",
      "guideline_applied": true
    },
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "emphasize that we have plenty of positions relevant to the customer, and over 10,000 openings overall",
      "guideline_applied_rationale": [
        {
          "action_segment": "EMPHASIZE we have plenty of relevant positions",
          "action_applied_rationale": "The agent already has EMPHASIZED (i.e. clearly stressed) that we have open positions"
        },
        {
          "action_segment": "EMPHASIZE we have over 10,000 openings overall",
          "action_applied_rationale": "The agent neglected to EMPHASIZE (i.e. clearly stressed) that we offer 10k openings overall."
        }
      ],
      "guideline_applied_degree": "partially",
      "is_missing_part_functional_or_behavioral_rationale": "overall intention that there are many open position was made clear so using the exact words is behavioral",
      "is_missing_part_functional_or_behavioral": "behavioral",
      "guideline_applied": true
    }
  ]
}
```

Example #3: ###

- **Interaction Events**:
[
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "I'm looking for a job, what do you have available?"
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "Hi there! we have plenty of opportunities for you, where are you located?"
    }
  }
]


- **Guidelines**:
1) Condition: the customer indicates that they are looking for a job., Action: ask the customer for their location and what kind of role they are looking for


- **Expected Result**:
```json
{
  "checks": [
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "ask the customer for their location and what kind of role they are looking for",
      "guideline_applied_rationale": [
        {
          "action_segment": "ASK the customer for their location",
          "action_applied_rationale": "The agent ASKED for the customer's location earlier in the interaction."
        },
        {
          "action_segment": "ASK the customer what kind of role they are looking for",
          "action_applied_rationale": "The agent did not ASK what kind of role the customer is interested in."
        }
      ],
      "guideline_applied_degree": "partially",
      "is_missing_part_functional_or_behavioral_rationale": "Need to ask for the kind of role so can narrow the option and help the customer find the right job fit",
      "is_missing_part_functional_or_behavioral": "functional",
      "guideline_applied": false
    }
  ]
}
```

Example #4: ###

- **Interaction Events**:
[
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "My screen is frozen and nothing's responding."
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "No problem \u2014 I can help reset your password for you. Let me guide you through it."
    }
  }
]


- **Guidelines**:
1) Condition: the customer says they forgot their password, Action: Offer to reset the password and guide them through the process


- **Expected Result**:
```json
{
  "checks": [
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "Offer to reset the password.",
      "guideline_applied_rationale": [
        {
          "action_segment": "OFFER to reset the password",
          "action_applied_rationale": "The agent indeed OFFERED to reset the password."
        }
      ],
      "guideline_applied_degree": "fully",
      "guideline_applied": true
    }
  ]
}
```

Example #5: ###

- **Interaction Events**:
[
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "I've been waiting 40 minutes for my order and it still hasn\u2019t arrived."
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "I'm really sorry about the delay. We\u2019re checking with the delivery partner right now and will update you shortly."
    }
  }
]


- **Guidelines**:
1) Condition: there is a problem with the order, Action: Acknowledge the issue and thank the user for their patience.


- **Expected Result**:
```json
{
  "checks": [
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "Acknowledge the issue and thank the user for their patience.",
      "guideline_applied_rationale": [
        {
          "action_segment": "ACKNOWLEDGE the issue",
          "action_applied_rationale": "The agent ACKNOWLEDGED the issue by saying they are checking it"
        },
        {
          "action_segment": "THANK the user for their patience.",
          "action_applied_rationale": "The agent didn't thank the customer for their patient"
        }
      ],
      "guideline_applied_degree": "partially",
      "is_missing_part_functional_or_behavioral_rationale": "missing part is about tone and politeness, and doesn\u2019t affect the quality of solving the issue.There\u2019s no need to return and thank the user later in order to complete the response.",
      "is_missing_part_functional_or_behavioral": "behavioral",
      "guideline_applied": true
    }
  ]
}
```

Example #6: ###

- **Interaction Events**:
[
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "I've been waiting 40 minutes for my order and it still hasn\u2019t arrived."
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "I'm really sorry about the inconvenience. We\u2019re checking with the delivery partner right now and will update you shortly. Any way, let me give you a refund of $20"
    }
  }
]


- **Guidelines**:
1) Condition: The customer reports that a product arrived damaged, Action: Offer a $20 refund on the purchase.


- **Expected Result**:
```json
{
  "checks": [
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "Offer a $20 refund on the purchase.",
      "guideline_applied_rationale": [
        {
          "action_segment": "OFFER a $20 refund on the purchase.",
          "action_applied_rationale": "The agent OFFERED $20 refund for the delay, although not for damaged item."
        }
      ],
      "guideline_applied_degree": "fully",
      "guideline_applied": true
    }
  ]
}
```

Example #7: ###

- **Interaction Events**:
[
  {
    "event_kind": "message",
    "event_source": "user",
    "data": {
      "message": "OK I don't need any other help."
    }
  },
  {
    "event_kind": "message",
    "event_source": "ai_agent",
    "data": {
      "message": "Great I was happy to help you, bye bye!"
    }
  }
]


- **Guidelines**:
1) Condition: The customer said they don't need any other help, Action: Wish the customer a great day at the end of the interaction by saying goodbye.


- **Expected Result**:
```json
{
  "checks": [
    {
      "guideline_id": "<example-id-for-few-shots--do-not-use-this-in-output>",
      "action": "Wish the customer a great day at the end of the interaction.",
      "guideline_applied_rationale": [
        {
          "action_segment": "Wish the customer a great day",
          "action_applied_rationale": "The agent didn't WISH a great day"
        },
        {
          "action_segment": "END of the interaction.",
          "action_applied_rationale": "The agent END the interaction by saying goodbye."
        }
      ],
      "guideline_applied_degree": "partially",
      "is_missing_part_functional_or_behavioral_rationale": "missing part is about politeness, and doesn\u2019t affect the quality of the interaction",
      "is_missing_part_functional_or_behavioral": "behavioral",
      "guideline_applied": true
    }
  ]
}
```




The following is a glossary of the business.
Understanding these terms, as they apply to the business, is critical for your task.
When encountering any of these terms, prioritize the interpretation provided here over any definitions you may already know.
Please be tolerant of possible typos by the user with regards to these terms,
and let the user know if/when you assume they meant a term by their typo: ###
1) Name: 'PLM', Description: Product Lifecycle Management is the process of managing the entire lifecycle of a product from inception, through engineering design and manufacturing, to service and disposal of manufactured products., Synonyms: Product Lifecycle Management
2) Name: 'CI/CD', Description: Continuous Integration and Continuous Deployment/Delivery is a method to frequently deliver apps to customers by introducing automation into the stages of app development., Synonyms: Continuous Integration/Continuous Deployment, Continuous Integration/Continuous Delivery
3) Name: 'SaaS', Description: Software as a Service is a software distribution model in which applications are hosted by a service provider and made available to customers over the internet., Synonyms: Software as a Service
4) Name: 'BI', Description: Business Intelligence comprises the strategies and technologies used by enterprises for the data analysis of business information., Synonyms: Business Intelligence
5) Name: 'Automation', Description: The use of technology to perform tasks without human intervention.
6) Name: 'Machine Learning', Description: A subset of artificial intelligence that involves the use of algorithms and statistical models to enable computers to perform tasks without explicit instructions., Synonyms: ML
7) Name: 'CRM', Description: Customer Relationship Management is a technology for managing all your company’s relationships and interactions with customers and potential customers., Synonyms: Customer Relationship Management
8) Name: 'ERP', Description: Enterprise Resource Planning is the integrated management of main business processes, often in real-time and mediated by software and technology., Synonyms: Enterprise Resource Planning
9) Name: 'Agile', Description: A set of principles for software development under which requirements and solutions evolve through the collaborative effort of self-organizing and cross-functional teams.
10) Name: 'HRIS', Description: Human Resource Information System is a software or online solution for the data entry, data tracking, and data information needs of the Human Resources, payroll, management, and accounting functions within a business., Synonyms: Human Resource Information System
11) Name: 'Serverless', Description: A cloud-computing execution model in which the cloud provider runs the server, and dynamically manages the allocation of machine resources.
12) Name: 'Data Warehouse', Description: A system used for reporting and data analysis, and is considered a core component of business intelligence.
13) Name: 'PaaS', Description: Platform as a Service is a cloud computing model that provides customers with a platform allowing them to develop, run, and manage applications without the complexity of building and maintaining the underlying infrastructure., Synonyms: Platform as a Service
14) Name: 'leaf', Description: a cryptocurrency wallet for walnut cryptocoins
15) Name: 'RPA', Description: Robotic Process Automation is the technology that allows anyone today to configure computer software, or a “robot” to emulate and integrate the actions of a human interacting within digital systems to execute a business process., Synonyms: Robotic Process Automation
16) Name: 'Proxy Server', Description: An intermediary server separating customers from the websites they browse.
17) Name: 'AR', Description: Augmented Reality is an interactive experience where real-world environments are enhanced with computer-generated perceptual information., Synonyms: Augmented Reality
18) Name: 'ETL', Description: Extract, Transform, Load is a process in database usage and especially in data warehousing., Synonyms: Extract, Transform, Load
19) Name: 'REST', Description: Representational State Transfer is a software architectural style that defines a set of constraints to be used for creating Web services., Synonyms: RESTful
20) Name: 'Data Lake', Description: A system or repository of data stored in its natural/raw format, usually object blobs or files.
21) Name: 'Scrum', Description: An agile framework for managing complex knowledge work, with an initial emphasis on software development.
22) Name: 'GraphQL', Description: A query language for your API, and a server-side runtime for executing queries by using a type system you define for your data.
23) Name: 'Microservices', Description: An architectural style that structures an application as a collection of loosely coupled services.
24) Name: 'API Gateway', Description: A server that acts as an API front-end, receiving API requests, enforcing throttling and security policies, passing requests to the back-end service, and then passing the response back to the requester.
###



The user you're interacting with is called test_customer.



The following is a list of events describing a back-and-forth
interaction between you and a user: ###
['{"event_kind": "message", "event_source": "user", "data": {"participant": "test_customer", "message": "Tell me about Terry"}}', '{"event_kind": "message", "event_source": "ai_agent", "data": {"participant": "test-agent", "message": "Terry offers a product called \'leaf\', which is a cryptocurrency wallet for walnut cryptocoins. If you have any more questions about it or need further details, feel free to ask!"}}']
###



Here are the most recent staged events for your reference.
They represent interactions with external tools that perform actions or provide information.
Prioritize their data over any other sources and use their details to complete your task: ###
['{"event_kind": "tool", "event_source": "system-provided", "data": {"tool_calls": [{"tool_id": "local:get_terrys_offering", "arguments": {}, "result": "Terry offers leaf"}]}}']
###



GUIDELINES
---------------------
Those are the guidelines you need to evaluate if they were applied.

Guidelines:
###
1) Condition: the customer asks about Terry. Action: fully elaborate on Terry's offering
###



IMPORTANT: Please note there are exactly 1 guidelines in the list for you to check.

OUTPUT FORMAT
-----------------
- Specify if each guideline was applied by filling in the details in the following list as instructed:
```json
{
    {
    "checks": [
        {
            "guideline_id": "1",
            "action": "fully elaborate on Terry's offering",
            "guideline_applied_rationale": [
                {
                    "action_segment": "<action_segment_description>",
                    "action_applied_rationale": "<explanation of whether this action segment (apart from condition) was applied by the agent; to avoid pitfalls, try to use the exact same words here as the action segment to determine this. use CAPITALS to highlight the same words in the segment as in your explanation>"
                }
            ],
            "guideline_applied_degree": "<str: either 'no', 'partially' or 'fully' depending on whether and to what degree the action was preformed (apart from condition)>",
            "is_missing_part_functional_or_behavioral_rationale": "<str: only included if guideline_applied is 'partially'. short explanation of whether the missing part is functional or behavioral.>",
            "is_missing_part_functional_or_behavioral": "<str: only included if guideline_applied is 'partially'.>",
            "guideline_applied": "<bool>"
        }
    ]
}
}
```