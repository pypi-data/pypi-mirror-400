"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["10405"],{44688:function(t,n,e){e.d(n,{Oc:function(){return o},gk:function(){return s},oS:function(){return i}});var a=e(50816),i=!1,s=i?a._:"A078F6B0",o="urn:x-cast:com.nabucasa.hast"},50816:function(t,n,e){e.d(n,{I:function(){return i},_:function(){return a}});var a="5FE44367",i="http://192.168.1.234:8123"},40461:function(t,n,e){e.d(n,{oK:function(){return s},tb:function(){return o},xV:function(){return r}});e(26099),e(3362);var a=e(44688),i=e(50816),s=function(t,n){return t.sendMessage({type:"connect",refreshToken:n.data.refresh_token,clientId:n.data.clientId,hassUrl:a.oS?i.I:n.data.hassUrl})},o=function(t,n,e,s){return t.sendMessage({type:"show_lovelace_view",viewPath:e,urlPath:s||null,hassUrl:a.oS?i.I:n})},r=function(t,n){if(!t.castConnectedToOurHass)return new Promise(function(e){var a=t.addEventListener("connection-changed",function(){t.castConnectedToOurHass&&(a(),e())});s(t,n)})}},96612:function(t,n,e){e.a(t,async function(t,a){try{e.r(n);var i,s,o,r,c,u,h=e(61397),l=e(50264),d=e(72153),f=e(44734),g=e(43080),_=e(69683),v=e(6454),p=e(25460),y=(e(28706),e(23792),e(69085),e(26099),e(3362),e(47764),e(62953),e(40445)),A=e(96196),w=e(77845),m=e(94333),M=e(40461),k=e(18350),b=(e(88945),t([k]));k=(b.then?(await b)():b)[0];var x=function(t){function n(){var t;(0,f.A)(this,n);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=(0,_.A)(this,n,[].concat(a)))._noHTTPS=!1,t}return(0,v.A)(n,t),(0,g.A)(n,[{key:"setConfig",value:function(t){this._config=Object.assign({icon:"mdi:television",name:"GiToon Cast",view:0},t)}},{key:"shouldUpdate",value:function(t){return!(1===t.size&&t.has("hass"))}},{key:"render",value:function(){if(!this._config)return A.s6;var t=this._castManager&&this._castManager.status&&this._config.view===this._castManager.status.lovelacePath&&this._config.dashboard===this._castManager.status.urlPath;return(0,A.qy)(i||(i=(0,d.A)([' <ha-icon .icon="','"></ha-icon> <div class="flex"> <div class="name">',"</div> "," </div> "])),this._config.icon,this._config.name,this._noHTTPS?(0,A.qy)(s||(s=(0,d.A)([" Cast requires HTTPS "]))):void 0===this._castManager?A.s6:null===this._castManager?(0,A.qy)(o||(o=(0,d.A)([" Cast API unavailable "]))):"NO_DEVICES_AVAILABLE"===this._castManager.castState?(0,A.qy)(r||(r=(0,d.A)([" No devices found "]))):(0,A.qy)(c||(c=(0,d.A)([' <div class="controls"> <google-cast-launcher></google-cast-launcher> <ha-button @click="','" class="','" appearance="plain" size="small" .disabled="','"> SHOW </ha-button> </div> '])),this._sendLovelace,(0,m.H)({inactive:!t}),!this._castManager.status))}},{key:"firstUpdated",value:function(t){var a=this;(0,p.A)(n,"firstUpdated",this,3)([t]),"http:"===location.protocol&&"localhost"!==location.hostname&&(this._noHTTPS=!0),e.e("80444").then(e.bind(e,51671)).then(function(t){return(0,t.getCastManager)(a.hass.auth).then(function(t){a._castManager=t,t.addEventListener("connection-changed",function(){a.requestUpdate()}),t.addEventListener("state-changed",function(){a.requestUpdate()})},function(){a._castManager=null})})}},{key:"updated",value:function(t){(0,p.A)(n,"updated",this,3)([t]),this._config&&this._config.hide_if_unavailable&&(this.style.display=this._castManager&&"NO_DEVICES_AVAILABLE"!==this._castManager.castState?"":"none")}},{key:"_sendLovelace",value:(a=(0,l.A)((0,h.A)().m(function t(){return(0,h.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,M.xV)(this._castManager,this.hass.auth);case 1:(0,M.tb)(this._castManager,this.hass.auth.data.hassUrl,this._config.view,this._config.dashboard);case 2:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})}]);var a}(A.WF);x.styles=(0,A.AH)(u||(u=(0,d.A)([":host{display:flex;align-items:center}ha-icon{padding:8px;color:var(--state-icon-color)}.flex{flex:1;margin-left:16px;margin-inline-start:16px;margin-inline-end:initial;display:flex;justify-content:space-between;align-items:center}.name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.controls{display:flex;align-items:center}google-cast-launcher{margin-right:.57em;margin-inline-end:-.57em;margin-inline-start:initial;cursor:pointer;display:inline-block;height:24px;width:24px}.inactive{padding:0 4px}"]))),(0,y.__decorate)([(0,w.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,y.__decorate)([(0,w.wk)()],x.prototype,"_config",void 0),(0,y.__decorate)([(0,w.wk)()],x.prototype,"_castManager",void 0),(0,y.__decorate)([(0,w.wk)()],x.prototype,"_noHTTPS",void 0),x=(0,y.__decorate)([(0,w.EM)("hui-cast-row")],x),a()}catch(T){a(T)}})}}]);
//# sourceMappingURL=10405.3632ef98f6067b57.js.map