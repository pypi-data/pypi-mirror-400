"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[949],{94377:function(e,n,t){var r,i,a=t(48305),o=t.n(a),l=t(53649),s=t.n(l),c=t(48075),u=t(86422),d=t(38913),f=t(53231),p=t(79635),h=t(35498),m=t(6905),g=t(58281),v=t(32699),x=t(75271),A=t(67585),y=t(85882),b=t(92829),j=t(52676),w=A.ZP.div(r||(r=s()(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 8px;\n  .ant-slider {\n    flex: 1;\n  }\n  .time {\n    color: var(--ant-color-text-tertiary);\n  }\n"]))),E=(0,g.kc)((function(e){var n=e.css,t=e.token.darkMode;return{wrapper:n(i||(i=s()(["\n      position: relative;\n      min-width: 360px;\n      height: 54px;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      padding: 8px 10px;\n      background-color: ",";\n      border-radius: 28px;\n      .inner {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        flex: 1;\n        gap: 8px;\n        .slider {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          flex: 1;\n          .ant-slider {\n            margin: 0;\n          }\n          &:hover {\n            .ant-slider-handle {\n              opacity: 1;\n              transition: opacity 0.3s ease-in-out;\n            }\n          }\n          &:focus-within {\n            .ant-slider-handle {\n              opacity: 1;\n            }\n          }\n        }\n\n        .ant-slider-handle {\n          opacity: 0;\n          &::before {\n            background-color: var(--ant-color-bg-spotlight);\n            border-radius: 50%;\n          }\n          &::after {\n            display: none;\n          }\n        }\n      }\n    "])),t?"var(--ant-color-fill-secondary)":"#F1F3F4")}})),k={rail:{borderRadius:"4px",backgroundColor:"var(--ant-color-fill-secondary)"},track:{borderRadius:"4px",backgroundColor:"var(--ant-color-bg-spotlight)"}},C=[{label:"1x",value:1},{label:"2x",value:2},{label:"3x",value:3},{label:"4x",value:4}],Q=(0,x.forwardRef)((function(e,n){var t=(0,f.useIntl)(),r=E().styles,i=e.autoplay,a=void 0!==i&&i,l=e.speed,s=void 0===l?1:l,g=e.actions,A=void 0===g?["delete"]:g,Q=e.name,Z=e.onDelete,I=x.useRef(null),B=x.useState({currentTime:0,duration:0}),R=o()(B,2),N=R[0],z=R[1],S=x.useState(!1),U=o()(S,2),P=U[0],M=U[1],L=x.useState(!1),F=o()(L,2),D=F[0],J=F[1],K=x.useState(1),H=o()(K,2),T=H[0],Y=H[1],W=x.useState(s),G=o()(W,2),O=G[0],q=G[1],X=x.useRef(null);(0,x.useImperativeHandle)(n,(function(){return{play:function(){var e;null===(e=I.current)||void 0===e||e.play()},pause:function(){var e;null===(e=I.current)||void 0===e||e.pause()}}}));(0,x.useCallback)((function(){J(!D)}),[D]);var V=(0,x.useCallback)((function(e){q(e),I.current.playbackRate=e}),[]),_=(0,x.useCallback)((function(){X.current=setInterval((function(){var e,n;z((function(e){var n,t;return{currentTime:Math.ceil((null===(n=I.current)||void 0===n?void 0:n.currentTime)||0),duration:e.duration||Math.ceil((null===(t=I.current)||void 0===t?void 0:t.duration)||0)}})),(null!==(e=I.current)&&void 0!==e&&e.paused||null!==(n=I.current)&&void 0!==n&&n.ended)&&(clearInterval(X.current),M(!1),z((function(e){var n;return{currentTime:null!==(n=I.current)&&void 0!==n&&n.ended?0:e.currentTime,duration:e.duration}})))}),500)}),[]),$=(0,x.useCallback)((function(){var e,n;(M(!P),P)?null===(e=I.current)||void 0===e||e.pause():null===(n=I.current)||void 0===n||n.play()}),[P]),ee=((0,x.useCallback)((function(e){I.current.volume=(0,v.round)(e,2),Y((0,v.round)(e,2))}),[]),(0,x.useCallback)((function(n){var t,r=Math.ceil((null===(t=I.current)||void 0===t?void 0:t.duration)||0);z({currentTime:0,duration:r&&r!==1/0?r:e.duration||0}),M(a)}),[a,e.duration])),ne=(0,x.useCallback)((function(e){I.current.currentTime=e,z((function(n){return{currentTime:e,duration:n.duration}}))}),[]),te=(0,x.useCallback)((function(){var n=e.url||"",t=e.name,r=document.createElement("a");r.href=n,r.download=t||"audio.mp3",document.body.appendChild(r),r.click(),r.remove()}),[e.url,e.name]),re=(0,x.useMemo)((function(){return[{key:"download",label:t.formatMessage({id:"common.button.download"}),icon:(0,j.jsx)(u.Z,{}),onClick:te},{key:"speed",label:t.formatMessage({id:"playground.params.speed"}),icon:(0,j.jsx)(b.Z,{type:"icon-play-speed"}),children:C.map((function(e){return{key:e.value,label:e.label,onClick:function(){return V(e.value)}}}))},{key:"delete",label:t.formatMessage({id:"common.button.delete"}),icon:(0,j.jsx)(d.Z,{}),danger:!0,onClick:function(){I.current&&(I.current.pause(),I.current.src="",I.current.load()),z({currentTime:0,duration:0}),M(!1),null==Z||Z()}}].filter((function(e){return A.includes(e.key)}))}),[A,t,te,Z,V]);return(0,x.useEffect)((function(){I.current&&I.current&&(I.current.volume=T,I.current.playbackRate=O)}),[I.current]),(0,x.useEffect)((function(){return function(){clearInterval(X.current)}}),[]),(0,j.jsxs)("div",{className:r.wrapper,style:{width:e.width||"100%",height:e.height||"60px",position:"relative"},children:[(0,j.jsxs)("div",{className:"inner",children:[(0,j.jsx)(p.ZP,{size:"middle",type:"text",onClick:$,shape:"circle",disabled:!(null!=N&&N.duration),icon:P?(0,j.jsx)(b.Z,{type:"icon-stopcircle-fill",style:{fontSize:"24px"}}):(0,j.jsx)(b.Z,{type:"icon-playcircle-fill",style:{fontSize:"24px"}})}),(0,j.jsxs)("div",{className:"slider",children:[(0,j.jsx)("div",{className:"flex-center flex-between file-name",children:(0,j.jsx)(y.Z,{ghost:!0,maxWidth:200,children:(0,j.jsx)("span",{children:Q})})}),(0,j.jsxs)(w,{children:[(0,j.jsx)("span",{className:"time",children:(0,c.mr)(N.currentTime)}),(0,j.jsx)(h.Z,{tooltip:{open:!1},min:0,step:1,styles:k,max:N.duration,value:N.currentTime,onChange:ne})]})]}),(0,j.jsx)(m.Z,{menu:{items:re},trigger:["click"],children:(0,j.jsx)(p.ZP,{icon:(0,j.jsx)(b.Z,{type:"icon-more"}),type:"text",size:"middle",shape:"circle"})})]}),(0,j.jsx)("audio",{crossOrigin:"anonymous",autoPlay:a,src:e.url,ref:I,preload:"metadata",style:{opacity:0,position:"absolute",left:"-9999px"},onPlay:_,onLoadedMetadata:ee})]})}));n.Z=x.memo(Q)},91691:function(e,n,t){t.d(n,{Z:function(){return P}});var r=t(26068),i=t.n(r),a=t(90228),o=t.n(a),l=t(87999),s=t.n(l),c=t(48305),u=t.n(c),d=t(79312),f=t(27111),p=t(2325),h=t(3246),m=t(82187),g=t.n(m),v=t(32699),x=t(5930),A=t(75271),y=t(67825),b=t.n(y),j="data:image/png;base64,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",w=t(46285),E=t(86422),k=t(22069),C=t(53730),Q=t(3496),Z=t(57657),I=t(43802),B=t(2593),R=t(63134),N=t(18843),z=t(52676),S=["height","width","autoSize","preview"],U=function(e){var n=e.height,t=void 0===n?100:n,r=e.width,a=e.autoSize,l=e.preview,c=void 0===l||l,d=b()(e,S),f=(0,A.useState)(r||0),p=u()(f,2),h=p[0],m=p[1],g=(0,A.useState)(!1),x=u()(g,2),y=x[0],U=x[1],P=(0,A.useCallback)((function(e){return new Promise((function(n){var t=new Image;t.onload=function(){n({ratio:(0,v.round)(t.width/t.height,2)})},t.onerror=function(){n({ratio:1})},t.src=e}))}),[]),M=(0,A.useCallback)(s()(o()().mark((function n(){var r,i;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,P(e.src||"");case 4:if(r=n.sent,i=r.ratio,"number"!=typeof t){n.next=10;break}m(t*i),n.next=11;break;case 10:throw new Error("Height must be a number");case 11:case"end":return n.stop()}}),n)}))),[P,t,e.src]),L=(0,A.useCallback)((function(){var n=e.src||"",t=Date.now()+"",r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove()}),[e.src]),F=(0,A.useCallback)((function(){var n;null===(n=e.onLoad)||void 0===n||n.call(e),U(!1)}),[e.onLoad]),D=(0,A.useCallback)((function(e){U(!0),e.target.src=j}),[]);return(0,A.useEffect)((function(){M()}),[M]),(0,A.useEffect)((function(){m(r||0)}),[r]),(0,z.jsx)(R.Z,i()(i()({},d),{},{height:y?"auto":t,width:y?"100%":h,onError:D,onLoad:F,fallback:j,crossOrigin:"anonymous",preview:c&&!y&&{mask:(0,z.jsx)(w.Z,{}),toolbarRender:function(e,n){var t=n.transform.scale,r=n.actions,i=r.onFlipY,a=r.onFlipX,o=r.onRotateLeft,l=r.onRotateRight,s=r.onZoomOut,c=r.onZoomIn,u=r.onReset;return(0,z.jsxs)(N.Z,{size:12,className:"toolbar-wrapper",children:[(0,z.jsx)(E.Z,{onClick:L}),(0,z.jsx)(k.Z,{rotate:90,onClick:i}),(0,z.jsx)(k.Z,{onClick:a}),(0,z.jsx)(C.Z,{onClick:o}),(0,z.jsx)(Q.Z,{onClick:l}),(0,z.jsx)(Z.Z,{disabled:1===t,onClick:s}),(0,z.jsx)(I.Z,{disabled:50===t,onClick:c}),(0,z.jsx)(B.Z,{onClick:u})]})}}}))},P=function(e){var n=e.editable,t=e.onDelete,r=e.onClick,a=e.autoSize,l=e.uid,c=e.loading,m=e.width,y=e.height,b=e.progress,j=e.maxHeight,w=e.maxWidth,E=e.dataUrl,k=void 0===E?"":E,C=e.label,Q=e.style,Z=e.autoBgColor,I=e.preview,B=void 0===I||I,R=(e.loadingSize,A.useRef(null)),N=A.useState({width:m,height:y}),S=u()(N,2),P=S[0],M=S[1],L=A.useMemo((function(){return c?{width:"100%",height:"100%"}:{}}),[c,P]),F=(0,A.useCallback)((function(){null==r||r(e)}),[r,e]),D=(0,A.useCallback)((function(n){if(a&&n.width&&n.height){var t=n.width,r=n.height,i=e.width,o=e.height;if(i&&o){var l=t/i,s=r/o,c=Math.min(l,s,1),u=i*c,d=o*c;u===P.width&&d===P.height||M({width:u,height:d})}}}),[a,e.width,e.height]),J=A.useCallback(s()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[]);return(0,z.jsx)(x.Z,{onResize:D,children:(0,z.jsxs)("div",{style:i()({},Q),className:g()("single-image",{"auto-bg-color":Z,"auto-size":a,loading:c}),children:[Z&&(0,z.jsx)("div",{className:"mask",style:{background:"url(".concat(k,") center center / cover no-repeat")}}),(0,z.jsxs)("span",{className:"thumb-img",style:i()({},L),ref:R,children:[(0,z.jsxs)(z.Fragment,{children:[C&&(0,z.jsx)("div",{className:"label",children:C}),c?(0,z.jsx)("span",{className:"progress-wrap",style:{width:"100%",height:"100%",display:"flex",border:"1px solid var(--ant-color-split)",borderRadius:"var(--border-radius-base)",justifyContent:"center",alignItems:"center",padding:"10px",overflow:"hidden"},children:(0,z.jsx)(h.Z,{indicator:(0,z.jsx)(d.Z,{style:{fontSize:32},spin:!0})})}):(0,z.jsxs)("span",{onClick:F,className:"img",style:{maxHeight:"min(".concat(j,", 100%)"),maxWidth:"min(".concat(w,", 100%)")},children:[(0,z.jsx)(U,{style:{objectFit:"cover"},preview:B,autoSize:a,src:k,width:P.width||"100%",height:P.height||100,onLoad:J}),b&&b<100&&(0,z.jsx)("span",{className:"small-progress-wrap",children:(0,z.jsx)(p.Z,{percent:(0,v.round)(b,0),type:"dashboard",size:"small",steps:{count:25,gap:3},format:function(){return(0,z.jsxs)("span",{className:"font-size-12",children:[(0,v.round)(b,0),"%"]})},strokeColor:"var(--color-white-secondary)",trailColor:"var(--ant-color-fill-secondary)"})})]})]}),n&&(0,z.jsx)("span",{className:"del",onClick:function(){return t(l)},children:(0,z.jsx)(f.Z,{})})]})]},l)})}},85882:function(e,n,t){var r,i=t(26068),a=t.n(i),o=t(48305),l=t.n(o),s=t(67825),c=t.n(s),u=t(53649),d=t.n(u),f=t(15409),p=t(68652),h=t(32699),m=t(75271),g=t(67585),v=t(3453),x=t(52676),A=["children","maxWidth","minWidth","ghost","title","showTitle","tooltipProps","radius","filled"],y=(0,g.ZP)(p.Z)(r||(r=d()(["\n  margin: 0;\n  &.tag-filled {\n    border: none;\n    background-color: var(--ant-color-fill-secondary);\n  }\n"]))),b=function(e){var n=e.children,t=e.maxWidth,r=void 0===t?"100%":t,i=e.minWidth,o=e.ghost,s=void 0!==o&&o,u=e.title,d=e.showTitle,p=void 0!==d&&d,g=e.tooltipProps,b=e.radius,j=void 0===b?12:b,w=e.filled,E=void 0!==w&&w,k=c()(e,A),C=(0,m.useRef)(null),Q=(0,m.useState)(!1),Z=l()(Q,2),I=Z[0],B=Z[1],R=(0,m.useRef)(null),N=(0,m.useCallback)((function(){if(C.current){var e=C.current,n=e.scrollWidth,t=e.clientWidth;B(n>t)}}),[C.current]);(0,m.useEffect)((function(){var e,n,t=C.current;if(t)return null===(e=R.current)||void 0===e||e.disconnect(),R.current=new ResizeObserver((function(){N()})),null===(n=R.current)||void 0===n||n.observe(t),N(),function(){var e;null===(e=R.current)||void 0===e||e.disconnect(),R.current=null}}),[N]),(0,m.useEffect)((function(){var e=(0,h.throttle)(N,200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),e.cancel()}}),[N]),(0,m.useEffect)((function(){N()}),[n,N]);var z=(0,m.useMemo)((function(){return a()({maxWidth:r,minWidth:i,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},k.style)}),[r,k.style]);return(0,x.jsx)(v.$R,{toolTipProps:a()(a()({},g),{},{destroyOnHidden:!1}),title:!(!I&&!p)&&(u||n),children:s?(0,x.jsx)("div",{ref:C,style:z,"data-overflow":I,children:n}):(0,x.jsx)(y,a()(a()({},k),{},{className:"".concat(k.className||""," ").concat(E?"tag-filled":""),ref:C,style:a()({paddingInline:k.closable?"8px 22px":8,borderRadius:j},z),closeIcon:!!k.closable&&(0,x.jsx)(f.Z,{style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"}}),children:n}))})};n.Z=m.memo(b)},3453:function(e,n,t){t.d(n,{$R:function(){return x},QR:function(){return v}});var r,i=t(67825),a=t.n(i),o=t(26068),l=t.n(o),s=t(53649),c=t.n(s),u=t(2825),d=t(25408),f=t(75271),p=t(67585),h=t(52676),m=["styles"],g=p.ZP.div(r||(r=c()(["\n  max-height: ",";\n  overflow-y: auto;\n  width: 100%;\n"])),(function(e){var n=e.$maxHeight;return"number"==typeof n?"".concat(n,"px"):n})),v=function(e){var n=e.children,t=e.maxHeight,r=e.scrollbars,i=e.oppositeTheme,a=e.style,o=e.onScroll,s=f.useRef(null),c=(0,u.Z)({options:{scrollbars:r,oppositeTheme:i}}).initialize;return f.useEffect((function(){s.current&&c(s.current)}),[]),(0,h.jsx)(g,{ref:s,"data-overlayscrollbars-initialize":!0,className:"overlay-scroller-wrapper",$maxHeight:t||200,hidden:!1,onWheel:o,style:l()({paddingInlineStart:8,paddingInlineEnd:8},a),children:n})},x=function(e){var n=e.children,t=e.maxHeight,r=e.title,i=e.toolTipProps,o=e.scrollbars,s=e.oppositeTheme,c=i||{},u=c.styles,f=a()(c,m);return(0,h.jsx)(d.Z,l()(l()({styles:l()(l()({},u),{},{body:l()({paddingInline:0},null==u?void 0:u.body)}),title:r&&(0,h.jsx)(v,{scrollbars:l()(l()({},o),{},{theme:"os-theme-light"}),maxHeight:t,oppositeTheme:s,children:r})},f),{},{children:n}))};n.ZP=v},13959:function(e,n,t){var r=t(48305),i=t.n(r),a=t(98868),o=t(53231),l=t(35421),s=t(25408),c=t(44868),u=t(79635),d=(t(75271),t(48075)),f=t(52676);n.Z=function(e){var n,t=l.ZP.useMessage(),r=i()(t,2),p=r[0],h=r[1],m=e.icon,g=(e.accept,e.type,e.size),v=void 0===g?"large":g,x=e.shape,A=void 0===x?"circle":x,y=(0,o.useIntl)();return(0,f.jsxs)(s.Z,{styles:{body:{maxWidth:290,width:"max-content"}},title:y.formatMessage({id:"playground.audio.uploadfile.tips"},{formats:e.accept}),children:[(0,f.jsx)(c.Z,{beforeUpload:function(e){return!1},onChange:function(n){var t,r;(r=n.file,e.maxFileSize&&r.size>e.maxFileSize&&(p.open({type:"warning",content:y.formatMessage({id:"playground.uploadfile.sizeError"},{size:"".concat((0,d.hy)(e.maxFileSize))})}),1))||(null===(t=e.onChange)||void 0===t||t.call(e,n))},accept:e.accept,multiple:!1,maxCount:1,showUploadList:!1,fileList:[],children:(0,f.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16},children:(0,f.jsx)(u.ZP,{size:v,icon:null!=m?m:(0,f.jsx)(a.Z,{}),type:null!==(n=e.type)&&void 0!==n?n:"text",shape:A})})}),h]})}},46214:function(e,n,t){t.d(n,{Z:function(){return Y}});var r,i,a=t(90228),o=t.n(a),l=t(15558),s=t.n(l),c=t(87999),u=t.n(c),d=t(26068),f=t.n(d),p=t(48305),h=t.n(p),m=t(53649),g=t.n(m),v=t(94377),x=t(92829),A=t(13959),y=t(71920),b=t(71891),j=t(22069),w=t(98485),E=t(94752),k=t(47219),C=t(53231),Q=t(97014),Z=t(79635),I=t(48872),B=t(72567),R=t(25408),N=t(32699),z=t.n(N),S=t(75271),U=t(7388),P=t(67585),M=t(41994),L=t(2507),F=t(62988),D=t(52676),J=P.ZP.div(r||(r=g()(["\n  padding-block: 10px;\n  height: max-content;\n  width: max-content;\n  audio {\n    padding-top: 10px;\n  }\n"]))),K=P.ZP.div.attrs({className:"custom-scrollbar-horizontal"})(i||(i=g()(["\n  display: flex;\n  overflow-x: auto;\n  width: 100%;\n  flex-direction: column;\n"]))),H=[{label:"2 columns",icon:"icon-cols_2",value:{span:12,count:2},tips:"playground.toolbar.compare2Model"},{label:"3 columns",icon:"icon-cols_3",value:{span:8,count:3},tips:"playground.toolbar.compare3Model"},{label:"4 columns",icon:"icon-cols_4",value:{span:12,count:4},tips:"playground.toolbar.compare4Model"},{label:"6 columns",icon:"icon-cols_6",value:{span:8,count:6},tips:"playground.toolbar.compare6Model"}],T=(0,S.forwardRef)((function(e,n){var t,r,i=e.handleSubmit,a=e.handleAbortFetch,l=e.clearAll,c=e.updateLayout,d=e.addMessage,p=e.onCheck,m=e.onInputChange,g=e.title,N=e.loading,P=e.disabled,T=e.isEmpty,Y=e.submitIcon,W=e.placeholer,G=e.defaultChecked,O=void 0===G||G,q=e.tools,X=e.style,V=e.checkLabel,_=e.defaultSize,$=void 0===_?{minRows:3,maxRows:8}:_,ee=e.shouldResetMessage,ne=void 0===ee||ee,te=e.actions,re=void 0===te?["clear","layout","role","upload","add","paste"]:te,ie=Q.Z.TextArea,ae=(0,C.useIntl)(),oe=(0,S.useState)(!1),le=h()(oe,2),se=le[0],ce=le[1],ue=(0,S.useState)({role:M.G7.User,content:"",imgs:[]}),de=h()(ue,2),fe=de[0],pe=de[1],he=(0,S.useState)(!1),me=h()(he,2),ge=(me[0],me[1],(0,S.useState)(!1)),ve=h()(ge,2),xe=(ve[0],ve[1],(0,S.useRef)(0)),Ae=(0,S.useRef)(null),ye=((0,S.useRef)(null),function(){return xe.current+=1,xe.current}),be=(0,S.useMemo)((function(){var e,n;return!!P||!fe.content&&T&&!(null!==(e=fe.imgs)&&void 0!==e&&e.length)&&!(null!==(n=fe.audio)&&void 0!==n&&n.length)}),[P,fe,T]),je=function(){pe({role:fe.role,content:"",imgs:[]})},we=function(e){var n;null==m||m(e),pe(f()(f()({},fe),{},{content:null===(n=e.target)||void 0===n?void 0:n.value}))},Ee=function(){i(f()({},fe)),ne&&je()},ke=function(e){null==e||e.preventDefault(),null==d||d(f()({},fe)),je(),ce(!0),setTimeout((function(){var e,n;null===(e=Ae.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)}),100)},Ce=(0,S.useCallback)(function(){var e=u()(o()().mark((function e(n){var t,r,i,a,l,c,u;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.clipboardData||window.clipboardData,r=t.items,i=[],a=o()().mark((function e(){var n,t,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"file"===(n=r[l]).kind&&-1!==n.type.indexOf("image")?(t=n.getAsFile(),a=new Promise((function(e,n){var r=new FileReader;r.onload=function(t){var r,i=null===(r=t.target)||void 0===r?void 0:r.result;i?e(i):n("Failed to convert image to base64")},r.readAsDataURL(t)})),i.push(a)):n.kind;case 2:case"end":return e.stop()}}),e)})),l=0;case 5:if(!(l<r.length)){e.next=10;break}return e.delegateYield(a(),"t0",7);case 7:l++,e.next=5;break;case 10:return e.prev=10,e.next=13,Promise.all(i);case 13:(c=e.sent).length&&(u=z().map(c,(function(e){return ye(),{uid:xe.current,dataUrl:e}})),pe(f()(f()({},fe),{},{imgs:[].concat(s()(fe.imgs||[]),s()(u))}))),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(n){return e.apply(this,arguments)}}(),[fe]),Qe=function(){var e=u()(o()().mark((function e(n){var t,r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.lH)(n.file);case 3:return t=e.sent,e.next=6,(0,b.a5)(n.file);case 6:r=e.sent,pe((function(e){return f()(f()({},e),{},{audio:[{uid:ye(),format:b.jH[n.file.type],base64:t.split(",")[1],data:z().pick(r,["url","name","duration"])}]})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),Ze=function(e){if(e.key===y.d4.ENTER.keybinding){if(e.shiftKey)return;e.preventDefault(),N||Ee()}},Ie=(0,L.Z)({handleUpdateImgList:function(e){pe(f()(f()({},fe),{},{imgs:[].concat(s()(fe.imgs||[]),s()(e))}))},updateUidCount:ye}),Be=Ie.ImageURLInput,Re=Ie.UploadImageButton;return(0,S.useImperativeHandle)(n,(function(){return{handleInputChange:we}})),(0,U.y1)(y.ZP.ADD,(function(e){e.preventDefault(),e.stopPropagation(),ke()}),{enabled:!N,enableOnFormTags:se,preventDefault:!0}),(0,U.y1)(y.ZP.FOCUS,(function(){var e,n;null===(e=Ae.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e,{cursor:"end"})}),{preventDefault:!0}),(0,D.jsxs)("div",{className:"messageInput",style:f()({},X),children:[(0,D.jsxs)("div",{className:"tool-bar",children:[(0,D.jsxs)("div",{className:"actions",children:[g&&(0,D.jsx)("span",{className:"font-500",children:g}),re.includes("role")&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(Z.ZP,{type:"text",size:"middle",variant:"filled",color:"default",onClick:function(){pe(f()(f()({},fe),{},{role:fe.role===M.G7.User?M.G7.Assistant:M.G7.User}))},icon:(0,D.jsx)(j.Z,{rotate:90}),children:ae.formatMessage({id:"playground.".concat(fe.role)})}),(0,D.jsx)(I.Z,{type:"vertical",style:{margin:0}})]}),re.includes("check")&&(0,D.jsx)(B.Z,{onChange:p,defaultChecked:O,children:V}),re.includes("upload")&&fe.role===M.G7.User&&Re,re.includes("upload")&&fe.role===M.G7.User&&(0,D.jsx)(A.Z,{maxFileSize:1048576,type:"text",accept:".mp3,.wav",size:"middle",shape:"default",icon:(0,D.jsx)(w.Z,{}),onChange:Qe}),q,re.includes("clear")&&(0,D.jsx)(R.Z,{title:ae.formatMessage({id:"common.button.clear"}),children:(0,D.jsx)(Z.ZP,{disabled:N,type:"text",icon:(0,D.jsx)(E.Z,{}),size:"middle",onClick:function(e){e.stopPropagation(),l()}})}),re.includes("layout")&&c&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(I.Z,{type:"vertical",style:{margin:0}}),H.map((function(e){return(0,D.jsx)(R.Z,{title:ae.formatMessage({id:e.tips}),children:(0,D.jsx)(Z.ZP,{type:"text",icon:(0,D.jsx)(x.Z,{type:e.icon}),size:"middle",onClick:function(){return n=e.value,void(null==c||c(n));var n}},e.icon)},e.icon)}))]}),Be]}),(0,D.jsxs)("div",{className:"actions",children:[re.includes("add")&&(0,D.jsx)(R.Z,{title:(0,D.jsxs)("span",{children:["[",y.d4.ADD.textKeybinding,"]"," ",ae.formatMessage({id:"common.button.add"})]}),children:(0,D.jsx)(Z.ZP,{type:"default",size:"middle",onClick:ke,children:ae.formatMessage({id:"common.button.add"})})}),N?(0,D.jsx)(Z.ZP,{style:{width:46},type:"primary",onClick:function(){a()},size:"middle",icon:(0,D.jsx)(x.Z,{type:"icon-stop1",className:"font-size-14"})}):(0,D.jsx)(R.Z,{title:(0,D.jsxs)("span",{children:["[",y.d4.SUBMIT.textKeybinding,"]"," ",ae.formatMessage({id:"common.button.submit"})]}),children:(0,D.jsx)(Z.ZP,{style:{width:46},type:"primary",onClick:Ee,size:"middle",disabled:be,children:null!=Y?Y:(0,D.jsx)(k.Z,{rotate:0,className:"font-size-14"})})})]})]}),(0,D.jsxs)(K,{children:[(0,D.jsx)(F.Z,{style:{paddingBlockEnd:0},dataList:fe.imgs||[],onDelete:function(e){var n=z().filter(fe.imgs,(function(n){return n.uid!==e}));pe(f()(f()({},fe),{},{imgs:n}))},editable:!0}),fe.audio&&fe.audio.length>0&&(0,D.jsx)(J,{children:(0,D.jsx)(v.Z,{url:null===(t=fe.audio)||void 0===t||null===(t=t[0].data)||void 0===t?void 0:t.url,name:null===(r=fe.audio)||void 0===r||null===(r=r[0].data)||void 0===r?void 0:r.name,height:50,onDelete:function(){pe(f()(f()({},fe),{},{audio:[]}))}})})]}),(0,D.jsxs)("div",{className:"input-box",children:[re.includes("paste")?(0,D.jsx)(ie,{ref:Ae,autoSize:{minRows:$.minRows,maxRows:$.maxRows},onKeyDown:Ze,onChange:we,value:fe.content,size:"large",variant:"borderless",onFocus:function(){return ce(!0)},onBlur:function(){return ce(!1)},onPaste:function(e){e.clipboardData.getData("text")||(e.preventDefault(),Ce(e))}}):(0,D.jsx)(ie,{ref:Ae,autoSize:{minRows:$.minRows,maxRows:$.maxRows},onKeyDown:Ze,onChange:we,value:fe.content,size:"large",variant:"borderless",onFocus:function(){return ce(!0)},onBlur:function(){return ce(!1)}}),!fe.content&&!se&&(0,D.jsx)("span",{className:"holder",dangerouslySetInnerHTML:{__html:null!=W?W:ae.formatMessage({id:"playground.input.holder"})}})]})]})})),Y=T},62988:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(26068),i=t.n(r),a=t(91691),o=t(27441),l=t(77634),s=t(32699),c=t.n(s),u=t(75271),d=t(52676),f=function(e){e.layout;var n=e.column,t=void 0===n?2:n,r=e.dataList,s=e.editable,f=e.responseable,p=e.gutter,h=e.onDelete,m=e.onClick,g=e.autoBgColor,v=e.autoSize,x=e.style,A=(0,u.useCallback)((function(e){null==h||h(e)}),[h]),y=(0,u.useCallback)((function(e){null==m||m(e)}),[m]),b=(0,u.useMemo)((function(){return f?1===r.length?{0:{justifyContent:"center",alignItems:"center"}}:2===r.length?{0:{justifyContent:"flex-end",alignItems:"center"},1:{justifyContent:"flex-start",alignItems:"center"}}:3===r.length?{0:{justifyContent:"flex-end",alignItems:"flex-end"},1:{justifyContent:"flex-start",alignItems:"flex-end"},2:{justifyContent:"flex-end",alignItems:"flex-start"}}:{0:{justifyContent:"flex-end",alignItems:"flex-end"},1:{justifyContent:"flex-start",alignItems:"flex-end"},2:{justifyContent:"flex-end",alignItems:"flex-start"},3:{justifyContent:"flex-start",alignItems:"flex-start"}}:{}}),[r.length,f,t]);return(0,d.jsx)(d.Fragment,{children:null!=r&&r.length?(0,d.jsx)("div",{className:"thumb-list-wrap",style:i()({},x),children:f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Z,{gutter:p||[],className:"flex-center",style:{height:r.length>t?"50%":"100%",flex:"none",width:"100%",justifyContent:1===r.length?"center":"flex-start"},children:c().map(c().slice(r,0,t),(function(e,n){return(0,d.jsx)(l.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:(0,d.jsx)(a.Z,i()(i()({},e),{},{preview:e.preview,style:i()({},b[n]||{}),loading:e.loading,autoSize:v,editable:s,autoBgColor:g,onDelete:A,onClick:function(){return y(e)}}))},"1-".concat(n))}))}),r.length>t&&(0,d.jsx)(o.Z,{gutter:p||[],style:{height:"50%",flex:"none",width:"100%",justifyContent:1===r.length?"center":"flex-start"},className:"flex-center",children:c().map(c().slice(r,2),(function(e,n){return(0,d.jsx)(l.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:(0,d.jsx)(a.Z,i()(i()({},e),{},{preview:e.preview,style:i()({},b[n+2]||{}),loading:e.loading,autoSize:v,editable:s,autoBgColor:g,onDelete:A,onClick:function(){return y(e)}}))},"2-".concat(n))}))})]}):(0,d.jsx)(d.Fragment,{children:c().map(r,(function(e){return(0,u.createElement)(a.Z,i()(i()({},e),{},{preview:e.preview,key:e.uid,autoSize:v,editable:s,autoBgColor:g,onDelete:A,onClick:function(){return y(e)}}))}))})}):null})}},65459:function(e,n,t){var r=t(90228),i=t.n(r),a=t(87999),o=t.n(a),l=t(74363),s=t(53231),c=t(44868),u=t(25408),d=t(79635),f=t(32699),p=t(75271),h=t(52676),m=["image/png","image/jpg","image/jpeg"];n.Z=function(e){var n=e.handleUpdateImgList,t=e.multiple,r=void 0===t||t,a=e.drag,g=void 0!==a&&a,v=e.disabled,x=void 0!==v&&v,A=e.children,y=e.icon,b=e.title,j=e.accept,w=void 0===j?m.join(","):j,E=e.size,k=void 0===E?"small":E,C=(0,s.useIntl)(),Q=(0,p.useRef)(null),Z=(0,p.useCallback)((function(e){return new Promise((function(n){var t=new Image;t.onload=function(){n({rawWidth:(0,f.round)(t.width,0),rawHeight:(0,f.round)(t.height,0)})},t.onerror=function(){n({rawWidth:0,rawHeight:0})},t.src=e}))}),[]),I=(0,p.useCallback)((function(e){return new Promise((function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return n(r.result)},r.onerror=function(e){return t(e)}}))}),[]),B=(0,p.useCallback)((0,f.debounce)((function(e){n(e)}),300),[n,C]),R=(0,p.useCallback)(function(){var e=o()(i()().mark((function e(n){var t,r,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.fileList,e.next=3,Promise.all(t.map(function(){var e=o()(i()().mark((function e(n){var t,r,a,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.originFileObj||n.url){e.next=12;break}return e.next=3,I(n.originFileObj);case 3:return t=e.sent,e.next=6,Z(t);case 6:r=e.sent,a=r.rawWidth,o=r.rawHeight,n.url=t,n.rawWidth=a,n.rawHeight=o;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:(r=e.sent).length>0&&(a=r.filter((function(e){return e.url})).map((function(e){return{dataUrl:e.url,uid:e.uid,rawWidth:e.rawWidth,rawHeight:e.rawHeight}})),B(a));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[B,I]);return(0,h.jsx)(h.Fragment,{children:g?(0,h.jsx)(c.Z.Dragger,{ref:Q,accept:w,multiple:r,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:R,children:null!=A?A:(0,h.jsx)(u.Z,{title:null!=b?b:C.formatMessage({id:"playground.img.upload"}),children:(0,h.jsx)(d.ZP,{disabled:x,size:k,type:"text",icon:null!=y?y:(0,h.jsx)(l.Z,{})})})}):(0,h.jsx)(c.Z,{ref:Q,accept:w,multiple:r,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:R,children:null!=A?A:(0,h.jsx)(u.Z,{title:null!=b?b:C.formatMessage({id:"playground.img.upload"}),children:(0,h.jsx)(d.ZP,{disabled:x,size:k,type:"text",icon:null!=y?y:(0,h.jsx)(l.Z,{})})})})})}},2507:function(e,n,t){var r,i=t(90228),a=t.n(i),o=t(87999),l=t.n(o),s=t(48305),c=t.n(s),u=t(53649),d=t.n(u),f=t(91780),p=t(38913),h=t(98868),m=t(23455),g=t(74363),v=t(53231),x=t(25408),A=t(97014),y=t(79635),b=t(75271),j=t(67585),w=t(65459),E=t(52676),k=j.ZP.div(r||(r=d()(["\n  position: relative;\n  .del-btn {\n    display: none;\n    position: absolute;\n    right: 8px;\n    top: 50%;\n    transform: translateY(-50%);\n    background: var(--ant-color-bg-container);\n  }\n  &:hover {\n    .del-btn {\n      display: flex;\n    }\n  }\n"])));n.Z=function(e){var n=e.handleUpdateImgList,t=e.updateUidCount,r=e.size,i=void 0===r?"middle":r,o=(0,v.useIntl)(),s=(0,b.useState)(!1),u=c()(s,2),d=u[0],j=u[1],C=(0,b.useState)(!1),Q=c()(C,2),Z=Q[0],I=Q[1],B=(0,b.useRef)(null),R=function(){var e=l()(a()().mark((function e(r){var i,o;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=null===(i=r.target.value)||void 0===i?void 0:i.trim())?(n([{uid:t(),dataUrl:o}]),I(!1),j(!1)):I(!0),o||requestAnimationFrame((function(){setTimeout((function(){I(!1)}),3e3)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=function(){j(!1),I(!1)};return{isFromUrl:d,ImageURLInput:d?(0,E.jsx)(x.Z,{open:Z,title:o.formatMessage({id:"playground.uploadImage.url.invalid"}),children:(0,E.jsxs)(k,{children:[(0,E.jsx)(A.Z,{ref:B,status:Z?"error":"",placeholder:o.formatMessage({id:"playground.uploadImage.url.holder"}),style:{width:360,height:32},onBlur:R,onPressEnter:R,onKeyDown:function(e){"Escape"===e.key&&N()}}),(0,E.jsx)("div",{className:"del-btn",children:(0,E.jsx)(y.ZP,{onClick:N,icon:(0,E.jsx)(p.Z,{}),size:"small",type:"text"})})]})}):null,UploadImageButton:(0,E.jsx)(f.Z,{placement:"topLeft",menu:{items:[{label:(0,E.jsxs)(w.Z,{handleUpdateImgList:n,size:"middle",children:[(0,E.jsx)(h.Z,{className:"m-r-8"}),o.formatMessage({id:"playground.img.upload"})]}),key:"upload_image"},{label:o.formatMessage({id:"playground.uploadImage.url.button"}),key:"add_image_url",icon:(0,E.jsx)(m.Z,{}),onClick:function(){j(!0),setTimeout((function(){var e,n;null===(e=B.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)}),100)}}]},children:(0,E.jsx)(y.ZP,{type:"text",size:i,icon:(0,E.jsx)(g.Z,{})})})}}},71891:function(e,n,t){t.d(n,{a5:function(){return h},jH:function(){return d},lH:function(){return f}});var r=t(26068),i=t.n(r),a=t(90228),o=t.n(a),l=t(87999),s=t.n(l),c=t(35421),u=t(48075),d={"audio/wav":"wav","audio/mp3":"mp3","audio/mpeg":"mp3","audio/x-wav":"wav"},f=function(e){return new Promise((function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return n(r.result)},r.onerror=function(e){return t(e)}}))},p=function(){var e=s()(o()().mark((function e(n,t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=new Blob([n],{type:t}),a=(0,u.hy)(i.size),o=document.createElement("audio"),l=URL.createObjectURL(i);o.src=l,o.addEventListener("loadedmetadata",(function(){var n=o.duration;e({data:i,size:a,type:t,duration:Math.ceil(n),url:l})})),o.addEventListener("ended",(function(){URL.revokeObjectURL(o.src)})),o.addEventListener("error",(function(){URL.revokeObjectURL(l),c.ZP.error("Failed to load audio metadata invalid file"),r(new Error("Failed to load audio metadata invalid file"))}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),h=function(){var e=s()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onload=function(){var r=s()(o()().mark((function r(a){var l,s;return o()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l=a.target.result,r.next=4,p(l,n.type);case 4:s=r.sent,e(i()(i()({},s||{}),{},{name:n.name})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),t(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}(),r.onerror=function(e){return t(e)},r.readAsArrayBuffer(n)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},60669:function(){}}]);