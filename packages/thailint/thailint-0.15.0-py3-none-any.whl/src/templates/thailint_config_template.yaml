# thai-lint Configuration File
# Generated by: thailint init-config
#
# For non-interactive mode (AI agents): thailint init-config --non-interactive
#
# Full documentation: https://github.com/your-org/thai-lint

# ============================================================================
# MAGIC NUMBERS LINTER
# ============================================================================
# Detects unnamed numeric literals that should be extracted as constants
#
# Preset: {{PRESET}}
#
magic-numbers:
  enabled: true

  # Numbers that are acceptable without being named constants
  # Default: [-1, 0, 1, 2, 3, 4, 5, 10, 100, 1000]
  allowed_numbers: {{ALLOWED_NUMBERS}}

  # Maximum integer allowed in range() or enumerate() without flagging
  # Default: 10
  max_small_integer: {{MAX_SMALL_INTEGER}}

  # -------------------------------------------------------------------------
  # OPTIONAL: Uncomment to add time conversions (lenient mode)
  # -------------------------------------------------------------------------
  # allowed_numbers: [-1, 0, 1, 2, 3, 4, 5, 10, 60, 100, 1000, 3600]

  # -------------------------------------------------------------------------
  # OPTIONAL: Uncomment to add common HTTP status codes
  # -------------------------------------------------------------------------
  # allowed_numbers: [-1, 0, 1, 2, 3, 4, 5, 10, 100, 200, 201, 204, 400, 401, 403, 404, 500, 502, 503, 1000]

  # -------------------------------------------------------------------------
  # OPTIONAL: Uncomment to add decimal proportions (0.0-1.0)
  # -------------------------------------------------------------------------
  # allowed_numbers: [-1, 0, 1, 2, 3, 4, 5, 10, 100, 1000, 0.0, 0.1, 0.2, 0.25, 0.3, 0.4, 0.5, 0.6, 0.7, 0.75, 0.8, 0.9, 1.0]

# ============================================================================
# NESTING LINTER
# ============================================================================
# Checks for excessive nesting depth (if/for/while/try statements)
#
nesting:
  enabled: true

  # Maximum nesting depth allowed
  # Default: 4
  max_nesting_depth: 4

# ============================================================================
# SINGLE RESPONSIBILITY PRINCIPLE (SRP) LINTER
# ============================================================================
# Detects classes that may have too many responsibilities
#
srp:
  enabled: true

  # Maximum methods per class
  # Default: 7
  max_methods: 7

  # Maximum lines of code per class
  # Default: 200
  max_loc: 200

# ============================================================================
# DRY (DON'T REPEAT YOURSELF) LINTER
# ============================================================================
# Detects duplicate code blocks
#
dry:
  enabled: true

  # Minimum lines for a block to be considered duplicate
  # Default: 6
  min_duplicate_lines: 6

  # Enable SQLite caching for faster incremental scans
  # Default: true
  cache_enabled: true

  # Cache file location (relative to project root)
  # Default: .thailint-cache/dry.db
  cache_path: .thailint-cache/dry.db

# ============================================================================
# FILE PLACEMENT LINTER
# ============================================================================
# Ensures files are in appropriate directories
#
file-placement:
  enabled: true

  # Rules for file placement
  rules:
    # Test files should be in tests/ directory
    - pattern: "test_*.py"
      required_dir: "tests/"
      message: "Test files must be in tests/ directory"

    # Config files should be in config/ or root
    - pattern: "*config*.py"
      required_dir: ["config/", "./"]
      message: "Config files should be in config/ or project root"

# ============================================================================
# PRINT STATEMENTS LINTER
# ============================================================================
# Detects print()/console.* statements that should use proper logging
#
print-statements:
  enabled: true

  # Allow print() in if __name__ == "__main__": blocks (Python only)
  # Default: true
  allow_in_scripts: true

  # Console methods to detect in TypeScript/JavaScript
  # Default: [log, warn, error, debug, info]
  console_methods:
    - log
    - warn
    - error
    - debug
    - info

  # File patterns to ignore (glob syntax)
  # ignore:
  #   - "scripts/**"
  #   - "**/debug.py"

# ============================================================================
# STRINGLY-TYPED LINTER
# ============================================================================
# Detects "stringly typed" code patterns where strings are used instead of
# proper enums - e.g., if env == "production": ... repeated across files
#
stringly-typed:
  enabled: true

  # Minimum occurrences across files to flag a violation
  # Default: 2
  min_occurrences: 2

  # Minimum unique string values to suggest creating an enum
  # Default: 2
  min_values_for_enum: 2

  # Maximum unique string values to suggest an enum (above this, probably not enum-worthy)
  # Default: 6
  max_values_for_enum: 6

  # Whether to require cross-file occurrences to flag violations
  # Default: true
  require_cross_file: true

  # -------------------------------------------------------------------------
  # OPTIONAL: String value sets that are acceptable (won't be flagged)
  # -------------------------------------------------------------------------
  # allowed_string_sets:
  #   - ["debug", "info", "warning", "error"]  # Log levels
  #   - ["ASC", "DESC"]                         # Sort directions

  # -------------------------------------------------------------------------
  # OPTIONAL: Variable names to exclude from analysis
  # -------------------------------------------------------------------------
  # exclude_variables:
  #   - log_level
  #   - severity

# ============================================================================
# FILE HEADER LINTER
# ============================================================================
# Validates that files have proper documentation headers
#
file-header:
  enabled: true

  # Enforce atemporal language (no "currently", "now", dates)
  # Default: true
  enforce_atemporal: true

  # -------------------------------------------------------------------------
  # OPTIONAL: Override required fields by language
  # -------------------------------------------------------------------------
  # required_fields:
  #   python: [Purpose, Scope, Overview, Dependencies, Exports, Interfaces, Implementation]
  #   typescript: [Purpose, Scope, Overview, Dependencies, Exports, Props/Interfaces, State/Behavior]
  #   bash: [Purpose, Scope, Overview, Dependencies, Exports, Usage, Environment]
  #   markdown: [purpose, scope, overview, audience, status]
  #   css: [Purpose, Scope, Overview, Dependencies, Exports, Interfaces, Environment]

  # -------------------------------------------------------------------------
  # OPTIONAL: File patterns to ignore
  # -------------------------------------------------------------------------
  # ignore:
  #   - "test/**"
  #   - "**/migrations/**"
  #   - "**/__init__.py"

# ============================================================================
# METHOD PROPERTY LINTER
# ============================================================================
# Detects methods that should be @property (no args, simple return)
#
method-property:
  enabled: true

  # Maximum statements in method body to suggest @property
  # Default: 3
  max_body_statements: 3

  # -------------------------------------------------------------------------
  # OPTIONAL: Methods to ignore (exact names)
  # -------------------------------------------------------------------------
  # ignore_methods:
  #   - "__str__"
  #   - "__repr__"

  # -------------------------------------------------------------------------
  # OPTIONAL: Additional action verb prefixes to exclude
  # -------------------------------------------------------------------------
  # exclude_prefixes:
  #   - "fetch_"
  #   - "load_"

  # -------------------------------------------------------------------------
  # OPTIONAL: File patterns to ignore
  # -------------------------------------------------------------------------
  # ignore:
  #   - "tests/**"

# ============================================================================
# STATELESS CLASS LINTER
# ============================================================================
# Detects classes with no instance state (should be modules or functions)
#
stateless-class:
  enabled: true

  # Minimum methods to flag a stateless class
  # Default: 2
  min_methods: 2

  # -------------------------------------------------------------------------
  # OPTIONAL: File patterns to ignore
  # -------------------------------------------------------------------------
  # ignore:
  #   - "tests/**"

# ============================================================================
# COLLECTION PIPELINE LINTER
# ============================================================================
# Detects "embedded loop filtering" anti-pattern (if/continue in loops)
# Suggests using filter(), list comprehensions, or generator expressions
#
pipeline:
  enabled: true

  # Minimum if/continue patterns in a loop to flag
  # Default: 1
  min_continues: 1

  # -------------------------------------------------------------------------
  # OPTIONAL: File patterns to ignore
  # -------------------------------------------------------------------------
  # ignore:
  #   - "tests/**"

# ============================================================================
# LAZY IGNORES LINTER
# ============================================================================
# Detects unjustified linting suppressions (noqa, type: ignore, etc.)
# without proper documentation in file headers
#
lazy-ignores:
  enabled: true

  # Pattern-specific toggles
  check_noqa: true
  check_type_ignore: true
  check_pylint_disable: true
  check_nosec: true
  check_ts_ignore: true
  check_eslint_disable: true
  check_thailint_ignore: true
  check_test_skips: true

  # Check for orphaned suppressions (documented but not used)
  check_orphaned: true

  # -------------------------------------------------------------------------
  # OPTIONAL: File patterns to ignore
  # -------------------------------------------------------------------------
  # ignore_patterns:
  #   - "tests/**"

# ============================================================================
# PERFORMANCE LINTER
# ============================================================================
# Detects performance anti-patterns in loops that cause O(n²) behavior
#
performance:
  enabled: true

  # String concatenation in loops (O(n²) pattern)
  # Detects: result += str in for/while loops
  # Suggests: Use "".join() or list append + join
  string-concat-loop:
    enabled: true
    # Report each += separately, or one violation per loop
    # Default: false (one per loop)
    report_each_concat: false

  # Regex compilation in loops
  # Detects: re.match(), re.search(), re.sub() etc. in loops
  # Suggests: Use re.compile() outside loop
  regex-in-loop:
    enabled: true

  # -------------------------------------------------------------------------
  # OPTIONAL: File patterns to ignore
  # -------------------------------------------------------------------------
  # ignore:
  #   - "tests/**"
  #   - "scripts/**"

# ============================================================================
# GLOBAL SETTINGS
# ============================================================================
#
# Exclude patterns (files/directories to ignore)
exclude:
  - ".git/"
  - ".venv/"
  - "venv/"
  - "node_modules/"
  - "__pycache__/"
  - "*.pyc"
  - ".pytest_cache/"
  - "dist/"
  - "build/"
  - ".eggs/"

# Output format (text or json)
# Default: text
output_format: text

# Exit with error code if violations found
# Default: true
fail_on_violations: true
