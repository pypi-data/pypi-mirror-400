import{a7 as v,j as De,S as Et,a as St,a8 as Ct,a9 as Ot,aa as Rt}from"./index-vC1txwfN.js";var he=e=>e.type==="checkbox",ne=e=>e instanceof Date,z=e=>e==null;const ut=e=>typeof e=="object";var L=e=>!z(e)&&!Array.isArray(e)&&ut(e)&&!ne(e),lt=e=>L(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,pt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ot=(e,s)=>e.has(pt(s)),Lt=e=>{const s=e.constructor&&e.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Re=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function R(e){if(e instanceof Date)return new Date(e);const s=typeof FileList<"u"&&e instanceof FileList;if(Re&&(e instanceof Blob||s))return e;const t=Array.isArray(e);if(!t&&!(L(e)&&Lt(e)))return e;const i=t?[]:Object.create(Object.getPrototypeOf(e));for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=R(e[l]));return i}var Ve=e=>/^\w*$/.test(e),C=e=>e===void 0,pe=e=>Array.isArray(e)?e.filter(Boolean):[],Le=e=>pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!L(e))return t;const i=(Ve(s)?[s]:Le(s)).reduce((l,n)=>z(l)?l:l[n],e);return C(i)||i===e?C(e[s])?t:e[s]:i},K=e=>typeof e=="boolean",j=e=>typeof e=="function",S=(e,s,t)=>{let i=-1;const l=Ve(s)?[s]:Le(s),n=l.length,d=n-1;for(;++i<n;){const c=l[i];let k=t;if(i!==d){const O=e[c];k=L(O)||Array.isArray(O)?O:isNaN(+l[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=k,e=e[c]}};const be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},X={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Te=v.createContext(null);Te.displayName="HookFormContext";const Ue=()=>v.useContext(Te),tr=e=>{const{children:s,...t}=e;return v.createElement(Te.Provider,{value:t},s)};var dt=(e,s,t,i=!0)=>{const l={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const d=n;return s._proxyFormState[d]!==X.all&&(s._proxyFormState[d]=!i||X.all),t&&(t[d]=!0),e[d]}});return l};const Me=typeof window<"u"?v.useLayoutEffect:v.useEffect;function Tt(e){const s=Ue(),{control:t=s.control,disabled:i,name:l,exact:n}=e||{},[d,c]=v.useState(t._formState),k=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Me(()=>t._subscribe({name:l,formState:k.current,exact:n,callback:O=>{!i&&c({...t._formState,...O})}}),[l,i,n]),v.useEffect(()=>{k.current.isValid&&t._setValid(!0)},[t]),v.useMemo(()=>dt(d,t,k.current,!1),[d,t])}var G=e=>typeof e=="string",Se=(e,s,t,i,l)=>G(e)?(i&&s.watch.add(e),y(t,e,l)):Array.isArray(e)?e.map(n=>(i&&s.watch.add(n),y(t,n))):(i&&(s.watchAll=!0),t),Ce=e=>z(e)||!ut(e);function Z(e,s,t=new WeakSet){if(Ce(e)||Ce(s))return Object.is(e,s);if(ne(e)&&ne(s))return Object.is(e.getTime(),s.getTime());const i=Object.keys(e),l=Object.keys(s);if(i.length!==l.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const n of i){const d=e[n];if(!l.includes(n))return!1;if(n!=="ref"){const c=s[n];if(ne(d)&&ne(c)||L(d)&&L(c)||Array.isArray(d)&&Array.isArray(c)?!Z(d,c,t):!Object.is(d,c))return!1}}return!0}function Ut(e){const s=Ue(),{control:t=s.control,name:i,defaultValue:l,disabled:n,exact:d,compute:c}=e||{},k=v.useRef(l),O=v.useRef(c),Y=v.useRef(void 0),b=v.useRef(t),w=v.useRef(i);O.current=c;const[_,B]=v.useState(()=>{const V=t._getWatch(i,k.current);return O.current?O.current(V):V}),T=v.useCallback(V=>{const x=Se(i,t._names,V||t._formValues,!1,k.current);return O.current?O.current(x):x},[t._formValues,t._names,i]),N=v.useCallback(V=>{if(!n){const x=Se(i,t._names,V||t._formValues,!1,k.current);if(O.current){const H=O.current(x);Z(H,Y.current)||(B(H),Y.current=H)}else B(x)}},[t._formValues,t._names,n,i]);Me(()=>((b.current!==t||!Z(w.current,i))&&(b.current=t,w.current=i,N()),t._subscribe({name:i,formState:{values:!0},exact:d,callback:V=>{N(V.values)}})),[t,d,i,N]),v.useEffect(()=>t._removeUnmounted());const U=b.current!==t,m=w.current,P=v.useMemo(()=>{if(n)return null;const V=!U&&!Z(m,i);return U||V?T():null},[n,U,i,m,T]);return P!==null?P:_}function Mt(e){const s=Ue(),{name:t,disabled:i,control:l=s.control,shouldUnregister:n,defaultValue:d,exact:c=!0}=e,k=ot(l._names.array,t),O=v.useMemo(()=>y(l._formValues,t,y(l._defaultValues,t,d)),[l,t,d]),Y=Ut({control:l,name:t,defaultValue:O,exact:c}),b=Tt({control:l,name:t,exact:c}),w=v.useRef(e),_=v.useRef(void 0),B=v.useRef(l.register(t,{...e.rules,value:Y,...K(e.disabled)?{disabled:e.disabled}:{}}));w.current=e;const T=v.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(b.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(b.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(b.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(b.validatingFields,t)},error:{enumerable:!0,get:()=>y(b.errors,t)}}),[b,t]),N=v.useCallback(V=>B.current.onChange({target:{value:lt(V),name:t},type:be.CHANGE}),[t]),U=v.useCallback(()=>B.current.onBlur({target:{value:y(l._formValues,t),name:t},type:be.BLUR}),[t,l._formValues]),m=v.useCallback(V=>{const x=y(l._fields,t);x&&x._f&&V&&(x._f.ref={focus:()=>j(V.focus)&&V.focus(),select:()=>j(V.select)&&V.select(),setCustomValidity:H=>j(V.setCustomValidity)&&V.setCustomValidity(H),reportValidity:()=>j(V.reportValidity)&&V.reportValidity()})},[l._fields,t]),P=v.useMemo(()=>({name:t,value:Y,...K(i)||b.disabled?{disabled:b.disabled||i}:{},onChange:N,onBlur:U,ref:m}),[t,i,b.disabled,N,U,m,Y]);return v.useEffect(()=>{const V=l._options.shouldUnregister||n,x=_.current;x&&x!==t&&!k&&l.unregister(x),l.register(t,{...w.current.rules,...K(w.current.disabled)?{disabled:w.current.disabled}:{}});const H=(te,re)=>{const ee=y(l._fields,te);ee&&ee._f&&(ee._f.mount=re)};if(H(t,!0),V){const te=R(y(l._options.defaultValues,t,w.current.defaultValue));S(l._defaultValues,t,te),C(y(l._formValues,t))&&S(l._formValues,t,te)}return!k&&l.register(t),_.current=t,()=>{(k?V&&!l._state.action:V)?l.unregister(t):H(t,!1)}},[t,l,k,n]),v.useEffect(()=>{l._setDisabledField({disabled:i,name:t})},[i,t,l]),v.useMemo(()=>({field:P,formState:b,fieldState:T}),[P,b,T])}const rr=e=>e.render(Mt(e));var Nt=(e,s,t,i,l)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:l||!0}}:{},ye=e=>Array.isArray(e)?e:[e],Je=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}};function ct(e,s){const t={};for(const i in e)if(e.hasOwnProperty(i)){const l=e[i],n=s[i];if(l&&L(l)&&n){const d=ct(l,n);L(d)&&(t[i]=d)}else e[i]&&(t[i]=n)}return t}var q=e=>L(e)&&!Object.keys(e).length,Ne=e=>e.type==="file",_e=e=>{if(!Re)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ft=e=>e.type==="select-multiple",Ie=e=>e.type==="radio",It=e=>Ie(e)||he(e),Ee=e=>_e(e)&&e.isConnected;function Bt(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=C(e)?i++:e[s[i++]];return e}function Pt(e){for(const s in e)if(e.hasOwnProperty(s)&&!C(e[s]))return!1;return!0}function p(e,s){const t=Array.isArray(s)?s:Ve(s)?[s]:Le(s),i=t.length===1?e:Bt(e,t),l=t.length-1,n=t[l];return i&&delete i[n],l!==0&&(L(i)&&q(i)||Array.isArray(i)&&Pt(i))&&p(e,t.slice(0,-1)),e}var Wt=e=>{for(const s in e)if(j(e[s]))return!0;return!1};function yt(e){return Array.isArray(e)||L(e)&&!Wt(e)}function Oe(e,s={}){for(const t in e){const i=e[t];yt(i)?(s[t]=Array.isArray(i)?[]:{},Oe(i,s[t])):C(i)||(s[t]=!0)}return s}function le(e,s,t){t||(t=Oe(s));for(const i in e){const l=e[i];if(yt(l))C(s)||Ce(t[i])?t[i]=Oe(l,Array.isArray(l)?[]:{}):le(l,z(s)?{}:s[i],t[i]);else{const n=s[i];t[i]=!Z(l,n)}}return t}const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe},ht=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>C(e)?e:s?e===""?NaN:e&&+e:t&&G(e)?new Date(e):i?i(e):e;const Ze={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Ze):Ze;function et(e){const s=e.ref;return Ne(s)?s.files:Ie(s)?vt(e.refs).value:ft(s)?[...s.selectedOptions].map(({value:t})=>t):he(s)?gt(e.refs).value:ht(C(s.value)?e.ref.value:s.value,e)}var qt=(e,s,t,i)=>{const l={};for(const n of e){const d=y(s,n);d&&S(l,n,d._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},me=e=>e instanceof RegExp,fe=e=>C(e)?e:me(e)?e.source:L(e)?me(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===X.onSubmit,isOnBlur:e===X.onBlur,isOnChange:e===X.onChange,isOnAll:e===X.all,isOnTouch:e===X.onTouched});const rt="AsyncFunction";var jt=e=>!!e&&!!e.validate&&!!(j(e.validate)&&e.validate.constructor.name===rt||L(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===rt)),Ht=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ge=(e,s,t,i)=>{for(const l of t||Object.keys(e)){const n=y(e,l);if(n){const{_f:d,...c}=n;if(d){if(d.refs&&d.refs[0]&&s(d.refs[0],l)&&!i)return!0;if(d.ref&&s(d.ref,d.name)&&!i)return!0;if(ge(c,s))break}else if(L(c)&&ge(c,s))break}}};function it(e,s,t){const i=y(e,t);if(i||Ve(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const n=l.join("."),d=y(s,n),c=y(e,n);if(d&&!Array.isArray(d)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};l.pop()}return{name:t}}var zt=(e,s,t,i)=>{t(e);const{name:l,...n}=e;return q(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(d=>s[d]===(!i||X.all))},$t=(e,s,t)=>!e||!s||e===s||ye(e).some(i=>i&&(t?i===s:i.startsWith(s)||s.startsWith(i))),Kt=(e,s,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(s||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,Gt=(e,s)=>!pe(y(e,s)).length&&p(e,s),Yt=(e,s,t)=>{const i=ye(y(e,t));return S(i,"root",s[t]),S(e,t,i),e};function at(e,s,t="validate"){if(G(e)||Array.isArray(e)&&e.every(G)||K(e)&&!e)return{type:t,message:G(e)?e:"",ref:s}}var ue=e=>L(e)&&!me(e)?e:{value:e,message:""},nt=async(e,s,t,i,l,n)=>{const{ref:d,refs:c,required:k,maxLength:O,minLength:Y,min:b,max:w,pattern:_,validate:B,name:T,valueAsNumber:N,mount:U}=e._f,m=y(t,T);if(!U||s.has(T))return{};const P=c?c[0]:d,V=F=>{l&&P.reportValidity&&(P.setCustomValidity(K(F)?"":F||""),P.reportValidity())},x={},H=Ie(d),te=he(d),re=H||te,ee=(N||Ne(d))&&C(d.value)&&C(m)||_e(d)&&d.value===""||m===""||Array.isArray(m)&&!m.length,J=Nt.bind(null,T,i,x),ve=(F,A,M,I=se.maxLength,Q=se.minLength)=>{const $=F?A:M;x[T]={type:F?I:Q,message:$,ref:d,...J(F?I:Q,$)}};if(n?!Array.isArray(m)||!m.length:k&&(!re&&(ee||z(m))||K(m)&&!m||te&&!gt(c).isValid||H&&!vt(c).isValid)){const{value:F,message:A}=G(k)?{value:!!k,message:k}:ue(k);if(F&&(x[T]={type:se.required,message:A,ref:P,...J(se.required,A)},!i))return V(A),x}if(!ee&&(!z(b)||!z(w))){let F,A;const M=ue(w),I=ue(b);if(!z(m)&&!isNaN(m)){const Q=d.valueAsNumber||m&&+m;z(M.value)||(F=Q>M.value),z(I.value)||(A=Q<I.value)}else{const Q=d.valueAsDate||new Date(m),$=ce=>new Date(new Date().toDateString()+" "+ce),oe=d.type=="time",de=d.type=="week";G(M.value)&&m&&(F=oe?$(m)>$(M.value):de?m>M.value:Q>new Date(M.value)),G(I.value)&&m&&(A=oe?$(m)<$(I.value):de?m<I.value:Q<new Date(I.value))}if((F||A)&&(ve(!!F,M.message,I.message,se.max,se.min),!i))return V(x[T].message),x}if((O||Y)&&!ee&&(G(m)||n&&Array.isArray(m))){const F=ue(O),A=ue(Y),M=!z(F.value)&&m.length>+F.value,I=!z(A.value)&&m.length<+A.value;if((M||I)&&(ve(M,F.message,A.message),!i))return V(x[T].message),x}if(_&&!ee&&G(m)){const{value:F,message:A}=ue(_);if(me(F)&&!m.match(F)&&(x[T]={type:se.pattern,message:A,ref:d,...J(se.pattern,A)},!i))return V(A),x}if(B){if(j(B)){const F=await B(m,t),A=at(F,P);if(A&&(x[T]={...A,...J(se.validate,A.message)},!i))return V(A.message),x}else if(L(B)){let F={};for(const A in B){if(!q(F)&&!i)break;const M=at(await B[A](m,t),P,A);M&&(F={...M,...J(A,M.message)},V(M.message),i&&(x[T]=F))}if(!q(F)&&(x[T]={ref:P,...F},!i))return x}}return V(!0),x};const Jt={mode:X.onSubmit,reValidateMode:X.onChange,shouldFocusError:!0};function Qt(e={}){let s={...Jt,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:j(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},l=L(s.defaultValues)||L(s.values)?R(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:R(l),d={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},k,O=0;const Y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={...Y};let w={...b};const _={array:Je(),state:Je()},B=s.criteriaMode===X.all,T=r=>a=>{clearTimeout(O),O=setTimeout(r,a)},N=async r=>{if(!d.keepIsValid&&!s.disabled&&(b.isValid||w.isValid||r)){let a;s.resolver?(a=q((await re()).errors),U()):a=await J(i,!0),a!==t.isValid&&_.state.next({isValid:a})}},U=(r,a)=>{!s.disabled&&(b.isValidating||b.validatingFields||w.isValidating||w.validatingFields)&&((r||Array.from(c.mount)).forEach(u=>{u&&(a?S(t.validatingFields,u,a):p(t.validatingFields,u))}),_.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},m=(r,a=[],u,g,f=!0,o=!0)=>{if(g&&u&&!s.disabled){if(d.action=!0,o&&Array.isArray(y(i,r))){const h=u(y(i,r),g.argA,g.argB);f&&S(i,r,h)}if(o&&Array.isArray(y(t.errors,r))){const h=u(y(t.errors,r),g.argA,g.argB);f&&S(t.errors,r,h),Gt(t.errors,r)}if((b.touchedFields||w.touchedFields)&&o&&Array.isArray(y(t.touchedFields,r))){const h=u(y(t.touchedFields,r),g.argA,g.argB);f&&S(t.touchedFields,r,h)}(b.dirtyFields||w.dirtyFields)&&(t.dirtyFields=le(l,n)),_.state.next({name:r,isDirty:F(r,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(n,r,a)},P=(r,a)=>{S(t.errors,r,a),_.state.next({errors:t.errors})},V=r=>{t.errors=r,_.state.next({errors:t.errors,isValid:!1})},x=(r,a,u,g)=>{const f=y(i,r);if(f){const o=y(n,r,C(u)?y(l,r):u);C(o)||g&&g.defaultChecked||a?S(n,r,a?o:et(f._f)):I(r,o),d.mount&&!d.action&&N()}},H=(r,a,u,g,f)=>{let o=!1,h=!1;const D={name:r};if(!s.disabled){if(!u||g){(b.isDirty||w.isDirty)&&(h=t.isDirty,t.isDirty=D.isDirty=F(),o=h!==D.isDirty);const E=Z(y(l,r),a);h=!!y(t.dirtyFields,r),E?p(t.dirtyFields,r):S(t.dirtyFields,r,!0),D.dirtyFields=t.dirtyFields,o=o||(b.dirtyFields||w.dirtyFields)&&h!==!E}if(u){const E=y(t.touchedFields,r);E||(S(t.touchedFields,r,u),D.touchedFields=t.touchedFields,o=o||(b.touchedFields||w.touchedFields)&&E!==u)}o&&f&&_.state.next(D)}return o?D:{}},te=(r,a,u,g)=>{const f=y(t.errors,r),o=(b.isValid||w.isValid)&&K(a)&&t.isValid!==a;if(s.delayError&&u?(k=T(()=>P(r,u)),k(s.delayError)):(clearTimeout(O),k=null,u?S(t.errors,r,u):p(t.errors,r)),(u?!Z(f,u):f)||!q(g)||o){const h={...g,...o&&K(a)?{isValid:a}:{},errors:t.errors,name:r};t={...t,...h},_.state.next(h)}},re=async r=>(U(r,!0),await s.resolver(n,s.context,qt(r||c.mount,i,s.criteriaMode,s.shouldUseNativeValidation))),ee=async r=>{const{errors:a}=await re(r);if(U(r),r)for(const u of r){const g=y(a,u);g?S(t.errors,u,g):p(t.errors,u)}else t.errors=a;return a},J=async(r,a,u={valid:!0})=>{for(const g in r){const f=r[g];if(f){const{_f:o,...h}=f;if(o){const D=c.array.has(o.name),E=f._f&&jt(f._f);E&&b.validatingFields&&U([o.name],!0);const W=await nt(f,c.disabled,n,B,s.shouldUseNativeValidation&&!a,D);if(E&&b.validatingFields&&U([o.name]),W[o.name]&&(u.valid=!1,a||e.shouldUseNativeValidation))break;!a&&(y(W,o.name)?D?Yt(t.errors,W,o.name):S(t.errors,o.name,W[o.name]):p(t.errors,o.name))}!q(h)&&await J(h,a,u)}}return u.valid},ve=()=>{for(const r of c.unMount){const a=y(i,r);a&&(a._f.refs?a._f.refs.every(u=>!Ee(u)):!Ee(a._f.ref))&&Fe(r)}c.unMount=new Set},F=(r,a)=>!s.disabled&&(r&&a&&S(n,r,a),!Z(Be(),l)),A=(r,a,u)=>Se(r,c,{...d.mount?n:C(a)?l:G(r)?{[r]:a}:a},u,a),M=r=>pe(y(d.mount?n:l,r,s.shouldUnregister?y(l,r,[]):[])),I=(r,a,u={})=>{const g=y(i,r);let f=a;if(g){const o=g._f;o&&(!o.disabled&&S(n,r,ht(a,o)),f=_e(o.ref)&&z(a)?"":a,ft(o.ref)?[...o.ref.options].forEach(h=>h.selected=f.includes(h.value)):o.refs?he(o.ref)?o.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(f)?h.checked=!!f.find(D=>D===h.value):h.checked=f===h.value||!!f)}):o.refs.forEach(h=>h.checked=h.value===f):Ne(o.ref)?o.ref.value="":(o.ref.value=f,o.ref.type||_.state.next({name:r,values:R(n)})))}(u.shouldDirty||u.shouldTouch)&&H(r,f,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ce(r)},Q=(r,a,u)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const f=a[g],o=r+"."+g,h=y(i,o);(c.array.has(r)||L(f)||h&&!h._f)&&!ne(f)?Q(o,f,u):I(o,f,u)}},$=(r,a,u={})=>{const g=y(i,r),f=c.array.has(r),o=R(a);S(n,r,o),f?(_.array.next({name:r,values:R(n)}),(b.isDirty||b.dirtyFields||w.isDirty||w.dirtyFields)&&u.shouldDirty&&_.state.next({name:r,dirtyFields:le(l,n),isDirty:F(r,o)})):g&&!g._f&&!z(o)?Q(r,o,u):I(r,o,u),st(r,c)?_.state.next({...t,name:r,values:R(n)}):_.state.next({name:d.mount?r:void 0,values:R(n)})},oe=async r=>{d.mount=!0;const a=r.target;let u=a.name,g=!0;const f=y(i,u),o=E=>{g=Number.isNaN(E)||ne(E)&&isNaN(E.getTime())||Z(E,y(n,u,E))},h=tt(s.mode),D=tt(s.reValidateMode);if(f){let E,W;const ae=a.type?et(f._f):lt(r),ie=r.type===be.BLUR||r.type===be.FOCUS_OUT,kt=!Ht(f._f)&&!s.resolver&&!y(t.errors,u)&&!f._f.deps||Kt(ie,y(t.touchedFields,u),t.isSubmitted,D,h),ke=st(u,c,ie);S(n,u,ae),ie?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(r),k&&k(0)):f._f.onChange&&f._f.onChange(r);const we=H(u,ae,ie),wt=!q(we)||ke;if(!ie&&_.state.next({name:u,type:r.type,values:R(n)}),kt)return(b.isValid||w.isValid)&&(s.mode==="onBlur"?ie&&N():ie||N()),wt&&_.state.next({name:u,...ke?{}:we});if(!ie&&ke&&_.state.next({...t}),s.resolver){const{errors:Ge}=await re([u]);if(U([u]),o(ae),g){const Dt=it(t.errors,i,u),Ye=it(Ge,i,Dt.name||u);E=Ye.error,u=Ye.name,W=q(Ge)}}else U([u],!0),E=(await nt(f,c.disabled,n,B,s.shouldUseNativeValidation))[u],U([u]),o(ae),g&&(E?W=!1:(b.isValid||w.isValid)&&(W=await J(i,!0)));g&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&ce(f._f.deps),te(u,W,E,we))}},de=(r,a)=>{if(y(t.errors,a)&&r.focus)return r.focus(),1},ce=async(r,a={})=>{let u,g;const f=ye(r);if(s.resolver){const o=await ee(C(r)?r:f);u=q(o),g=r?!f.some(h=>y(o,h)):u}else r?(g=(await Promise.all(f.map(async o=>{const h=y(i,o);return await J(h&&h._f?{[o]:h}:h)}))).every(Boolean),!(!g&&!t.isValid)&&N()):g=u=await J(i);return _.state.next({...!G(r)||(b.isValid||w.isValid)&&u!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!g&&ge(i,de,r?f:c.mount),g},Be=(r,a)=>{let u={...d.mount?n:l};return a&&(u=ct(a.dirtyFields?t.dirtyFields:t.touchedFields,u)),C(r)?u:G(r)?y(u,r):r.map(g=>y(u,g))},Pe=(r,a)=>({invalid:!!y((a||t).errors,r),isDirty:!!y((a||t).dirtyFields,r),error:y((a||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((a||t).touchedFields,r)}),bt=r=>{r&&ye(r).forEach(a=>p(t.errors,a)),_.state.next({errors:r?t.errors:{}})},We=(r,a,u)=>{const g=(y(i,r,{_f:{}})._f||{}).ref,f=y(t.errors,r)||{},{ref:o,message:h,type:D,...E}=f;S(t.errors,r,{...E,...a,ref:g}),_.state.next({name:r,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&g&&g.focus&&g.focus()},_t=(r,a)=>j(r)?_.state.subscribe({next:u=>"values"in u&&r(A(void 0,a),u)}):A(r,a,!0),qe=r=>_.state.subscribe({next:a=>{$t(r.name,a.name,r.exact)&&zt(a,r.formState||b,At,r.reRenderRoot)&&r.callback({values:{...n},...t,...a,defaultValues:l})}}).unsubscribe,mt=r=>(d.mount=!0,w={...w,...r.formState},qe({...r,formState:{...Y,...r.formState}})),Fe=(r,a={})=>{for(const u of r?ye(r):c.mount)c.mount.delete(u),c.array.delete(u),a.keepValue||(p(i,u),p(n,u)),!a.keepError&&p(t.errors,u),!a.keepDirty&&p(t.dirtyFields,u),!a.keepTouched&&p(t.touchedFields,u),!a.keepIsValidating&&p(t.validatingFields,u),!s.shouldUnregister&&!a.keepDefaultValue&&p(l,u);_.state.next({values:R(n)}),_.state.next({...t,...a.keepDirty?{isDirty:F()}:{}}),!a.keepIsValid&&N()},je=({disabled:r,name:a})=>{(K(r)&&d.mount||r||c.disabled.has(a))&&(r?c.disabled.add(a):c.disabled.delete(a))},xe=(r,a={})=>{let u=y(i,r);const g=K(a.disabled)||K(s.disabled);return S(i,r,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:r}},name:r,mount:!0,...a}}),c.mount.add(r),u?je({disabled:K(a.disabled)?a.disabled:s.disabled,name:r}):x(r,!0,a.value),{...g?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:fe(a.min),max:fe(a.max),minLength:fe(a.minLength),maxLength:fe(a.maxLength),pattern:fe(a.pattern)}:{},name:r,onChange:oe,onBlur:oe,ref:f=>{if(f){xe(r,a),u=y(i,r);const o=C(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=It(o),D=u._f.refs||[];if(h?D.find(E=>E===o):o===u._f.ref)return;S(i,r,{_f:{...u._f,...h?{refs:[...D.filter(Ee),o,...Array.isArray(y(l,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),x(r,!1,void 0,o)}else u=y(i,r,{}),u._f&&(u._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(ot(c.array,r)&&d.action)&&c.unMount.add(r)}}},Ae=()=>s.shouldFocusError&&ge(i,de,c.mount),Vt=r=>{K(r)&&(_.state.next({disabled:r}),ge(i,(a,u)=>{const g=y(i,u);g&&(a.disabled=g._f.disabled||r,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||r}))},0,!1))},He=(r,a)=>async u=>{let g;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let f=R(n);if(_.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:h}=await re();U(),t.errors=o,f=R(h)}else await J(i);if(c.disabled.size)for(const o of c.disabled)p(f,o);if(p(t.errors,"root"),q(t.errors)){_.state.next({errors:{}});try{await r(f,u)}catch(o){g=o}}else a&&await a({...t.errors},u),Ae(),setTimeout(Ae);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},Ft=(r,a={})=>{y(i,r)&&(C(a.defaultValue)?$(r,R(y(l,r))):($(r,a.defaultValue),S(l,r,R(a.defaultValue))),a.keepTouched||p(t.touchedFields,r),a.keepDirty||(p(t.dirtyFields,r),t.isDirty=a.defaultValue?F(r,R(y(l,r))):F()),a.keepError||(p(t.errors,r),b.isValid&&N()),_.state.next({...t}))},ze=(r,a={})=>{const u=r?R(r):l,g=R(u),f=q(r),o=f?l:g;if(a.keepDefaultValues||(l=u),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...c.mount,...Object.keys(le(l,n))]);for(const D of Array.from(h)){const E=y(t.dirtyFields,D),W=y(n,D),ae=y(o,D);E&&!C(W)?S(o,D,W):!E&&!C(ae)&&$(D,ae)}}else{if(Re&&C(r))for(const h of c.mount){const D=y(i,h);if(D&&D._f){const E=Array.isArray(D._f.refs)?D._f.refs[0]:D._f.ref;if(_e(E)){const W=E.closest("form");if(W){W.reset();break}}}}if(a.keepFieldsRef)for(const h of c.mount)$(h,y(o,h));else i={}}n=s.shouldUnregister?a.keepDefaultValues?R(l):{}:R(o),_.array.next({values:{...o}}),_.state.next({values:{...o}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!b.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!s.shouldUnregister&&!q(o),d.watch=!!s.shouldUnregister,d.keepIsValid=!!a.keepIsValid,d.action=!1,a.keepErrors||(t.errors={}),_.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!Z(r,l)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?le(l,n):t.dirtyFields:a.keepDefaultValues&&r?le(l,r):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},$e=(r,a)=>ze(j(r)?r(n):r,{...s.resetOptions,...a}),xt=(r,a={})=>{const u=y(i,r),g=u&&u._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&setTimeout(()=>{f.focus(),a.shouldSelect&&j(f.select)&&f.select()})}},At=r=>{t={...t,...r}},Ke={control:{register:xe,unregister:Fe,getFieldState:Pe,handleSubmit:He,setError:We,_subscribe:qe,_runSchema:re,_updateIsValidating:U,_focusError:Ae,_getWatch:A,_getDirty:F,_setValid:N,_setFieldArray:m,_setDisabledField:je,_setErrors:V,_getFieldArray:M,_reset:ze,_resetDefaultValues:()=>j(s.defaultValues)&&s.defaultValues().then(r=>{$e(r,s.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:Vt,_subjects:_,_proxyFormState:b,get _fields(){return i},get _formValues(){return n},get _state(){return d},set _state(r){d=r},get _defaultValues(){return l},get _names(){return c},set _names(r){c=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:mt,trigger:ce,register:xe,handleSubmit:He,watch:_t,setValue:$,getValues:Be,reset:$e,resetField:Ft,clearErrors:bt,unregister:Fe,setError:We,setFocus:xt,getFieldState:Pe};return{...Ke,formControl:Ke}}function sr(e={}){const s=v.useRef(void 0),t=v.useRef(void 0),[i,l]=v.useState({isDirty:!1,isValidating:!1,isLoading:j(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:j(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!j(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...c}=Qt(e);s.current={...c,formState:i}}const n=s.current.control;return n._options=e,Me(()=>{const d=n._subscribe({formState:n._proxyFormState,callback:()=>l({...n._formState}),reRenderRoot:!0});return l(c=>({...c,isReady:!0})),n._formState.isReady=!0,d},[n]),v.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),v.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),v.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),v.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),v.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==i.isDirty&&n._subjects.state.next({isDirty:d})}},[n,i.isDirty]),v.useEffect(()=>{var d;e.values&&!Z(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((d=n._options.resetOptions)===null||d===void 0)&&d.keepIsValid||n._setValid(),t.current=e.values,l(c=>({...c}))):n._resetDefaultValues()},[n,e.values]),v.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=dt(i,n),s.current}const Xt=Rt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ir({className:e,loading:s=!1,children:t,disabled:i,variant:l,size:n,asChild:d=!1,...c}){const k=d?Et:"button";return De.jsxs(k,{className:St(Xt({variant:l,size:n,className:e})),disabled:s||i,...c,children:[s&&De.jsx(Ct,{className:"mr-2 h-5 w-5 animate-spin"}),De.jsx(Ot,{children:t})]})}export{rr as C,tr as F,ir as L,Nt as a,Tt as b,sr as c,y as g,S as s,Ue as u};
