{"version":3,"file":"WidgetSelectButton-CAGNsH7-.js","sources":["../../../../../../ComfyUI_frontend/src/renderer/extensions/vueNodes/widgets/components/form/FormSelectButton.vue","../../../../../../ComfyUI_frontend/src/renderer/extensions/vueNodes/widgets/components/WidgetSelectButton.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"\n      cn(\n        WidgetInputBaseClass,\n        'p-1 inline-flex justify-center items-center gap-1'\n      )\n    \"\n  >\n    <button\n      v-for=\"(option, index) in options\"\n      :key=\"getOptionValue(option, index)\"\n      :class=\"\n        cn(\n          'flex-1 h-6 px-5 py-[5px] rounded flex justify-center items-center gap-1 transition-all duration-150 ease-in-out',\n          'bg-transparent border-none',\n          'text-center text-xs font-normal',\n          {\n            'bg-interface-menu-component-surface-selected':\n              isSelected(option) && !disabled,\n            'hover:bg-interface-menu-component-surface-hovered':\n              !isSelected(option) && !disabled,\n            'opacity-50 cursor-not-allowed': disabled,\n            'cursor-pointer': !disabled\n          },\n          isSelected(option) && !disabled ? 'text-primary' : 'text-secondary'\n        )\n      \"\n      :disabled=\"disabled\"\n      @click=\"handleSelect(option)\"\n    >\n      {{ getOptionLabel(option) }}\n    </button>\n  </div>\n</template>\n\n<script\n  setup\n  lang=\"ts\"\n  generic=\"T extends string | number | { label: string; value: any }\"\n>\nimport { cn } from '@/utils/tailwindUtil'\n\nimport { WidgetInputBaseClass } from '../layout'\n\ninterface Props {\n  modelValue: string | null | undefined\n  options: T[]\n  optionLabel?: string // PrimeVue compatible prop\n  optionValue?: string // PrimeVue compatible prop\n  disabled?: boolean\n}\n\ninterface Emits {\n  'update:modelValue': [value: string]\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  disabled: false,\n  optionLabel: 'label',\n  optionValue: 'value'\n})\n\nconst emit = defineEmits<Emits>()\n\n// handle both string/number arrays and object arrays with PrimeVue compatibility\nconst getOptionValue = (option: T, index: number): string => {\n  if (typeof option === 'object' && option !== null) {\n    const valueField = props.optionValue\n    const value =\n      (option as any)[valueField] ??\n      (option as any).value ??\n      (option as any).name ??\n      (option as any).label ??\n      index\n    return String(value)\n  }\n  return String(option)\n}\n\n// for display with PrimeVue compatibility\nconst getOptionLabel = (option: T): string => {\n  if (typeof option === 'object' && option !== null) {\n    const labelField = props.optionLabel\n    return (\n      (option as any)[labelField] ??\n      (option as any).label ??\n      (option as any).name ??\n      (option as any).value ??\n      String(option)\n    )\n  }\n  return String(option)\n}\n\nconst isSelected = (option: T): boolean => {\n  const optionValue = getOptionValue(option, props.options.indexOf(option))\n  return optionValue === String(props.modelValue ?? '')\n}\n\nconst handleSelect = (option: T) => {\n  if (props.disabled) return\n\n  const optionValue = getOptionValue(option, props.options.indexOf(option))\n  emit('update:modelValue', optionValue)\n}\n</script>\n","<template>\n  <WidgetLayoutField :widget=\"widget\">\n    <FormSelectButton\n      v-model=\"localValue\"\n      :options=\"widget.options?.values || []\"\n      class=\"w-full\"\n      @update:model-value=\"onChange\"\n    />\n  </WidgetLayoutField>\n</template>\n\n<script setup lang=\"ts\">\nimport { useStringWidgetValue } from '@/composables/graph/useWidgetValue'\nimport type { SimplifiedWidget } from '@/types/simplifiedWidget'\n\nimport FormSelectButton from './form/FormSelectButton.vue'\nimport WidgetLayoutField from './layout/WidgetLayoutField.vue'\n\nconst props = defineProps<{\n  widget: SimplifiedWidget<string>\n  modelValue: string\n}>()\n\nconst emit = defineEmits<{\n  'update:modelValue': [value: string]\n}>()\n\n// Use the composable for consistent widget value handling\nconst { localValue, onChange } = useStringWidgetValue(\n  props.widget,\n  props.modelValue,\n  emit\n)\n</script>\n"],"names":["props","__props","emit","__emit","getOptionValue","__name","option","index","valueField","value","getOptionLabel","labelField","isSelected","handleSelect","optionValue","localValue","onChange","useStringWidgetValue"],"mappings":"04EAyDA,MAAMA,EAAQC,EAMRC,EAAOC,EAGPC,EAAiBC,EAAA,CAACC,EAAWC,IAA0B,CAC3D,GAAI,OAAOD,GAAW,UAAYA,IAAW,KAAM,CACjD,MAAME,EAAaR,EAAM,YACnBS,EACHH,EAAeE,CAAU,GACzBF,EAAe,OACfA,EAAe,MACfA,EAAe,OAChBC,EACF,OAAO,OAAOE,CAAK,CACrB,CACA,OAAO,OAAOH,CAAM,CAAA,EAXC,kBAejBI,EAAiBL,EAACC,GAAsB,CAC5C,GAAI,OAAOA,GAAW,UAAYA,IAAW,KAAM,CACjD,MAAMK,EAAaX,EAAM,YAEtB,OAAAM,EAAeK,CAAU,GACzBL,EAAe,OACfA,EAAe,MACfA,EAAe,OAChB,OAAOA,CAAM,CAEjB,CACA,OAAO,OAAOA,CAAM,CAAA,EAXC,kBAcjBM,EAAaP,EAACC,GACEF,EAAeE,EAAQN,EAAM,QAAQ,QAAQM,CAAM,CAAC,IACjD,OAAON,EAAM,YAAc,EAAE,EAFnC,cAKba,EAAeR,EAACC,GAAc,CAClC,GAAIN,EAAM,SAAU,OAEpB,MAAMc,EAAcV,EAAeE,EAAQN,EAAM,QAAQ,QAAQM,CAAM,CAAC,EACxEJ,EAAK,oBAAqBY,CAAW,CAAA,EAJlB,wzBClFrB,MAAMd,EAAQC,EAKRC,EAAOC,EAKP,CAAE,WAAAY,EAAY,SAAAC,CAAA,EAAaC,EAC/BjB,EAAM,OACNA,EAAM,WACNE,CAAA"}