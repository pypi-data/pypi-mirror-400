[project]
name = "insitupy-spatial"
version = "0.10.3"
description = "Package introducing the InSituPy framework to analyze single-cell spatial transcriptomics data."
license = {text = "BSD-3-Clause"}
authors = [
    {name = "Johannes Wirth", email = "jwrth <j.wirth@tum.de>"}
]
requires-python = ">=3.10.0,<3.11.0"
readme = "README.md"
dependencies = [
    "scanpy[leiden] (>=1.10.3,<2.0.0)",
    "numpy (>=2.1.3,<3.0.0)",
    "dask (>=2025.3.0,<2025.12.0)",
    # "napari[all]>=0.5.6",
    "dask-image>=2023.8.1",
    "parse>=1.19.1",
    "opencv-python>=4.8.0.76",
    "scikit-image (>=0.21.0,<1.0.0)",
    "geopandas>=1.0.1",
    "fiona>=1.10.1",
    "openpyxl (>=3.1.2,<4.0.0)",
    "pytest>=7.4.2",
    "xmltodict>=0.13.0",
    "zarr (>=2.16.1,<3.0.0)",
    "pyarrow (>=14.0.1,<=21.0.0)", # 22.0.0 causes issues reading cell.parquet
    "fastparquet>=2023.10.1",
    "toml (>=0.10.2,<1.0.0)",
    "plottable==0.1.5",
    "adjusttext (>=1.3.0,<2.0.0)",
    "scikit-misc>=0.3.1",
    "dask-geopandas>=0.4.2",
    "imagecodecs>=2024.12.30",
    "rasterio>=1.4.3",
    "requests",
    "tornado>=6.5.0", # security patch
    "decoupler (>=2.1.1,<3.0.0)"
]

[project.optional-dependencies]
gui = ["napari[all] (>=0.5.6,<0.6.3)"] # starting from 0.6.3 there are some issues with adding annotations in napari

[tool.poetry]
packages =[
    { include = 'insitupy' }
]

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.poetry_bumpversion.file."insitupy/__init__.py"]
search = '__version__ = "{current_version}"'
replace = '__version__ = "{new_version}"'