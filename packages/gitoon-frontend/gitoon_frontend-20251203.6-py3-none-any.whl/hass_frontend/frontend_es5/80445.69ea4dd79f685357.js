"use strict";(self.webpackChunkgitoon_frontend=self.webpackChunkgitoon_frontend||[]).push([["80445"],{60353:function(e,t,o){o.d(t,{u:function(){return r}});var i=o(44734),a=o(43080),r=function(){return(0,a.A)(function e(){var t,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.A)(this,e),this._startY=0,this._delta=0,this._startTime=0,this._lastY=0,this._lastTime=0,this._velocityThreshold=null!==(t=a.velocitySwipeThreshold)&&void 0!==t?t:.5,this._movementTimeThreshold=null!==(o=a.movementTimeThreshold)&&void 0!==o?o:100},[{key:"start",value:function(e){var t=Date.now();this._startY=e,this._startTime=t,this._lastY=e,this._lastTime=t,this._delta=0}},{key:"move",value:function(e){var t=Date.now();return this._delta=this._startY-e,this._lastY=e,this._lastTime=t,this._delta}},{key:"end",value:function(){var e=this.getVelocity(),t=Math.abs(e)>this._velocityThreshold;return{velocity:e,delta:this._delta,isSwipe:t,isDownwardSwipe:e>0}}},{key:"getDelta",value:function(){return this._delta}},{key:"getVelocity",value:function(){if(Date.now()-this._lastTime>=this._movementTimeThreshold)return 0;var e=this._lastTime-this._startTime;return e>0?(this._lastY-this._startY)/e:0}},{key:"reset",value:function(){this._startY=0,this._delta=0,this._startTime=0,this._lastY=0,this._lastTime=0}}])}()},32023:function(e,t,o){var i,a,r=o(72153),l=o(44734),n=o(43080),s=o(69683),d=o(6454),c=o(25460),h=(o(28706),o(40445)),p=o(42034),u=o(36034),v=o(63374),m=o(75640),_=o(91735),b=o(43826),f=o(96196),y=o(77845),g=function(e){function t(){var e;(0,l.A)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=(0,s.A)(this,t,[].concat(i))).noLeadingIcon=!1,e}return(0,d.A)(t,e),(0,n.A)(t,[{key:"renderLeadingIcon",value:function(){return this.noLeadingIcon?(0,f.qy)(i||(i=(0,r.A)([""]))):(0,c.A)(t,"renderLeadingIcon",this,3)([])}}])}(u.$);g.styles=[_.R,p.R,b.R,m.R,v.R,(0,f.AH)(a||(a=(0,r.A)([":host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color);--md-filter-chip-container-shape:16px;--md-filter-chip-outline-color:var(--outline-color);--md-filter-chip-selected-container-color:rgba(\n          var(--rgb-primary-text-color),\n          0.15\n        );--_label-text-font:var(--ha-font-family-body);border-radius:var(--ha-border-radius-md)}"])))],(0,h.__decorate)([(0,y.MZ)({type:Boolean,reflect:!0,attribute:"no-leading-icon"})],g.prototype,"noLeadingIcon",void 0),g=(0,h.__decorate)([(0,y.EM)("ha-filter-chip")],g)},75064:function(e,t,o){var i,a=o(72153),r=o(7739),l=o(43080),n=o(44734),s=o(69683),d=o(6454),c=(o(28706),o(40445)),h=o(96196),p=o(77845),u=o(2846),v=function(e){function t(){var e;(0,n.A)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=(0,s.A)(this,t,[].concat(i))).borderTop=!1,e}return(0,d.A)(t,e),(0,l.A)(t)}(u.G);v.styles=[].concat((0,r.A)(u.J),[(0,h.AH)(i||(i=(0,a.A)([":host{--md-list-item-one-line-container-height:48px;--md-list-item-two-line-container-height:64px}:host([border-top]) md-item{border-top:1px solid var(--divider-color)}[slot=start]{--state-icon-color:var(--secondary-text-color)}[slot=headline]{line-height:var(--ha-line-height-normal);font-size:var(--ha-font-size-m);white-space:nowrap}[slot=supporting-text]{line-height:var(--ha-line-height-normal);font-size:var(--ha-font-size-s);white-space:nowrap}::slotted(img),::slotted(state-badge){width:32px;height:32px}::slotted(.code){font-family:var(--ha-font-family-code);font-size:var(--ha-font-size-xs)}::slotted(.domain){font-size:var(--ha-font-size-s);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-normal);align-self:flex-end;max-width:30%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"])))]),(0,c.__decorate)([(0,p.MZ)({type:Boolean,reflect:!0,attribute:"border-top"})],v.prototype,"borderTop",void 0),v=(0,c.__decorate)([(0,p.EM)("ha-combo-box-item")],v)},38508:function(e,t,o){o.a(e,async function(e,t){try{var i,a,r,l,n,s,d,c,h,p=o(61397),u=o(50264),v=o(72153),m=o(44734),_=o(43080),b=o(69683),f=o(6454),y=o(25460),g=(o(28706),o(69085),o(40445)),x=o(61366),w=o(96196),A=o(77845),k=o(32288),I=o(57947),M=o(1087),z=o(99611),L=o(18350),Z=(o(75064),o(3449),o(49639),o(88285),o(67094),e([x,z,L]));[x,z,L]=Z.then?(await Z)():Z;var S=function(e){function t(){var e;(0,m.A)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=(0,b.A)(this,t,[].concat(i))).disabled=!1,e.required=!1,e.hideClearIcon=!1,e.popoverPlacement="bottom-start",e._opened=!1,e._pickerWrapperOpen=!1,e._popoverWidth=0,e._openedNarrow=!1,e._narrow=!1,e._dialogOpened=function(){e._opened=!0,requestAnimationFrame(function(){var t;null===(t=e._comboBox)||void 0===t||t.focus()})},e._handleResize=function(){var t;(e._narrow=window.matchMedia("(max-width: 870px)").matches||window.matchMedia("(max-height: 500px)").matches,!e._openedNarrow&&e._pickerWrapperOpen)&&(e._popoverWidth=(null===(t=e._containerElement)||void 0===t?void 0:t.offsetWidth)||250)},e._handleEscClose=function(e){e.stopPropagation()},e}return(0,f.A)(t,e),(0,_.A)(t,[{key:"render",value:function(){return(0,w.qy)(i||(i=(0,v.A)([" ",' <div class="container"> <div id="picker"> <slot name="field"> '," </slot> </div> "," </div> "," "])),this.label?(0,w.qy)(a||(a=(0,v.A)(['<label ?disabled="','">',"</label>"])),this.disabled,this.label):w.s6,this.addButtonLabel&&!this.value?(0,w.qy)(r||(r=(0,v.A)(['<ha-button size="small" appearance="filled" @click="','" .disabled="','"> <ha-svg-icon .path="','" slot="start"></ha-svg-icon> '," </ha-button>"])),this.open,this.disabled,"M3 16H10V14H3M18 14V10H16V14H12V16H16V20H18V16H22V14M14 6H3V8H14M14 10H3V12H14V10Z",this.addButtonLabel):(0,w.qy)(l||(l=(0,v.A)(['<ha-picker-field type="button" class="','" compact="compact" aria-label="','" @click="','" @clear="','" .placeholder="','" .value="','" .required="','" .disabled="','" .hideClearIcon="','" .valueRenderer="','"> </ha-picker-field>'])),this._opened?"opened":"",(0,k.J)(this.label),this.open,this._clear,this.placeholder,this.value,this.required,this.disabled,this.hideClearIcon,this.valueRenderer),this._openedNarrow||!this._pickerWrapperOpen&&!this._opened?this._pickerWrapperOpen||this._opened?(0,w.qy)(s||(s=(0,v.A)(['<ha-bottom-sheet flexcontent .open="','" @wa-after-show="','" @closed="','" role="dialog" aria-modal="true" aria-label="','"> '," </ha-bottom-sheet>"])),this._pickerWrapperOpen,this._dialogOpened,this._hidePicker,this.label||"Select option",this._renderComboBox(!0)):w.s6:(0,w.qy)(n||(n=(0,v.A)([' <wa-popover .open="','" style="--body-width:','px" without-arrow distance="-4" .placement="','" for="picker" auto-size="vertical" auto-size-padding="16" @wa-after-show="','" @wa-after-hide="','" trap-focus role="dialog" aria-modal="true" aria-label="','"> '," </wa-popover> "])),this._pickerWrapperOpen,this._popoverWidth,this.popoverPlacement,this._dialogOpened,this._hidePicker,this.label||"Select option",this._renderComboBox()),this._renderHelper())}},{key:"_renderComboBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._opened?(0,w.qy)(d||(d=(0,v.A)([' <ha-picker-combo-box .hass="','" .allowCustomValue="','" .label="','" .value="','" @value-changed="','" .rowRenderer="','" .notFoundLabel="','" .emptyLabel="','" .getItems="','" .getAdditionalItems="','" .searchFn="','" .mode="','" .sections="','" .sectionTitleFunction="','" .selectedSection="','"></ha-picker-combo-box> '])),this.hass,this.allowCustomValue,this.searchLabel,this.value,this._valueChanged,this.rowRenderer,this.notFoundLabel,this.emptyLabel,this.getItems,this.getAdditionalItems,this.searchFn,e?"dialog":"popover",this.sections,this.sectionTitleFunction,this.selectedSection):w.s6}},{key:"_renderHelper",value:function(){return this.helper?(0,w.qy)(c||(c=(0,v.A)(['<ha-input-helper-text .disabled="','">',"</ha-input-helper-text>"])),this.disabled,this.helper):w.s6}},{key:"_hidePicker",value:function(e){var t;e.stopPropagation(),this._newValue&&((0,M.r)(this,"value-changed",{value:this._newValue}),this._newValue=void 0),this._opened=!1,this._pickerWrapperOpen=!1,null===(t=this._unsubscribeTinyKeys)||void 0===t||t.call(this)}},{key:"_valueChanged",value:function(e){e.stopPropagation();var t=e.detail.value;t&&(this._pickerWrapperOpen=!1,this._newValue=t)}},{key:"_clear",value:function(e){e.stopPropagation(),this._setValue(void 0)}},{key:"_setValue",value:function(e){this.value=e,(0,M.r)(this,"value-changed",{value:e})}},{key:"open",value:(o=(0,u.A)((0,p.A)().m(function e(t){var o;return(0,p.A)().w(function(e){for(;;)switch(e.n){case 0:if(null==t||t.stopPropagation(),!this.disabled){e.n=1;break}return e.a(2);case 1:this._openedNarrow=this._narrow,this._popoverWidth=(null===(o=this._containerElement)||void 0===o?void 0:o.offsetWidth)||250,this._pickerWrapperOpen=!0,this._unsubscribeTinyKeys=(0,I.Tc)(this,{Escape:this._handleEscClose});case 2:return e.a(2)}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"connectedCallback",value:function(){(0,y.A)(t,"connectedCallback",this,3)([]),this._handleResize(),window.addEventListener("resize",this._handleResize)}},{key:"disconnectedCallback",value:function(){var e;(0,y.A)(t,"disconnectedCallback",this,3)([]),window.removeEventListener("resize",this._handleResize),null===(e=this._unsubscribeTinyKeys)||void 0===e||e.call(this)}}],[{key:"styles",get:function(){return[(0,w.AH)(h||(h=(0,v.A)([".container{position:relative;display:block}label[disabled]{color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}label{display:block;margin:0 0 8px}ha-input-helper-text{display:block;margin:var(--ha-space-2) 0 0}wa-popover{--wa-space-l:var(--ha-space-0)}wa-popover::part(body){width:max(var(--body-width),250px);max-width:var(--ha-generic-picker-max-width,max(var(--body-width),250px));max-height:500px;height:70vh;overflow:hidden}@media (max-height:1000px){wa-popover::part(body){max-height:400px}}@media (max-height:1000px){wa-popover::part(body){max-height:400px}}ha-bottom-sheet{--ha-bottom-sheet-height:90vh;--ha-bottom-sheet-height:calc(100dvh - var(--ha-space-12));--ha-bottom-sheet-max-height:var(--ha-bottom-sheet-height);--ha-bottom-sheet-max-width:600px;--ha-bottom-sheet-padding:var(--ha-space-0);--ha-bottom-sheet-surface-background:var(--card-background-color);--ha-bottom-sheet-border-radius:var(--ha-border-radius-2xl)}ha-picker-field.opened{--mdc-text-field-idle-line-color:var(--primary-color)}"])))]}}]);var o}(w.WF);S.shadowRootOptions=Object.assign(Object.assign({},w.WF.shadowRootOptions),{},{delegatesFocus:!0}),(0,g.__decorate)([(0,A.MZ)({attribute:!1})],S.prototype,"hass",void 0),(0,g.__decorate)([(0,A.MZ)({type:Boolean})],S.prototype,"disabled",void 0),(0,g.__decorate)([(0,A.MZ)({type:Boolean})],S.prototype,"required",void 0),(0,g.__decorate)([(0,A.MZ)({type:Boolean,attribute:"allow-custom-value"})],S.prototype,"allowCustomValue",void 0),(0,g.__decorate)([(0,A.MZ)()],S.prototype,"label",void 0),(0,g.__decorate)([(0,A.MZ)()],S.prototype,"value",void 0),(0,g.__decorate)([(0,A.MZ)()],S.prototype,"helper",void 0),(0,g.__decorate)([(0,A.MZ)()],S.prototype,"placeholder",void 0),(0,g.__decorate)([(0,A.MZ)({type:String,attribute:"search-label"})],S.prototype,"searchLabel",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:"hide-clear-icon",type:Boolean})],S.prototype,"hideClearIcon",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:!1})],S.prototype,"getItems",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:!1,type:Array})],S.prototype,"getAdditionalItems",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:!1})],S.prototype,"rowRenderer",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:!1})],S.prototype,"valueRenderer",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:!1})],S.prototype,"searchFn",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:!1})],S.prototype,"notFoundLabel",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:"empty-label"})],S.prototype,"emptyLabel",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:"popover-placement"})],S.prototype,"popoverPlacement",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:"add-button-label"})],S.prototype,"addButtonLabel",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:!1})],S.prototype,"sections",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:!1})],S.prototype,"sectionTitleFunction",void 0),(0,g.__decorate)([(0,A.MZ)({attribute:"selected-section"})],S.prototype,"selectedSection",void 0),(0,g.__decorate)([(0,A.P)(".container")],S.prototype,"_containerElement",void 0),(0,g.__decorate)([(0,A.P)("ha-picker-combo-box")],S.prototype,"_comboBox",void 0),(0,g.__decorate)([(0,A.wk)()],S.prototype,"_opened",void 0),(0,g.__decorate)([(0,A.wk)()],S.prototype,"_pickerWrapperOpen",void 0),(0,g.__decorate)([(0,A.wk)()],S.prototype,"_popoverWidth",void 0),(0,g.__decorate)([(0,A.wk)()],S.prototype,"_openedNarrow",void 0),S=(0,g.__decorate)([(0,A.EM)("ha-generic-picker")],S),t()}catch(T){t(T)}})},3449:function(e,t,o){var i,a,r=o(72153),l=o(44734),n=o(43080),s=o(69683),d=o(6454),c=(o(28706),o(40445)),h=o(96196),p=o(77845),u=function(e){function t(){var e;(0,l.A)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=(0,s.A)(this,t,[].concat(i))).disabled=!1,e}return(0,d.A)(t,e),(0,n.A)(t,[{key:"render",value:function(){return(0,h.qy)(i||(i=(0,r.A)(["<slot></slot>"])))}}])}(h.WF);u.styles=(0,h.AH)(a||(a=(0,r.A)([":host{display:block;color:var(--mdc-text-field-label-ink-color,rgba(0,0,0,.6));font-size:.75rem;padding-left:16px;padding-right:16px;padding-inline-start:16px;padding-inline-end:16px;letter-spacing:var(\n        --mdc-typography-caption-letter-spacing,\n        .0333333333em\n      );line-height:normal}:host([disabled]){color:var(--mdc-text-field-disabled-ink-color,rgba(0,0,0,.6))}"]))),(0,c.__decorate)([(0,p.MZ)({type:Boolean,reflect:!0})],u.prototype,"disabled",void 0),u=(0,c.__decorate)([(0,p.EM)("ha-input-helper-text")],u)},49639:function(e,t,o){var i,a,r,l,n,s,d,c,h,p,u,v,m,_,b=o(7739),f=o(44734),y=o(43080),g=o(75864),x=o(69683),w=o(6454),A=o(25460),k=o(72153),I=(o(28706),o(62062),o(44114),o(26910),o(18111),o(61701),o(69085),o(26099),o(42762),o(40445)),M=o(78648),z=o(96196),L=o(77845),Z=o(22786),S=o(57947),T=o(1087),q=o(52220),C=o(76552),E=o(14503),F=o(85614),H=(o(5745),o(32023),o(75064),o(88945),o(75709),"___no_items_available___"),V=function(e){return(0,z.qy)(i||(i=(0,k.A)([' <ha-combo-box-item type="button" compact="compact"> ',' <span slot="headline">',"</span> "," </ha-combo-box-item> "])),e.icon?(0,z.qy)(a||(a=(0,k.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),e.icon):e.icon_path?(0,z.qy)(r||(r=(0,k.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),e.icon_path):z.s6,e.primary,e.secondary?(0,z.qy)(l||(l=(0,k.A)(['<span slot="supporting-text">',"</span>"])),e.secondary):z.s6)},P=function(e){function t(){var e;(0,f.A)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=(0,x.A)(this,t,[].concat(i))).autofocus=!1,e.disabled=!1,e.required=!1,e._listScrolled=!1,e.mode="popover",e._items=[],e._allItems=[],e._selectedItemIndex=-1,e._search="",e._getAdditionalItems=function(t){var o,i;return(null===(o=(i=e).getAdditionalItems)||void 0===o?void 0:o.call(i,t))||[]},e._getItems=function(){var t,o,i=(0,b.A)(e.getItems?e.getItems(e._search,e.selectedSection):[]);null!==(t=e.sections)&&void 0!==t&&t.length||(i=i.sort(function(t,o){var i,a;return(0,q.SH)(t.sorting_label,o.sorting_label,null!==(i=null===(a=e.hass)||void 0===a?void 0:a.locale.language)&&void 0!==i?i:navigator.language)})),i.length||i.push(H);var a=e._getAdditionalItems();return(o=i).push.apply(o,(0,b.A)(a)),"dialog"===e.mode&&i.push("padding"),i},e._renderItem=function(t,o){if("padding"===t)return(0,z.qy)(n||(n=(0,k.A)(['<div class="bottom-padding"></div>'])));var i,a;if(t===H)return(0,z.qy)(s||(s=(0,k.A)([' <div class="combo-box-row"> <ha-combo-box-item type="text" compact="compact"> <ha-svg-icon slot="start" .path="','"></ha-svg-icon> <span slot="headline">',"</span> </ha-combo-box-item> </div> "])),e._search?"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z":"M19,19V5H5V19H19M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5C3,3.89 3.9,3 5,3H19M17,11V13H7V11H17Z",e._search?"function"==typeof e.notFoundLabel?e.notFoundLabel(e._search):e.notFoundLabel||(null===(i=e.hass)||void 0===i?void 0:i.localize("ui.components.combo-box.no_match"))||"No matching items found":e.emptyLabel||(null===(a=e.hass)||void 0===a?void 0:a.localize("ui.components.combo-box.no_items"))||"No items available");if("string"==typeof t)return(0,z.qy)(d||(d=(0,k.A)(['<div class="title">',"</div>"])),t);var r=e.rowRenderer||V;return(0,z.qy)(c||(c=(0,k.A)(['<div id="','" class="combo-box-row ','" .value="','" .index="','" @click="','"> '," </div>"])),"list-item-".concat(o),e._value===t.id?"current-value":"",t.id,o,e._valueSelected,r(t,o))},e._valueSelected=function(t){t.stopPropagation();var o=t.currentTarget.value,i=null==o?void 0:o.trim();(0,T.r)((0,g.A)(e),"value-changed",{value:i})},e._fuseIndex=(0,Z.A)(function(e){return M.A.createIndex(["search_labels"],e)}),e._filterChanged=function(t){var o,i=t.target.value.trim();if(e._search=i,null!==(o=e.sections)&&void 0!==o&&o.length)e._items=e._getItems();else{if(!i)return void(e._items=e._allItems);var a=e._fuseIndex(e._allItems),r=new C.b(e._allItems,{shouldSort:!1,minMatchCharLength:Math.min(i.length,2)},a).multiTermsSearch(i),l=(0,b.A)(e._allItems);if(r){var n=r.map(function(e){return e.item});n.length||l.push(H);var s=e._getAdditionalItems();n.push.apply(n,(0,b.A)(s)),l=n}e.searchFn&&(l=e.searchFn(i,l,e._allItems)),e._items=l}e._selectedItemIndex=-1,e._virtualizerElement&&e._virtualizerElement.scrollTo(0,0)},e._selectNextItem=function(t){var o;if(null==t||t.stopPropagation(),null==t||t.preventDefault(),e._virtualizerElement){null===(o=e._searchFieldElement)||void 0===o||o.focus();var i=e._virtualizerElement.items,a=i.length-1;if(-1!==a){var r=a===e._selectedItemIndex?e._selectedItemIndex:e._selectedItemIndex+1;if(i[r]){if("string"==typeof i[r]){if(r===a)return;e._selectedItemIndex=r+1}else e._selectedItemIndex=r;e._scrollToSelectedItem()}}else e._resetSelectedItem()}},e._selectPreviousItem=function(t){if(t.stopPropagation(),t.preventDefault(),e._virtualizerElement&&e._selectedItemIndex>0){var o=e._selectedItemIndex-1,i=e._virtualizerElement.items;if(!i[o])return;if("string"==typeof i[o]){if(0===o)return;e._selectedItemIndex=o-1}else e._selectedItemIndex=o;e._scrollToSelectedItem()}},e._selectFirstItem=function(t){if(t.stopPropagation(),e._virtualizerElement&&e._virtualizerElement.items.length){"string"==typeof e._virtualizerElement.items[0]?e._selectedItemIndex=1:e._selectedItemIndex=0,e._scrollToSelectedItem()}},e._selectLastItem=function(t){if(t.stopPropagation(),e._virtualizerElement&&e._virtualizerElement.items.length){var o=e._virtualizerElement.items.length-1;"string"==typeof e._virtualizerElement.items[o]?e._selectedItemIndex=o-1:e._selectedItemIndex=o,e._scrollToSelectedItem()}},e._scrollToSelectedItem=function(){var t,o;null===(t=e._virtualizerElement)||void 0===t||null===(t=t.querySelector(".selected"))||void 0===t||t.classList.remove("selected"),null===(o=e._virtualizerElement)||void 0===o||o.scrollToIndex(e._selectedItemIndex,"end"),requestAnimationFrame(function(){var t;null===(t=e._virtualizerElement)||void 0===t||null===(t=t.querySelector("#list-item-".concat(e._selectedItemIndex)))||void 0===t||t.classList.add("selected")})},e._pickSelectedItem=function(t){var o,i,a;t.stopPropagation();var r=null===(o=e._virtualizerElement)||void 0===o?void 0:o.items[0];if(1===(null===(i=e._virtualizerElement)||void 0===i?void 0:i.items.length)&&(0,T.r)((0,g.A)(e),"value-changed",{value:r.id}),-1!==e._selectedItemIndex){t.preventDefault();var l=null===(a=e._virtualizerElement)||void 0===a?void 0:a.items[e._selectedItemIndex];l&&(0,T.r)((0,g.A)(e),"value-changed",{value:l.id})}},e._keyFunction=function(e){return"string"==typeof e?e:e.id},e}return(0,w.A)(t,e),(0,y.A)(t,[{key:"firstUpdated",value:function(){this._registerKeyboardShortcuts()}},{key:"willUpdate",value:function(){this.hasUpdated||((0,F.i)(),this._allItems=this._getItems(),this._items=this._allItems)}},{key:"disconnectedCallback",value:function(){var e;(0,A.A)(t,"disconnectedCallback",this,3)([]),null===(e=this._removeKeyboardShortcuts)||void 0===e||e.call(this)}},{key:"render",value:function(){var e,t,o,i;return(0,z.qy)(h||(h=(0,k.A)(['<ha-textfield .label="','" @input="','"></ha-textfield> '," ",' <lit-virtualizer .keyFunction="','" tabindex="0" scroller .items="','" .renderItem="','" style="min-height:36px" class="','" @scroll="','" @focus="','" @visibilityChanged="','"> </lit-virtualizer>'])),null!==(e=null!==(t=this.label)&&void 0!==t?t:null===(o=this.hass)||void 0===o?void 0:o.localize("ui.common.search"))&&void 0!==e?e:"Search",this._filterChanged,this._renderSectionButtons(),null!==(i=this.sections)&&void 0!==i&&i.length?(0,z.qy)(p||(p=(0,k.A)([' <div class="section-title-wrapper"> <div class="section-title ','"> '," </div> </div> "])),!this.selectedSection&&this._sectionTitle?"show":"",this._sectionTitle):z.s6,this._keyFunction,this._items,this._renderItem,this._listScrolled?"scrolled":"",this._onScrollList,this._focusList,this._visibilityChanged)}},{key:"_renderSectionButtons",value:function(){var e=this;return this.sections&&0!==this.sections.length?(0,z.qy)(u||(u=(0,k.A)([' <ha-chip-set class="sections"> '," </ha-chip-set> "])),this.sections.map(function(t){return"separator"===t?(0,z.qy)(v||(v=(0,k.A)(['<div class="separator"></div>']))):(0,z.qy)(m||(m=(0,k.A)(['<ha-filter-chip @click="','" .section-id="','" .selected="','" .label="','"> </ha-filter-chip>'])),e._toggleSection,t.id,e.selectedSection===t.id,t.label)})):z.s6}},{key:"_visibilityChanged",value:function(e){var t;if(this._virtualizerElement&&this.sectionTitleFunction&&null!==(t=this.sections)&&void 0!==t&&t.length){var o=this._virtualizerElement.items[e.first],i=this._virtualizerElement.items[e.first+1];this._sectionTitle=this.sectionTitleFunction({firstIndex:e.first,lastIndex:e.last,firstItem:o,secondItem:i,itemsCount:this._virtualizerElement.items.length})}}},{key:"_onScrollList",value:function(e){var t,o=null!==(t=e.target.scrollTop)&&void 0!==t?t:0;this._listScrolled=o>0}},{key:"_value",get:function(){return this.value||""}},{key:"_toggleSection",value:function(e){e.stopPropagation(),this._resetSelectedItem(),this._sectionTitle=void 0;var t=e.target["section-id"];t&&(this.selectedSection===t?this.selectedSection=void 0:this.selectedSection=t,this._items=this._getItems(),this._virtualizerElement&&this._virtualizerElement.scrollToIndex(0))}},{key:"_registerKeyboardShortcuts",value:function(){this._removeKeyboardShortcuts=(0,S.Tc)(this,{ArrowUp:this._selectPreviousItem,ArrowDown:this._selectNextItem,Home:this._selectFirstItem,End:this._selectLastItem,Enter:this._pickSelectedItem})}},{key:"_focusList",value:function(){-1===this._selectedItemIndex&&this._selectNextItem()}},{key:"_resetSelectedItem",value:function(){var e;null===(e=this._virtualizerElement)||void 0===e||null===(e=e.querySelector(".selected"))||void 0===e||e.classList.remove("selected"),this._selectedItemIndex=-1}}])}(z.WF);P.shadowRootOptions=Object.assign(Object.assign({},z.WF.shadowRootOptions),{},{delegatesFocus:!0}),P.styles=[E.dp,(0,z.AH)(_||(_=(0,k.A)([":host{display:flex;flex-direction:column;padding-top:var(--ha-space-3);flex:1}ha-textfield{padding:0 var(--ha-space-3);margin-bottom:var(--ha-space-3)}:host([mode=dialog]) ha-textfield{padding:0 var(--ha-space-4)}ha-combo-box-item{width:100%}ha-combo-box-item.selected{background-color:var(--ha-color-fill-neutral-quiet-hover)}@media (prefers-color-scheme:dark){ha-combo-box-item.selected{background-color:var(--ha-color-fill-neutral-normal-hover)}}lit-virtualizer{flex:1}lit-virtualizer:focus-visible{outline:0}lit-virtualizer.scrolled{border-top:1px solid var(--ha-color-border-neutral-quiet)}.bottom-padding{height:max(var(--safe-area-inset-bottom,0px),var(--ha-space-8));width:100%}.empty{text-align:center}.combo-box-row{display:flex;width:100%;align-items:center;box-sizing:border-box;min-height:36px}.combo-box-row.current-value{background-color:var(--ha-color-fill-primary-quiet-resting)}.combo-box-row.selected{background-color:var(--ha-color-fill-neutral-quiet-hover)}@media (prefers-color-scheme:dark){.combo-box-row.selected{background-color:var(--ha-color-fill-neutral-normal-hover)}}.sections{display:flex;flex-wrap:nowrap;gap:var(--ha-space-2);padding:var(--ha-space-3) var(--ha-space-3);overflow:auto}:host([mode=dialog]) .sections{padding:var(--ha-space-3) var(--ha-space-4)}.sections ha-filter-chip{flex-shrink:0;--md-filter-chip-selected-container-color:var(--ha-color-fill-primary-normal-hover);color:var(--primary-color)}.sections .separator{height:var(--ha-space-8);width:0;border:1px solid var(--ha-color-border-neutral-quiet)}.section-title,.title{background-color:var(--ha-color-fill-neutral-quiet-resting);padding:var(--ha-space-1) var(--ha-space-2);font-weight:var(--ha-font-weight-bold);color:var(--secondary-text-color);min-height:var(--ha-space-6);display:flex;align-items:center}.title{width:100%}:host([mode=dialog]) .title{padding:var(--ha-space-1) var(--ha-space-4)}:host([mode=dialog]) ha-textfield{padding:0 var(--ha-space-4)}.section-title-wrapper{height:0;position:relative}.section-title{opacity:0;position:absolute;top:1px;width:calc(100% - var(--ha-space-8))}.section-title.show{opacity:1;z-index:1}.empty-search{display:flex;width:100%;flex-direction:column;align-items:center;padding:var(--ha-space-3)}"])))],(0,I.__decorate)([(0,L.MZ)({attribute:!1})],P.prototype,"hass",void 0),(0,I.__decorate)([(0,L.MZ)({type:Boolean})],P.prototype,"autofocus",void 0),(0,I.__decorate)([(0,L.MZ)({type:Boolean})],P.prototype,"disabled",void 0),(0,I.__decorate)([(0,L.MZ)({type:Boolean})],P.prototype,"required",void 0),(0,I.__decorate)([(0,L.MZ)({type:Boolean,attribute:"allow-custom-value"})],P.prototype,"allowCustomValue",void 0),(0,I.__decorate)([(0,L.MZ)()],P.prototype,"label",void 0),(0,I.__decorate)([(0,L.MZ)()],P.prototype,"value",void 0),(0,I.__decorate)([(0,L.wk)()],P.prototype,"_listScrolled",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:!1})],P.prototype,"getItems",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:!1,type:Array})],P.prototype,"getAdditionalItems",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:!1})],P.prototype,"rowRenderer",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:!1})],P.prototype,"notFoundLabel",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:"empty-label"})],P.prototype,"emptyLabel",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:!1})],P.prototype,"searchFn",void 0),(0,I.__decorate)([(0,L.MZ)({reflect:!0})],P.prototype,"mode",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:!1})],P.prototype,"sections",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:!1})],P.prototype,"sectionTitleFunction",void 0),(0,I.__decorate)([(0,L.MZ)({attribute:"selected-section"})],P.prototype,"selectedSection",void 0),(0,I.__decorate)([(0,L.P)("lit-virtualizer")],P.prototype,"_virtualizerElement",void 0),(0,I.__decorate)([(0,L.P)("ha-textfield")],P.prototype,"_searchFieldElement",void 0),(0,I.__decorate)([(0,L.wk)()],P.prototype,"_items",void 0),(0,I.__decorate)([(0,L.wk)()],P.prototype,"_sectionTitle",void 0),(0,I.__decorate)([(0,L.Ls)({passive:!0})],P.prototype,"_visibilityChanged",null),(0,I.__decorate)([(0,L.Ls)({passive:!0})],P.prototype,"_onScrollList",null),P=(0,I.__decorate)([(0,L.EM)("ha-picker-combo-box")],P)},88285:function(e,t,o){var i,a,r,l,n,s=o(72153),d=o(61397),c=o(50264),h=o(44734),p=o(43080),u=o(69683),v=o(6454),m=(o(28706),o(40445)),_=o(96196),b=o(77845),f=o(1087),y=(o(75064),o(26300),function(e){function t(){var e;(0,h.A)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=(0,u.A)(this,t,[].concat(i))).disabled=!1,e.required=!1,e.hideClearIcon=!1,e}return(0,v.A)(t,e),(0,p.A)(t,[{key:"focus",value:(o=(0,c.A)((0,d.A)().m(function e(){var t;return(0,d.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:return e.n=2,null===(t=this.item)||void 0===t?void 0:t.focus();case 2:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"render",value:function(){var e=!(!this.value||this.required||this.disabled||this.hideClearIcon);return(0,_.qy)(i||(i=(0,s.A)([' <ha-combo-box-item .disabled="','" type="button" compact="compact"> '," ",' <ha-svg-icon class="arrow" slot="end" .path="','"></ha-svg-icon> </ha-combo-box-item> '])),this.disabled,this.value?this.valueRenderer?this.valueRenderer(this.value):(0,_.qy)(a||(a=(0,s.A)(['<slot name="headline">',"</slot>"])),this.value):(0,_.qy)(r||(r=(0,s.A)([' <span slot="headline" class="placeholder"> '," </span> "])),this.placeholder),e?(0,_.qy)(l||(l=(0,s.A)([' <ha-icon-button class="clear" slot="end" @click="','" .path="','"></ha-icon-button> '])),this._clear,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):_.s6,"M7,10L12,15L17,10H7Z")}},{key:"_clear",value:function(e){e.stopPropagation(),(0,f.r)(this,"clear")}}],[{key:"styles",get:function(){return[(0,_.AH)(n||(n=(0,s.A)(['ha-combo-box-item[disabled]{background-color:var(--mdc-text-field-disabled-fill-color,#f5f5f5)}ha-combo-box-item{background-color:var(--mdc-text-field-fill-color,#f5f5f5);border-radius:var(--ha-border-radius-sm);border-end-end-radius:0;border-end-start-radius:0;--md-list-item-one-line-container-height:56px;--md-list-item-two-line-container-height:56px;--md-list-item-top-space:0px;--md-list-item-bottom-space:0px;--md-list-item-leading-space:8px;--md-list-item-trailing-space:8px;--ha-md-list-item-gap:var(--ha-space-2);--md-focus-ring-width:0px;--md-focus-ring-duration:0s}ha-combo-box-item[disabled]:after{background-color:var(--mdc-text-field-disabled-line-color,rgba(0,0,0,.42))}ha-combo-box-item:after{display:block;content:"";position:absolute;pointer-events:none;bottom:0;left:0;right:0;height:1px;width:100%;background-color:var(--mdc-text-field-idle-line-color,rgba(0,0,0,.42));transform:height 180ms ease-in-out,background-color 180ms ease-in-out}ha-combo-box-item:focus:after{height:2px;background-color:var(--mdc-theme-primary)}.clear{margin:0 -8px;--mdc-icon-button-size:32px;--mdc-icon-size:20px}.arrow{--mdc-icon-size:20px;width:32px}.placeholder{color:var(--secondary-text-color);padding:0 8px}'])))]}}]);var o}(_.WF));(0,m.__decorate)([(0,b.MZ)({type:Boolean})],y.prototype,"disabled",void 0),(0,m.__decorate)([(0,b.MZ)({type:Boolean})],y.prototype,"required",void 0),(0,m.__decorate)([(0,b.MZ)()],y.prototype,"value",void 0),(0,m.__decorate)([(0,b.MZ)()],y.prototype,"helper",void 0),(0,m.__decorate)([(0,b.MZ)()],y.prototype,"placeholder",void 0),(0,m.__decorate)([(0,b.MZ)({attribute:"hide-clear-icon",type:Boolean})],y.prototype,"hideClearIcon",void 0),(0,m.__decorate)([(0,b.MZ)({attribute:!1})],y.prototype,"valueRenderer",void 0),(0,m.__decorate)([(0,b.P)("ha-combo-box-item",!0)],y.prototype,"item",void 0),y=(0,m.__decorate)([(0,b.EM)("ha-picker-field")],y)},76552:function(e,t,o){o.d(t,{b:function(){return d}});var i=o(44734),a=o(43080),r=o(69683),l=o(6454),n=(o(2008),o(23792),o(62062),o(18111),o(22489),o(61701),o(69085),o(26099),o(27495),o(5746),o(62953),o(78648)),s={ignoreDiacritics:!0,isCaseSensitive:!1,threshold:.3,minMatchCharLength:2},d=function(e){function t(e,o,a){(0,i.A)(this,t);var l=Object.assign(Object.assign({},s),o);return(0,r.A)(this,t,[e,l,a])}return(0,l.A)(t,e),(0,a.A)(t,[{key:"multiTermsSearch",value:function(e,t){var o=e.toLowerCase().split(" "),i=this.options.minMatchCharLength,a=i?o.filter(function(e){return e.length>=i}):o;if(0===a.length)return null;var r=this.getIndex().toJSON().keys,l={$and:a.map(function(e){return{$or:r.map(function(t){return{$path:t.path,$val:e}})}})};return this.search(l,t)}}])}(n.A)}}]);
//# sourceMappingURL=80445.69ea4dd79f685357.js.map