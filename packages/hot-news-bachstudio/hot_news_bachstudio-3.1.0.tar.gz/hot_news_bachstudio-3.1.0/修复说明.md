# ğŸ”§ v3.0.1 ä¿®å¤è¯´æ˜

## é—®é¢˜æè¿°

åœ¨ä½¿ç”¨ `uvx` è¿è¡Œæ—¶å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š

```
Child stderr: <coroutine object main at 0x7f8556d98e50>
Child stderr: sys:1: RuntimeWarning: coroutine 'main' was never awaited
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
Child exited: code=1, signal=null
```

## é—®é¢˜åŸå› 

åœ¨ `pyproject.toml` ä¸­é…ç½®çš„å…¥å£ç‚¹ï¼š

```toml
[project.scripts]
hot-news-bachstudio = "hot_news_bachstudio.server:main"
```

ç›´æ¥æŒ‡å‘äº†ä¸€ä¸ªå¼‚æ­¥å‡½æ•° `async def main()`ï¼Œå¯¼è‡´åç¨‹æ— æ³•è¢«æ­£ç¡®æ‰§è¡Œã€‚

## è§£å†³æ–¹æ¡ˆ

### ä¿®æ”¹å‰

```python
async def main():
    """ä¸»å‡½æ•°"""
    try:
        async with mcp.server.stdio.stdio_server() as (read_stream, write_stream):
            logger.info("è¶…çº§ä»Šæ—¥çƒ­ç‚¹ MCP æœåŠ¡å™¨å¯åŠ¨ä¸­...")
            await app.run(
                read_stream,
                write_stream,
                app.create_initialization_options()
            )
    finally:
        await api.close()

if __name__ == "__main__":
    asyncio.run(main())
```

### ä¿®æ”¹å

```python
async def async_main():
    """å¼‚æ­¥ä¸»å‡½æ•°"""
    try:
        async with mcp.server.stdio.stdio_server() as (read_stream, write_stream):
            logger.info("è¶…çº§ä»Šæ—¥çƒ­ç‚¹ MCP æœåŠ¡å™¨å¯åŠ¨ä¸­...")
            await app.run(
                read_stream,
                write_stream,
                app.create_initialization_options()
            )
    finally:
        await api.close()

def main():
    """åŒæ­¥å…¥å£ç‚¹ï¼Œä¾›å‘½ä»¤è¡Œè°ƒç”¨"""
    asyncio.run(async_main())

if __name__ == "__main__":
    main()
```

## ä¿®æ”¹å†…å®¹

1. âœ… å°†åŸæ¥çš„ `async def main()` é‡å‘½åä¸º `async_main()`
2. âœ… åˆ›å»ºæ–°çš„åŒæ­¥å‡½æ•° `def main()` ä½œä¸ºå…¥å£ç‚¹
3. âœ… åœ¨ `main()` ä¸­è°ƒç”¨ `asyncio.run(async_main())`
4. âœ… æ›´æ–°ç‰ˆæœ¬å·ä¸º 3.0.1

## ç‰ˆæœ¬æ›´æ–°

- **v3.0.0**: åˆå§‹å‘å¸ƒç‰ˆæœ¬ï¼ˆå­˜åœ¨åç¨‹å…¥å£ç‚¹é—®é¢˜ï¼‰
- **v3.0.1**: ä¿®å¤åç¨‹å…¥å£ç‚¹é—®é¢˜ âœ…

## éªŒè¯æ–¹æ³•

### ä½¿ç”¨ uvx æµ‹è¯•

```bash
uvx hot-news-bachstudio-test
```

åº”è¯¥èƒ½æ­£å¸¸è¿è¡Œï¼Œä¸å†å‡ºç°åç¨‹è­¦å‘Šã€‚

### Claude Desktop é…ç½®

```json
{
  "mcpServers": {
    "hot-news": {
      "command": "uvx",
      "args": ["hot-news-bachstudio"]
    }
  }
}
```

é‡å¯ Claude Desktop ååº”è¯¥èƒ½æ­£å¸¸å·¥ä½œã€‚

## å‘å¸ƒä¿¡æ¯

- âœ… **PyPI**: https://pypi.org/project/hot-news-bachstudio/3.0.1/
- âœ… **GitHub**: https://github.com/BACH-AI-Tools/hot-news-bachstudio
- âœ… **ç‰ˆæœ¬**: v3.0.1
- âœ… **å‘å¸ƒæ—¶é—´**: 2026-01-07

## ä½¿ç”¨è¯´æ˜

### æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬

ä½¿ç”¨ uvxï¼ˆæ¨èï¼‰ï¼š
```bash
# uvx ä¼šè‡ªåŠ¨ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
uvx hot-news-bachstudio-test
```

ä½¿ç”¨ pipï¼š
```bash
pip install --upgrade hot-news-bachstudio
```

### éªŒè¯ç‰ˆæœ¬

```python
import hot_news_bachstudio
print(hot_news_bachstudio.__version__)  # åº”è¯¥æ˜¾ç¤º 3.0.1
```

æˆ–ä½¿ç”¨å‘½ä»¤è¡Œï¼š
```bash
pip show hot-news-bachstudio
```

## å½±å“èŒƒå›´

æ­¤ä¿®å¤å½±å“æ‰€æœ‰ä½¿ç”¨å‘½ä»¤è¡Œå…¥å£ç‚¹çš„åœºæ™¯ï¼ŒåŒ…æ‹¬ï¼š
- âœ… uvx ç›´æ¥è¿è¡Œ
- âœ… ç›´æ¥å‘½ä»¤è¡Œè°ƒç”¨ `hot-news-bachstudio`
- âœ… Claude Desktop MCP é…ç½®
- âœ… è„šæœ¬ä¸­è°ƒç”¨

ä¸å½±å“ï¼š
- âœ… Python æ¨¡å—æ–¹å¼å¯¼å…¥ï¼ˆ`from hot_news_bachstudio import HotNewsAPI`ï¼‰
- âœ… ä½œä¸ºåº“ä½¿ç”¨çš„åœºæ™¯

## æŠ€æœ¯ç»†èŠ‚

### ä¸ºä»€ä¹ˆéœ€è¦åŒæ­¥å…¥å£ç‚¹ï¼Ÿ

MCP æœåŠ¡å™¨å’Œå‘½ä»¤è¡Œå·¥å…·çš„å…¥å£ç‚¹å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°ï¼Œå› ä¸ºï¼š

1. **setuptools/pip çš„é™åˆ¶**: å…¥å£ç‚¹è„šæœ¬ç”Ÿæˆå™¨ä¸æ”¯æŒå¼‚æ­¥å‡½æ•°
2. **å‘½ä»¤è¡Œæ‰§è¡Œç¯å¢ƒ**: shell è°ƒç”¨çš„æ˜¯æ™®é€šå‡½æ•°ï¼Œä¸æ˜¯åç¨‹
3. **è·¨å¹³å°å…¼å®¹æ€§**: åŒæ­¥å…¥å£ç‚¹åœ¨æ‰€æœ‰å¹³å°éƒ½èƒ½æ­£å¸¸å·¥ä½œ

### asyncio.run() çš„ä½œç”¨

```python
def main():
    asyncio.run(async_main())
```

`asyncio.run()` çš„ä½œç”¨ï¼š
- åˆ›å»ºæ–°çš„äº‹ä»¶å¾ªç¯
- è¿è¡Œå¼‚æ­¥å‡½æ•°ç›´åˆ°å®Œæˆ
- æ¸…ç†äº‹ä»¶å¾ªç¯
- é€‚åˆä½œä¸ºå¼‚æ­¥ç¨‹åºçš„ä¸»å…¥å£

## ç›¸å…³é“¾æ¥

- PyPI: https://pypi.org/project/hot-news-bachstudio/
- GitHub: https://github.com/BACH-AI-Tools/hot-news-bachstudio
- Issues: https://github.com/BACH-AI-Tools/hot-news-bachstudio/issues

---

**é—®é¢˜å·²ä¿®å¤ï¼Œè¯·æ›´æ–°åˆ° v3.0.1ï¼** ğŸ‰

