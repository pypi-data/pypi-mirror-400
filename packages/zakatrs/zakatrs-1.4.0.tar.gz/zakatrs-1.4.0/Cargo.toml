# Zakat Workspace - Cargo Workspace Root
# This file defines the workspace structure for the modular Zakat library.

[workspace]
resolver = "2"
members = ["zakat", "zakat-core", "zakat-i18n", "zakat-ledger", "zakat-providers"]

[workspace.package]
version = "1.4.0"
edition = "2024"
license = "MIT"
authors = ["Mohammad Farid Hendianto (IRedDragonICY)"]
repository = "https://github.com/IRedDragonICY/zakatrs"

[workspace.dependencies]
# Internal crates (path for local dev, version for crates.io)
zakat-core = { version = "1.4.0", path = "zakat-core" }
zakat-i18n = { version = "1.4.0", path = "zakat-i18n" }
zakat-ledger = { version = "1.4.0", path = "zakat-ledger" }
zakat-providers = { version = "1.4.0", path = "zakat-providers" }
zakat-sqlite = { version = "1.4.0", path = "zakat-sqlite" }
zakat-cli = { version = "1.4.0", path = "zakat-cli" }

# Common dependencies
rust_decimal = { version = "1.39", features = ["serde"] }
rust_decimal_macros = "1.39"
serde = { version = "1.0.228", features = ["derive"] }
serde_json = "1.0.148"
thiserror = "2.0.17"
uuid = { version = "1.19.0", features = ["v4", "serde", "js"] }
chrono = { version = "0.4.38", features = ["serde"] }
strum = { version = "0.27", features = ["derive"] }
schemars = { version = "0.8", features = ["uuid1", "rust_decimal", "chrono"] }
typeshare = "1.0"
tracing = "0.1.44"
paste = "1.0"

# Async dependencies
async-trait = "0.1.89"
tokio = { version = "1.49.0" }
futures = "0.3.31"

# i18n dependencies
fluent = "0.17.0"
fluent-bundle = "0.15.2"
intl-memoizer = "0.5.1"
unic-langid = "0.9.1"
rust-embed = "8.0.0"
icu = { version = "1.5", features = ["serde", "compiled_data", "experimental"] }
fixed_decimal = "0.5"
writeable = "0.5"

# Provider dependencies
reqwest = { version = "0.12", features = ["json", "rustls-tls"] }

# SQLite dependencies
sqlx = { version = "0.8", features = ["runtime-tokio", "sqlite"] }

# FFI dependencies
uniffi = { version = "0.28.3", features = ["cli"] }
wasm-bindgen = "0.2.106"
serde-wasm-bindgen = "0.6.5"
tsify = "0.4.5"
console_error_panic_hook = "0.1"
pyo3 = { version = "0.27.2", features = ["extension-module"] }
once_cell = "1.18.0"
getrandom = { version = "0.2", features = ["js"] }

[profile.release]
opt-level = "z"
lto = true
codegen-units = 1
panic = "abort"
strip = true


